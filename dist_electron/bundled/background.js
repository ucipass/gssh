!function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=72)}([function(e,t){e.exports=require("fs")},function(e,t,r){"use strict";var n=r(9),i=r(47),o=r(22),s=r(86),a=r(17);function h(e){return e}function f(e,t){for(var r=0;r<e.length;++r)t[r]=255&e.charCodeAt(r);return t}t.newBlob=function(e,r){t.checkSupport("blob");try{return new Blob([e],{type:r})}catch(t){try{var n=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return n.append(e),n.getBlob(r)}catch(e){throw new Error("Bug : can't construct the Blob.")}}};var c={stringifyByChunk:function(e,t,r){var n=[],i=0,o=e.length;if(o<=r)return String.fromCharCode.apply(null,e);for(;i<o;)"array"===t||"nodebuffer"===t?n.push(String.fromCharCode.apply(null,e.slice(i,Math.min(i+r,o)))):n.push(String.fromCharCode.apply(null,e.subarray(i,Math.min(i+r,o)))),i+=r;return n.join("")},stringifyByChar:function(e){for(var t="",r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},applyCanBeUsed:{uint8array:function(){try{return n.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){return!1}}(),nodebuffer:function(){try{return n.nodebuffer&&1===String.fromCharCode.apply(null,o.allocBuffer(1)).length}catch(e){return!1}}()}};function u(e){var r=65536,n=t.getTypeOf(e),i=!0;if("uint8array"===n?i=c.applyCanBeUsed.uint8array:"nodebuffer"===n&&(i=c.applyCanBeUsed.nodebuffer),i)for(;r>1;)try{return c.stringifyByChunk(e,n,r)}catch(e){r=Math.floor(r/2)}return c.stringifyByChar(e)}function l(e,t){for(var r=0;r<e.length;r++)t[r]=e[r];return t}t.applyFromCharCode=u;var d={};d.string={string:h,array:function(e){return f(e,new Array(e.length))},arraybuffer:function(e){return d.string.uint8array(e).buffer},uint8array:function(e){return f(e,new Uint8Array(e.length))},nodebuffer:function(e){return f(e,o.allocBuffer(e.length))}},d.array={string:u,array:h,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return o.newBufferFrom(e)}},d.arraybuffer={string:function(e){return u(new Uint8Array(e))},array:function(e){return l(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:h,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return o.newBufferFrom(new Uint8Array(e))}},d.uint8array={string:u,array:function(e){return l(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:h,nodebuffer:function(e){return o.newBufferFrom(e)}},d.nodebuffer={string:u,array:function(e){return l(e,new Array(e.length))},arraybuffer:function(e){return d.nodebuffer.uint8array(e).buffer},uint8array:function(e){return l(e,new Uint8Array(e.length))},nodebuffer:h},t.transformTo=function(e,r){if(r||(r=""),!e)return r;t.checkSupport(e);var n=t.getTypeOf(r);return d[n][e](r)},t.getTypeOf=function(e){return"string"==typeof e?"string":"[object Array]"===Object.prototype.toString.call(e)?"array":n.nodebuffer&&o.isBuffer(e)?"nodebuffer":n.uint8array&&e instanceof Uint8Array?"uint8array":n.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},t.checkSupport=function(e){if(!n[e.toLowerCase()])throw new Error(e+" is not supported by this platform")},t.MAX_VALUE_16BITS=65535,t.MAX_VALUE_32BITS=-1,t.pretty=function(e){var t,r,n="";for(r=0;r<(e||"").length;r++)n+="\\x"+((t=e.charCodeAt(r))<16?"0":"")+t.toString(16).toUpperCase();return n},t.delay=function(e,t,r){s(function(){e.apply(r||null,t||[])})},t.inherits=function(e,t){var r=function(){};r.prototype=t.prototype,e.prototype=new r},t.extend=function(){var e,t,r={};for(e=0;e<arguments.length;e++)for(t in arguments[e])arguments[e].hasOwnProperty(t)&&void 0===r[t]&&(r[t]=arguments[e][t]);return r},t.prepareContent=function(e,r,o,s,h){return a.Promise.resolve(r).then(function(e){return n.blob&&(e instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(e)))&&"undefined"!=typeof FileReader?new a.Promise(function(t,r){var n=new FileReader;n.onload=function(e){t(e.target.result)},n.onerror=function(e){r(e.target.error)},n.readAsArrayBuffer(e)}):e}).then(function(r){var c,u=t.getTypeOf(r);return u?("arraybuffer"===u?r=t.transformTo("uint8array",r):"string"===u&&(h?r=i.decode(r):o&&!0!==s&&(r=f(c=r,n.uint8array?new Uint8Array(c.length):new Array(c.length)))),r):a.Promise.reject(new Error("Can't read the data of '"+e+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},function(e,t){e.exports=require("electron")},function(e,t){e.exports=require("path")},function(e,t){e.exports=require("util")},function(e,t,r){"use strict";function n(e){this.name=e||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}n.prototype={push:function(e){this.emit("data",e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit("error",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit("error",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,t){return this._listeners[e].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,t){if(this._listeners[e])for(var r=0;r<this._listeners[e].length;r++)this._listeners[e][r].call(this,t)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on("data",function(e){t.processChunk(e)}),e.on("end",function(){t.end()}),e.on("error",function(e){t.error(e)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var e=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e="Worker "+this.name;return this.previous?this.previous+" -> "+e:e}},e.exports=n},function(e,t){e.exports=require("stream")},function(e,t,r){var n=r(65).Ber,i=r(11).readUInt32BE,o=r(11).writeUInt32BE,s=1/0;function a(e,t,r,n,o,a){r&&!Buffer.isBuffer(r)&&"string"!=typeof r&&("number"==typeof o&&(a=o),o=n,n=r,r=void 0),t||(t=0);var h,f,c=e.length,u=c-t;return t<0||t>=c||u<4?(n&&n._cleanup(o),!1):(h=i(e,t))>(a||s)||u<4+h?(n&&n._cleanup(o),!1):(f=(t+=4)+h,e._pos=f,r?Buffer.isBuffer(r)?(e.copy(r,0,t,f),r):e.toString(r,t,f):e.slice(t,f))}e.exports={iv_inc:function(e){var t=12,r=0;do{if(255!==(r=e[--t]))return void(e[t]=++r);e[t]=0}while(t>4)},readInt:function(e,t,r,n){var o=e.length;return t<0||t>=o||o-t<4?(r&&r._cleanup(n),!1):i(e,t)},readString:a,parseKey:r(67).parseKey,sigSSHToASN1:function(e,t,r,i){var o;switch(t){case"ssh-dss":if(e.length>40)return e;(o=new n.Writer).startSequence();var s=e.slice(0,20),h=e.slice(20);if(128&s[0]){var f=Buffer.allocUnsafe(21);f[0]=0,s.copy(f,1),s=f}else 0!==s[0]||128&s[1]||(s=s.slice(1));if(128&h[0]){var c=Buffer.allocUnsafe(21);c[0]=0,h.copy(c,1),h=c}else 0!==h[0]||128&h[1]||(h=h.slice(1));return o.writeBuffer(s,n.Integer),o.writeBuffer(h,n.Integer),o.endSequence(),o.buffer;case"ecdsa-sha2-nistp256":case"ecdsa-sha2-nistp384":case"ecdsa-sha2-nistp521":return!1!==(s=a(e,0,r,i))&&(!1!==(h=a(e,e._pos,r,i))&&((o=new n.Writer).startSequence(),o.writeBuffer(s,n.Integer),o.writeBuffer(h,n.Integer),o.endSequence(),o.buffer));default:return e}},DSASigBERToBare:function(e){if(e.length<=40)return e;var t=new n.Reader(e);t.readSequence();var r=t.readString(n.Integer,!0),i=t.readString(n.Integer,!0),o=0,s=0;if(r.length<20){var a=Buffer.allocUnsafe(20);r.copy(a,1),(r=a)[0]=0}if(i.length<20){var h=Buffer.allocUnsafe(20);i.copy(h,1),(i=h)[0]=0}r.length>20&&0===r[0]&&(o=1),i.length>20&&0===i[0]&&(s=1);var f=Buffer.allocUnsafe(r.length-o+(i.length-s));return r.copy(f,0,o),i.copy(f,r.length-o,s),f},ECDSASigASN1ToSSH:function(e){if(0===e[0])return e;var t=new n.Reader(e);t.readSequence();var r=t.readString(n.Integer,!0),i=t.readString(n.Integer,!0);if(null===r||null===i)return!1;var s=Buffer.allocUnsafe(4+r.length+4+i.length);return o(s,r.length,0),r.copy(s,4),o(s,i.length,4+r.length),i.copy(s,8+r.length),s}}},function(e,t){e.exports=require("events")},function(e,t,r){"use strict";if(t.base64=!0,t.array=!0,t.string=!0,t.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,t.nodebuffer="undefined"!=typeof Buffer,t.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)t.blob=!1;else{var n=new ArrayBuffer(0);try{t.blob=0===new Blob([n],{type:"application/zip"}).size}catch(e){try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);i.append(n),t.blob=0===i.getBlob("application/zip").size}catch(e){t.blob=!1}}}try{t.nodestream=!!r(39).Readable}catch(e){t.nodestream=!1}},function(e,t,r){"use strict";var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var r=t.shift();if(r){if("object"!=typeof r)throw new TypeError(r+"must be non-object");for(var n in r)i(r,n)&&(e[n]=r[n])}}return e},t.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var o={arraySet:function(e,t,r,n,i){if(t.subarray&&e.subarray)e.set(t.subarray(r,r+n),i);else for(var o=0;o<n;o++)e[i+o]=t[r+o]},flattenChunks:function(e){var t,r,n,i,o,s;for(n=0,t=0,r=e.length;t<r;t++)n+=e[t].length;for(s=new Uint8Array(n),i=0,t=0,r=e.length;t<r;t++)o=e[t],s.set(o,i),i+=o.length;return s}},s={arraySet:function(e,t,r,n,i){for(var o=0;o<n;o++)e[i+o]=t[r+o]},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,o)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,s))},t.setTyped(n)},function(e,t){e.exports={readUInt32BE:function(e,t){return 16777216*e[t++]+65536*e[t++]+256*e[t++]+e[t]},writeUInt32BE:function(e,t,r){return e[r++]=t>>>24,e[r++]=t>>>16,e[r++]=t>>>8,e[r++]=t,r},writeUInt32LE:function(e,t,r){return e[r++]=t,e[r++]=t>>>8,e[r++]=t>>>16,e[r++]=t>>>24,r}}},function(e,t,r){try{var n=r(4);if("function"!=typeof n.inherits)throw"";e.exports=n.inherits}catch(t){e.exports=r(77)}},function(e,t,r){"use strict";for(var n=r(1),i=r(9),o=r(22),s=r(5),a=new Array(256),h=0;h<256;h++)a[h]=h>=252?6:h>=248?5:h>=240?4:h>=224?3:h>=192?2:1;function f(){s.call(this,"utf-8 decode"),this.leftOver=null}function c(){s.call(this,"utf-8 encode")}a[254]=a[254]=1,t.utf8encode=function(e){return i.nodebuffer?o.newBufferFrom(e,"utf-8"):function(e){var t,r,n,o,s,a=e.length,h=0;for(o=0;o<a;o++)55296==(64512&(r=e.charCodeAt(o)))&&o+1<a&&56320==(64512&(n=e.charCodeAt(o+1)))&&(r=65536+(r-55296<<10)+(n-56320),o++),h+=r<128?1:r<2048?2:r<65536?3:4;for(t=i.uint8array?new Uint8Array(h):new Array(h),s=0,o=0;s<h;o++)55296==(64512&(r=e.charCodeAt(o)))&&o+1<a&&56320==(64512&(n=e.charCodeAt(o+1)))&&(r=65536+(r-55296<<10)+(n-56320),o++),r<128?t[s++]=r:r<2048?(t[s++]=192|r>>>6,t[s++]=128|63&r):r<65536?(t[s++]=224|r>>>12,t[s++]=128|r>>>6&63,t[s++]=128|63&r):(t[s++]=240|r>>>18,t[s++]=128|r>>>12&63,t[s++]=128|r>>>6&63,t[s++]=128|63&r);return t}(e)},t.utf8decode=function(e){return i.nodebuffer?n.transformTo("nodebuffer",e).toString("utf-8"):function(e){var t,r,i,o,s=e.length,h=new Array(2*s);for(r=0,t=0;t<s;)if((i=e[t++])<128)h[r++]=i;else if((o=a[i])>4)h[r++]=65533,t+=o-1;else{for(i&=2===o?31:3===o?15:7;o>1&&t<s;)i=i<<6|63&e[t++],o--;o>1?h[r++]=65533:i<65536?h[r++]=i:(i-=65536,h[r++]=55296|i>>10&1023,h[r++]=56320|1023&i)}return h.length!==r&&(h.subarray?h=h.subarray(0,r):h.length=r),n.applyFromCharCode(h)}(e=n.transformTo(i.uint8array?"uint8array":"array",e))},n.inherits(f,s),f.prototype.processChunk=function(e){var r=n.transformTo(i.uint8array?"uint8array":"array",e.data);if(this.leftOver&&this.leftOver.length){if(i.uint8array){var o=r;(r=new Uint8Array(o.length+this.leftOver.length)).set(this.leftOver,0),r.set(o,this.leftOver.length)}else r=this.leftOver.concat(r);this.leftOver=null}var s=function(e,t){var r;for((t=t||e.length)>e.length&&(t=e.length),r=t-1;r>=0&&128==(192&e[r]);)r--;return r<0?t:0===r?t:r+a[e[r]]>t?r:t}(r),h=r;s!==r.length&&(i.uint8array?(h=r.subarray(0,s),this.leftOver=r.subarray(s,r.length)):(h=r.slice(0,s),this.leftOver=r.slice(s,r.length))),this.push({data:t.utf8decode(h),meta:e.meta})},f.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:t.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},t.Utf8DecodeWorker=f,n.inherits(c,s),c.prototype.processChunk=function(e){this.push({data:t.utf8encode(e.data),meta:e.meta})},t.Utf8EncodeWorker=c},function(e,t,r){"use strict";var n=r(20),i=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=u;var o=r(16);o.inherits=r(12);var s=r(40),a=r(44);o.inherits(u,s);for(var h=i(a.prototype),f=0;f<h.length;f++){var c=h[f];u.prototype[c]||(u.prototype[c]=a.prototype[c])}function u(e){if(!(this instanceof u))return new u(e);s.call(this,e),a.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",l)}function l(){this.allowHalfOpen||this._writableState.ended||n.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),u.prototype._destroy=function(e,t){this.push(null),this.end(),n.nextTick(t,e)}},function(e,t){e.exports=require("assert")},function(e,t){function r(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===r(e)},t.isBoolean=function(e){return"boolean"==typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===r(e)},t.isObject=function(e){return"object"==typeof e&&null!==e},t.isDate=function(e){return"[object Date]"===r(e)},t.isError=function(e){return"[object Error]"===r(e)||e instanceof Error},t.isFunction=function(e){return"function"==typeof e},t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=Buffer.isBuffer},function(e,t,r){"use strict";var n;n="undefined"!=typeof Promise?Promise:r(87),e.exports={Promise:n}},function(e,t){e.exports=require("crypto")},function(e,t){e.exports={readUInt32BE:function(e,t){return 16777216*e[t++]+65536*e[t++]+256*e[t++]+e[t]},writeUInt32BE:function(e,t,r){return e[r++]=t>>>24,e[r++]=t>>>16,e[r++]=t>>>8,e[r++]=t,r},writeUInt32LE:function(e,t,r){return e[r++]=t,e[r++]=t>>>8,e[r++]=t>>>16,e[r++]=t>>>24,r}}},function(e,t,r){"use strict";"undefined"==typeof process||!process.version||0===process.version.indexOf("v0.")||0===process.version.indexOf("v1.")&&0!==process.version.indexOf("v1.8.")?e.exports={nextTick:function(e,t,r,n){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var i,o,s=arguments.length;switch(s){case 0:case 1:return process.nextTick(e);case 2:return process.nextTick(function(){e.call(null,t)});case 3:return process.nextTick(function(){e.call(null,t,r)});case 4:return process.nextTick(function(){e.call(null,t,r,n)});default:for(i=new Array(s-1),o=0;o<i.length;)i[o++]=arguments[o];return process.nextTick(function(){e.apply(null,i)})}}}:e.exports=process},function(e,t,r){var n=r(42),i=n.Buffer;function o(e,t){for(var r in e)t[r]=e[r]}function s(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(o(n,t),t.Buffer=s),o(i,s),s.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},s.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},s.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},s.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},function(e,t,r){"use strict";e.exports={isNode:"undefined"!=typeof Buffer,newBufferFrom:function(e,t){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(e,t);if("number"==typeof e)throw new Error('The "data" argument must not be a number');return new Buffer(e,t)},allocBuffer:function(e){if(Buffer.alloc)return Buffer.alloc(e);var t=new Buffer(e);return t.fill(0),t},isBuffer:function(e){return Buffer.isBuffer(e)},isStream:function(e){return e&&"function"==typeof e.on&&"function"==typeof e.pause&&"function"==typeof e.resume}}},function(e,t,r){e.exports=l,l.Minimatch=d;var n={sep:"/"};try{n=r(3)}catch(e){}var i=l.GLOBSTAR=d.GLOBSTAR={},o=r(74),s={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},a="[^/]",h=a+"*?",f="().*{}+?[]^$\\!".split("").reduce(function(e,t){return e[t]=!0,e},{}),c=/\/+/;function u(e,t){e=e||{},t=t||{};var r={};return Object.keys(t).forEach(function(e){r[e]=t[e]}),Object.keys(e).forEach(function(t){r[t]=e[t]}),r}function l(e,t,r){if("string"!=typeof t)throw new TypeError("glob pattern string required");return r||(r={}),!(!r.nocomment&&"#"===t.charAt(0))&&(""===t.trim()?""===e:new d(t,r).match(e))}function d(e,t){if(!(this instanceof d))return new d(e,t);if("string"!=typeof e)throw new TypeError("glob pattern string required");t||(t={}),e=e.trim(),"/"!==n.sep&&(e=e.split(n.sep).join("/")),this.options=t,this.set=[],this.pattern=e,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.make()}function p(e,t){if(t||(t=this instanceof d?this.options:{}),void 0===(e=void 0===e?this.pattern:e))throw new TypeError("undefined pattern");return t.nobrace||!e.match(/\{.*\}/)?[e]:o(e)}l.filter=function(e,t){return t=t||{},function(r,n,i){return l(r,e,t)}},l.defaults=function(e){if(!e||!Object.keys(e).length)return l;var t=l,r=function(r,n,i){return t.minimatch(r,n,u(e,i))};return r.Minimatch=function(r,n){return new t.Minimatch(r,u(e,n))},r},d.defaults=function(e){return e&&Object.keys(e).length?l.defaults(e).Minimatch:d},d.prototype.debug=function(){},d.prototype.make=function(){if(!this._made){var e=this.pattern,t=this.options;if(t.nocomment||"#"!==e.charAt(0))if(e){this.parseNegate();var r=this.globSet=this.braceExpand();t.debug&&(this.debug=console.error),this.debug(this.pattern,r),r=this.globParts=r.map(function(e){return e.split(c)}),this.debug(this.pattern,r),r=r.map(function(e,t,r){return e.map(this.parse,this)},this),this.debug(this.pattern,r),r=r.filter(function(e){return-1===e.indexOf(!1)}),this.debug(this.pattern,r),this.set=r}else this.empty=!0;else this.comment=!0}},d.prototype.parseNegate=function(){var e=this.pattern,t=!1,r=0;if(!this.options.nonegate){for(var n=0,i=e.length;n<i&&"!"===e.charAt(n);n++)t=!t,r++;r&&(this.pattern=e.substr(r)),this.negate=t}},l.braceExpand=function(e,t){return p(e,t)},d.prototype.braceExpand=p,d.prototype.parse=function(e,t){if(e.length>65536)throw new TypeError("pattern is too long");var r=this.options;if(!r.noglobstar&&"**"===e)return i;if(""===e)return"";var n,o="",c=!!r.nocase,u=!1,l=[],d=[],p=!1,m=-1,v=-1,y="."===e.charAt(0)?"":r.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",_=this;function E(){if(n){switch(n){case"*":o+=h,c=!0;break;case"?":o+=a,c=!0;break;default:o+="\\"+n}_.debug("clearStateChar %j %j",n,o),n=!1}}for(var b,w=0,S=e.length;w<S&&(b=e.charAt(w));w++)if(this.debug("%s\t%s %s %j",e,w,o,b),u&&f[b])o+="\\"+b,u=!1;else switch(b){case"/":return!1;case"\\":E(),u=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",e,w,o,b),p){this.debug("  in class"),"!"===b&&w===v+1&&(b="^"),o+=b;continue}_.debug("call clearStateChar %j",n),E(),n=b,r.noext&&E();continue;case"(":if(p){o+="(";continue}if(!n){o+="\\(";continue}l.push({type:n,start:w-1,reStart:o.length,open:s[n].open,close:s[n].close}),o+="!"===n?"(?:(?!(?:":"(?:",this.debug("plType %j %j",n,o),n=!1;continue;case")":if(p||!l.length){o+="\\)";continue}E(),c=!0;var k=l.pop();o+=k.close,"!"===k.type&&d.push(k),k.reEnd=o.length;continue;case"|":if(p||!l.length||u){o+="\\|",u=!1;continue}E(),o+="|";continue;case"[":if(E(),p){o+="\\"+b;continue}p=!0,v=w,m=o.length,o+=b;continue;case"]":if(w===v+1||!p){o+="\\"+b,u=!1;continue}if(p){var A=e.substring(v+1,w);try{RegExp("["+A+"]")}catch(e){var T=this.parse(A,g);o=o.substr(0,m)+"\\["+T[0]+"\\]",c=c||T[1],p=!1;continue}}c=!0,p=!1,o+=b;continue;default:E(),u?u=!1:!f[b]||"^"===b&&p||(o+="\\"),o+=b}for(p&&(A=e.substr(v+1),T=this.parse(A,g),o=o.substr(0,m)+"\\["+T[0],c=c||T[1]),k=l.pop();k;k=l.pop()){var B=o.slice(k.reStart+k.open.length);this.debug("setting tail",o,k),B=B.replace(/((?:\\{2}){0,64})(\\?)\|/g,function(e,t,r){return r||(r="\\"),t+t+r+"|"}),this.debug("tail=%j\n   %s",B,B,k,o);var O="*"===k.type?h:"?"===k.type?a:"\\"+k.type;c=!0,o=o.slice(0,k.reStart)+O+"\\("+B}E(),u&&(o+="\\\\");var N=!1;switch(o.charAt(0)){case".":case"[":case"(":N=!0}for(var R=d.length-1;R>-1;R--){var C=d[R],U=o.slice(0,C.reStart),x=o.slice(C.reStart,C.reEnd-8),I=o.slice(C.reEnd-8,C.reEnd),D=o.slice(C.reEnd);I+=D;var L=U.split("(").length-1,P=D;for(w=0;w<L;w++)P=P.replace(/\)[+*?]?/,"");var H="";""===(D=P)&&t!==g&&(H="$"),o=U+x+D+H+I}if(""!==o&&c&&(o="(?=.)"+o),N&&(o=y+o),t===g)return[o,c];if(!c)return function(e){return e.replace(/\\(.)/g,"$1")}(e);var M=r.nocase?"i":"";try{var F=new RegExp("^"+o+"$",M)}catch(e){return new RegExp("$.")}return F._glob=e,F._src=o,F};var g={};l.makeRe=function(e,t){return new d(e,t||{}).makeRe()},d.prototype.makeRe=function(){if(this.regexp||!1===this.regexp)return this.regexp;var e=this.set;if(!e.length)return this.regexp=!1,this.regexp;var t=this.options,r=t.noglobstar?h:t.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",n=t.nocase?"i":"",o=e.map(function(e){return e.map(function(e){return e===i?r:"string"==typeof e?function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}(e):e._src}).join("\\/")}).join("|");o="^(?:"+o+")$",this.negate&&(o="^(?!"+o+").*$");try{this.regexp=new RegExp(o,n)}catch(e){this.regexp=!1}return this.regexp},l.match=function(e,t,r){var n=new d(t,r=r||{});return e=e.filter(function(e){return n.match(e)}),n.options.nonull&&!e.length&&e.push(t),e},d.prototype.match=function(e,t){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return""===e;if("/"===e&&t)return!0;var r=this.options;"/"!==n.sep&&(e=e.split(n.sep).join("/")),e=e.split(c),this.debug(this.pattern,"split",e);var i,o,s=this.set;for(this.debug(this.pattern,"set",s),o=e.length-1;o>=0&&!(i=e[o]);o--);for(o=0;o<s.length;o++){var a=s[o],h=e;if(r.matchBase&&1===a.length&&(h=[i]),this.matchOne(h,a,t))return!!r.flipNegate||!this.negate}return!r.flipNegate&&this.negate},d.prototype.matchOne=function(e,t,r){var n=this.options;this.debug("matchOne",{this:this,file:e,pattern:t}),this.debug("matchOne",e.length,t.length);for(var o=0,s=0,a=e.length,h=t.length;o<a&&s<h;o++,s++){this.debug("matchOne loop");var f,c=t[s],u=e[o];if(this.debug(t,c,u),!1===c)return!1;if(c===i){this.debug("GLOBSTAR",[t,c,u]);var l=o,d=s+1;if(d===h){for(this.debug("** at the end");o<a;o++)if("."===e[o]||".."===e[o]||!n.dot&&"."===e[o].charAt(0))return!1;return!0}for(;l<a;){var p=e[l];if(this.debug("\nglobstar while",e,l,t,d,p),this.matchOne(e.slice(l),t.slice(d),r))return this.debug("globstar found match!",l,a,p),!0;if("."===p||".."===p||!n.dot&&"."===p.charAt(0)){this.debug("dot detected!",e,l,t,d);break}this.debug("globstar swallow a segment, and continue"),l++}return!(!r||(this.debug("\n>>> no match, partial?",e,l,t,d),l!==a))}if("string"==typeof c?(f=n.nocase?u.toLowerCase()===c.toLowerCase():u===c,this.debug("string match",c,u,f)):(f=u.match(c),this.debug("pattern match",c,u,f)),!f)return!1}if(o===a&&s===h)return!0;if(o===a)return r;if(s===h)return o===a-1&&""===e[o];throw new Error("wtf?")}},function(e,t,r){"use strict";function n(e){return"/"===e.charAt(0)}function i(e){var t=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/.exec(e),r=t[1]||"",n=Boolean(r&&":"!==r.charAt(1));return Boolean(t[2]||n)}e.exports="win32"===process.platform?i:n,e.exports.posix=n,e.exports.win32=i},function(e,t,r){"use strict";var n=r(17),i=r(50),o=r(51),s=r(52);function a(e,t,r,n,i){this.compressedSize=e,this.uncompressedSize=t,this.crc32=r,this.compression=n,this.compressedContent=i}o=r(51),a.prototype={getContentWorker:function(){var e=new i(n.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new o("data_length")),t=this;return e.on("end",function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),e},getCompressedWorker:function(){return new i(n.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},a.createWorkerFrom=function(e,t,r){return e.pipe(new s).pipe(new o("uncompressedSize")).pipe(t.compressWorker(r)).pipe(new o("compressedSize")).withStreamInfo("compression",t)},e.exports=a},function(e,t,r){"use strict";var n=r(1),i=function(){for(var e,t=[],r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t}();e.exports=function(e,t){return void 0!==e&&e.length?"string"!==n.getTypeOf(e)?function(e,t,r,n){var o=i,s=0+r;e^=-1;for(var a=0;a<s;a++)e=e>>>8^o[255&(e^t[a])];return-1^e}(0|t,e,e.length):function(e,t,r,n){var o=i,s=0+r;e^=-1;for(var a=0;a<s;a++)e=e>>>8^o[255&(e^t.charCodeAt(a))];return-1^e}(0|t,e,e.length):0}},function(e,t,r){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(e,t){e.exports=require("net")},function(e,t,r){e.exports={SFTPStream:r(115),SSH2Stream:r(122),utils:r(7),constants:r(32)}},function(e,t){e.exports={newInvalidAsn1Error:function(e){var t=new Error;return t.name="InvalidAsn1Error",t.message=e||"",t}}},function(e,t){e.exports={EOC:0,Boolean:1,Integer:2,BitString:3,OctetString:4,Null:5,OID:6,ObjectDescriptor:7,External:8,Real:9,Enumeration:10,PDV:11,Utf8String:12,RelativeOID:13,Sequence:16,Set:17,NumericString:18,PrintableString:19,T61String:20,VideotexString:21,IA5String:22,UTCTime:23,GeneralizedTime:24,GraphicString:25,VisibleString:26,GeneralString:28,UniversalString:29,CharacterString:30,BMPString:31,Constructor:32,Context:128}},function(e,t,r){var n,i,o,s=function(){var e=r(18);if("function"==typeof e.sign&&"function"==typeof e.verify){var t=/^(\d+)\.(\d+)\.(\d+)/.exec(process.versions.openssl);if(t){var n=+t[1];if(n>1)return!0;if(1===n){var i=+t[2];if(i>1)return!0;if(1===i)return+t[3]>=1}}}return!1}(),a=t.MESSAGE={DISCONNECT:1,IGNORE:2,UNIMPLEMENTED:3,DEBUG:4,SERVICE_REQUEST:5,SERVICE_ACCEPT:6,KEXINIT:20,NEWKEYS:21,USERAUTH_REQUEST:50,USERAUTH_FAILURE:51,USERAUTH_SUCCESS:52,USERAUTH_BANNER:53,GLOBAL_REQUEST:80,REQUEST_SUCCESS:81,REQUEST_FAILURE:82,CHANNEL_OPEN:90,CHANNEL_OPEN_CONFIRMATION:91,CHANNEL_OPEN_FAILURE:92,CHANNEL_WINDOW_ADJUST:93,CHANNEL_DATA:94,CHANNEL_EXTENDED_DATA:95,CHANNEL_EOF:96,CHANNEL_CLOSE:97,CHANNEL_REQUEST:98,CHANNEL_SUCCESS:99,CHANNEL_FAILURE:100};for(n=0,o=(i=Object.keys(a)).length;n<o;++n)a[a[i[n]]]=i[n];a.KEXDH_INIT=30,a.KEXDH_REPLY=31,a.KEXDH_GEX_REQUEST=34,a.KEXDH_GEX_GROUP=31,a.KEXDH_GEX_INIT=32,a.KEXDH_GEX_REPLY=33,a.KEXECDH_INIT=30,a.KEXECDH_REPLY=31,a.USERAUTH_PASSWD_CHANGEREQ=60,a.USERAUTH_PK_OK=60,a.USERAUTH_INFO_REQUEST=60,a.USERAUTH_INFO_RESPONSE=61;var h=t.DYNAMIC_KEXDH_MESSAGE={};h[a.KEXDH_GEX_GROUP]="KEXDH_GEX_GROUP",h[a.KEXDH_GEX_REPLY]="KEXDH_GEX_REPLY";var f=t.KEXDH_MESSAGE={};f[a.KEXDH_INIT]="KEXDH_INIT",f[a.KEXDH_REPLY]="KEXDH_REPLY";var c=t.DISCONNECT_REASON={HOST_NOT_ALLOWED_TO_CONNECT:1,PROTOCOL_ERROR:2,KEY_EXCHANGE_FAILED:3,RESERVED:4,MAC_ERROR:5,COMPRESSION_ERROR:6,SERVICE_NOT_AVAILABLE:7,PROTOCOL_VERSION_NOT_SUPPORTED:8,HOST_KEY_NOT_VERIFIABLE:9,CONNECTION_LOST:10,BY_APPLICATION:11,TOO_MANY_CONNECTIONS:12,AUTH_CANCELED_BY_USER:13,NO_MORE_AUTH_METHODS_AVAILABLE:14,ILLEGAL_USER_NAME:15};for(n=0,o=(i=Object.keys(c)).length;n<o;++n)c[c[i[n]]]=i[n];var u=t.CHANNEL_OPEN_FAILURE={ADMINISTRATIVELY_PROHIBITED:1,CONNECT_FAILED:2,UNKNOWN_CHANNEL_TYPE:3,RESOURCE_SHORTAGE:4};for(n=0,o=(i=Object.keys(u)).length;n<o;++n)u[u[i[n]]]=i[n];var l=t.TERMINAL_MODE={TTY_OP_END:0,VINTR:1,VQUIT:2,VERASE:3,VKILL:4,VEOF:5,VEOL:6,VEOL2:7,VSTART:8,VSTOP:9,VSUSP:10,VDSUSP:11,VREPRINT:12,VWERASE:13,VLNEXT:14,VFLUSH:15,VSWTCH:16,VSTATUS:17,VDISCARD:18,IGNPAR:30,PARMRK:31,INPCK:32,ISTRIP:33,INLCR:34,IGNCR:35,ICRNL:36,IUCLC:37,IXON:38,IXANY:39,IXOFF:40,IMAXBEL:41,ISIG:50,ICANON:51,XCASE:52,ECHO:53,ECHOE:54,ECHOK:55,ECHONL:56,NOFLSH:57,TOSTOP:58,IEXTEN:59,ECHOCTL:60,ECHOKE:61,PENDIN:62,OPOST:70,OLCUC:71,ONLCR:72,OCRNL:73,ONOCR:74,ONLRET:75,CS7:90,CS8:91,PARENB:92,PARODD:93,TTY_OP_ISPEED:128,TTY_OP_OSPEED:129};for(n=0,o=(i=Object.keys(l)).length;n<o;++n)l[l[i[n]]]=i[n];var d=t.CHANNEL_EXTENDED_DATATYPE={STDERR:1};for(n=0,o=(i=Object.keys(d)).length;n<o;++n)d[d[i[n]]]=i[n];t.SIGNALS=["ABRT","ALRM","FPE","HUP","ILL","INT","QUIT","SEGV","TERM","USR1","USR2","KILL","PIPE"];var p=["ecdh-sha2-nistp256","ecdh-sha2-nistp384","ecdh-sha2-nistp521","diffie-hellman-group-exchange-sha256","diffie-hellman-group14-sha1"],g=["diffie-hellman-group-exchange-sha1","diffie-hellman-group1-sha1"],m=Buffer.from(p.join(","),"ascii");g=p.concat(g);var v=["ssh-rsa","ecdsa-sha2-nistp256","ecdsa-sha2-nistp384","ecdsa-sha2-nistp521"];s&&v.unshift("ssh-ed25519");var y=["ssh-dss"],_=Buffer.from(v.join(","),"ascii");y=v.concat(y);var E=["aes128-ctr","aes192-ctr","aes256-ctr","aes128-gcm","aes128-gcm@openssh.com","aes256-gcm","aes256-gcm@openssh.com"],b=["aes256-cbc","aes192-cbc","aes128-cbc","blowfish-cbc","3des-cbc","arcfour256","arcfour128","cast128-cbc","arcfour"],w=Buffer.from(E.join(","),"ascii");b=E.concat(b);var S=["hmac-sha2-256","hmac-sha2-512","hmac-sha1"],k=["hmac-md5","hmac-sha2-256-96","hmac-sha2-512-96","hmac-ripemd160","hmac-sha1-96","hmac-md5-96"],A=Buffer.from(S.join(","),"ascii");k=S.concat(k);var T=["none","zlib@openssh.com","zlib"],B=[],O=Buffer.from(T.join(","),"ascii");function N(e,t,r,n,i,o){return{blockLen:e,keyLen:t,ivLen:0===r?e:r,authLen:n,discardLen:i,stream:o}}function R(e,t){return{len:e,actualLen:t}}B=T.concat(B),t.CIPHER_INFO={"aes128-gcm":N(16,16,12,16,0,!1),"aes256-gcm":N(16,32,12,16,0,!1),"aes128-gcm@openssh.com":N(16,16,12,16,0,!1),"aes256-gcm@openssh.com":N(16,32,12,16,0,!1),"aes128-cbc":N(16,16,0,0,0,!1),"aes192-cbc":N(16,24,0,0,0,!1),"aes256-cbc":N(16,32,0,0,0,!1),"rijndael-cbc@lysator.liu.se":N(16,32,0,0,0,!1),"3des-cbc":N(8,24,0,0,0,!1),"blowfish-cbc":N(8,16,0,0,0,!1),"idea-cbc":N(8,16,0,0,0,!1),"cast128-cbc":N(8,16,0,0,0,!1),"camellia128-cbc":N(16,16,0,0,0,!1),"camellia192-cbc":N(16,24,0,0,0,!1),"camellia256-cbc":N(16,32,0,0,0,!1),"camellia128-cbc@openssh.com":N(16,16,0,0,0,!1),"camellia192-cbc@openssh.com":N(16,24,0,0,0,!1),"camellia256-cbc@openssh.com":N(16,32,0,0,0,!1),"aes128-ctr":N(16,16,0,0,0,!1),"aes192-ctr":N(16,24,0,0,0,!1),"aes256-ctr":N(16,32,0,0,0,!1),"3des-ctr":N(8,24,0,0,0,!1),"blowfish-ctr":N(8,16,0,0,0,!1),"cast128-ctr":N(8,16,0,0,0,!1),"camellia128-ctr":N(16,16,0,0,0,!1),"camellia192-ctr":N(16,24,0,0,0,!1),"camellia256-ctr":N(16,32,0,0,0,!1),"camellia128-ctr@openssh.com":N(16,16,0,0,0,!1),"camellia192-ctr@openssh.com":N(16,24,0,0,0,!1),"camellia256-ctr@openssh.com":N(16,32,0,0,0,!1),arcfour:N(8,16,0,0,1536,!0),arcfour128:N(8,16,0,0,1536,!0),arcfour256:N(8,32,0,0,1536,!0),arcfour512:N(8,64,0,0,1536,!0)},t.HMAC_INFO={"hmac-md5":R(16,16),"hmac-md5-96":R(16,12),"hmac-ripemd160":R(20,20),"hmac-sha1":R(20,20),"hmac-sha1-96":R(20,12),"hmac-sha2-256":R(32,32),"hmac-sha2-256-96":R(32,12),"hmac-sha2-512":R(64,64),"hmac-sha2-512-96":R(64,12)},t.ALGORITHMS={KEX:p,KEX_BUF:m,SUPPORTED_KEX:g,SERVER_HOST_KEY:v,SERVER_HOST_KEY_BUF:_,SUPPORTED_SERVER_HOST_KEY:y,CIPHER:E,CIPHER_BUF:w,SUPPORTED_CIPHER:b,HMAC:S,HMAC_BUF:A,SUPPORTED_HMAC:k,COMPRESS:T,COMPRESS_BUF:O,SUPPORTED_COMPRESS:B},t.SSH_TO_OPENSSL={"ecdh-sha2-nistp256":"prime256v1","ecdh-sha2-nistp384":"secp384r1","ecdh-sha2-nistp521":"secp521r1","aes128-gcm":"aes-128-gcm","aes256-gcm":"aes-256-gcm","aes128-gcm@openssh.com":"aes-128-gcm","aes256-gcm@openssh.com":"aes-256-gcm","3des-cbc":"des-ede3-cbc","blowfish-cbc":"bf-cbc","aes256-cbc":"aes-256-cbc","aes192-cbc":"aes-192-cbc","aes128-cbc":"aes-128-cbc","idea-cbc":"idea-cbc","cast128-cbc":"cast-cbc","rijndael-cbc@lysator.liu.se":"aes-256-cbc",arcfour128:"rc4",arcfour256:"rc4",arcfour512:"rc4",arcfour:"rc4","camellia128-cbc":"camellia-128-cbc","camellia192-cbc":"camellia-192-cbc","camellia256-cbc":"camellia-256-cbc","camellia128-cbc@openssh.com":"camellia-128-cbc","camellia192-cbc@openssh.com":"camellia-192-cbc","camellia256-cbc@openssh.com":"camellia-256-cbc","3des-ctr":"des-ede3","blowfish-ctr":"bf-ecb","aes256-ctr":"aes-256-ctr","aes192-ctr":"aes-192-ctr","aes128-ctr":"aes-128-ctr","cast128-ctr":"cast5-ecb","camellia128-ctr":"camellia-128-ecb","camellia192-ctr":"camellia-192-ecb","camellia256-ctr":"camellia-256-ecb","camellia128-ctr@openssh.com":"camellia-128-ecb","camellia192-ctr@openssh.com":"camellia-192-ecb","camellia256-ctr@openssh.com":"camellia-256-ecb","hmac-sha1-96":"sha1","hmac-sha1":"sha1","hmac-sha2-256":"sha256","hmac-sha2-256-96":"sha256","hmac-sha2-512":"sha512","hmac-sha2-512-96":"sha512","hmac-md5-96":"md5","hmac-md5":"md5","hmac-ripemd160":"ripemd160"};var C=t.BUGS={BAD_DHGEX:1,OLD_EXIT:2,DYN_RPORT_BUG:4};t.BUGGY_IMPLS=[["Cisco-1.25",C.BAD_DHGEX],[/^[0-9.]+$/,C.OLD_EXIT],[/^OpenSSH_5\.\d+/,C.DYN_RPORT_BUG]],t.EDDSA_SUPPORTED=s},function(e,t){e.exports=require("https")},function(e,t,r){e.exports=_;var n=r(0),i=r(35),o=r(23),s=(o.Minimatch,r(12)),a=r(8).EventEmitter,h=r(3),f=r(15),c=r(24),u=r(78),l=r(36),d=(l.alphasort,l.alphasorti,l.setopts),p=l.ownProp,g=r(79),m=(r(4),l.childrenIgnored),v=l.isIgnored,y=r(38);function _(e,t,r){if("function"==typeof t&&(r=t,t={}),t||(t={}),t.sync){if(r)throw new TypeError("callback provided to sync glob");return u(e,t)}return new b(e,t,r)}_.sync=u;var E=_.GlobSync=u.GlobSync;function b(e,t,r){if("function"==typeof t&&(r=t,t=null),t&&t.sync){if(r)throw new TypeError("callback provided to sync glob");return new E(e,t)}if(!(this instanceof b))return new b(e,t,r);d(this,e,t),this._didRealPath=!1;var n=this.minimatch.set.length;this.matches=new Array(n),"function"==typeof r&&(r=y(r),this.on("error",r),this.on("end",function(e){r(null,e)}));var i=this;if(this._processing=0,this._emitQueue=[],this._processQueue=[],this.paused=!1,this.noprocess)return this;if(0===n)return a();for(var o=!0,s=0;s<n;s++)this._process(this.minimatch.set[s],s,!1,a);function a(){--i._processing,i._processing<=0&&(o?process.nextTick(function(){i._finish()}):i._finish())}o=!1}_.glob=_,_.hasMagic=function(e,t){var r=function(e,t){if(null===t||"object"!=typeof t)return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}({},t);r.noprocess=!0;var n=new b(e,r).minimatch.set;if(!e)return!1;if(n.length>1)return!0;for(var i=0;i<n[0].length;i++)if("string"!=typeof n[0][i])return!0;return!1},_.Glob=b,s(b,a),b.prototype._finish=function(){if(f(this instanceof b),!this.aborted){if(this.realpath&&!this._didRealpath)return this._realpath();l.finish(this),this.emit("end",this.found)}},b.prototype._realpath=function(){if(!this._didRealpath){this._didRealpath=!0;var e=this.matches.length;if(0===e)return this._finish();for(var t=this,r=0;r<this.matches.length;r++)this._realpathSet(r,n)}function n(){0==--e&&t._finish()}},b.prototype._realpathSet=function(e,t){var r=this.matches[e];if(!r)return t();var n=Object.keys(r),o=this,s=n.length;if(0===s)return t();var a=this.matches[e]=Object.create(null);n.forEach(function(r,n){r=o._makeAbs(r),i.realpath(r,o.realpathCache,function(n,i){n?"stat"===n.syscall?a[r]=!0:o.emit("error",n):a[i]=!0,0==--s&&(o.matches[e]=a,t())})})},b.prototype._mark=function(e){return l.mark(this,e)},b.prototype._makeAbs=function(e){return l.makeAbs(this,e)},b.prototype.abort=function(){this.aborted=!0,this.emit("abort")},b.prototype.pause=function(){this.paused||(this.paused=!0,this.emit("pause"))},b.prototype.resume=function(){if(this.paused){if(this.emit("resume"),this.paused=!1,this._emitQueue.length){var e=this._emitQueue.slice(0);this._emitQueue.length=0;for(var t=0;t<e.length;t++){var r=e[t];this._emitMatch(r[0],r[1])}}if(this._processQueue.length){var n=this._processQueue.slice(0);for(this._processQueue.length=0,t=0;t<n.length;t++){var i=n[t];this._processing--,this._process(i[0],i[1],i[2],i[3])}}}},b.prototype._process=function(e,t,r,n){if(f(this instanceof b),f("function"==typeof n),!this.aborted)if(this._processing++,this.paused)this._processQueue.push([e,t,r,n]);else{for(var i,s=0;"string"==typeof e[s];)s++;switch(s){case e.length:return void this._processSimple(e.join("/"),t,n);case 0:i=null;break;default:i=e.slice(0,s).join("/")}var a,h=e.slice(s);null===i?a=".":c(i)||c(e.join("/"))?(i&&c(i)||(i="/"+i),a=i):a=i;var u=this._makeAbs(a);if(m(this,a))return n();h[0]===o.GLOBSTAR?this._processGlobStar(i,a,u,h,t,r,n):this._processReaddir(i,a,u,h,t,r,n)}},b.prototype._processReaddir=function(e,t,r,n,i,o,s){var a=this;this._readdir(r,o,function(h,f){return a._processReaddir2(e,t,r,n,i,o,f,s)})},b.prototype._processReaddir2=function(e,t,r,n,i,o,s,a){if(!s)return a();for(var f=n[0],c=!!this.minimatch.negate,u=f._glob,l=this.dot||"."===u.charAt(0),d=[],p=0;p<s.length;p++)("."!==(m=s[p]).charAt(0)||l)&&(c&&!e?!m.match(f):m.match(f))&&d.push(m);var g=d.length;if(0===g)return a();if(1===n.length&&!this.mark&&!this.stat){for(this.matches[i]||(this.matches[i]=Object.create(null)),p=0;p<g;p++){var m=d[p];e&&(m="/"!==e?e+"/"+m:e+m),"/"!==m.charAt(0)||this.nomount||(m=h.join(this.root,m)),this._emitMatch(i,m)}return a()}for(n.shift(),p=0;p<g;p++)m=d[p],e&&(m="/"!==e?e+"/"+m:e+m),this._process([m].concat(n),i,o,a);a()},b.prototype._emitMatch=function(e,t){if(!this.aborted&&!v(this,t))if(this.paused)this._emitQueue.push([e,t]);else{var r=c(t)?t:this._makeAbs(t);if(this.mark&&(t=this._mark(t)),this.absolute&&(t=r),!this.matches[e][t]){if(this.nodir){var n=this.cache[r];if("DIR"===n||Array.isArray(n))return}this.matches[e][t]=!0;var i=this.statCache[r];i&&this.emit("stat",t,i),this.emit("match",t)}}},b.prototype._readdirInGlobStar=function(e,t){if(!this.aborted){if(this.follow)return this._readdir(e,!1,t);var r=this,i=g("lstat\0"+e,function(n,i){if(n&&"ENOENT"===n.code)return t();var o=i&&i.isSymbolicLink();r.symlinks[e]=o,o||!i||i.isDirectory()?r._readdir(e,!1,t):(r.cache[e]="FILE",t())});i&&n.lstat(e,i)}},b.prototype._readdir=function(e,t,r){if(!this.aborted&&(r=g("readdir\0"+e+"\0"+t,r))){if(t&&!p(this.symlinks,e))return this._readdirInGlobStar(e,r);if(p(this.cache,e)){var i=this.cache[e];if(!i||"FILE"===i)return r();if(Array.isArray(i))return r(null,i)}n.readdir(e,function(e,t,r){return function(n,i){n?e._readdirError(t,n,r):e._readdirEntries(t,i,r)}}(this,e,r))}},b.prototype._readdirEntries=function(e,t,r){if(!this.aborted){if(!this.mark&&!this.stat)for(var n=0;n<t.length;n++){var i=t[n];i="/"===e?e+i:e+"/"+i,this.cache[i]=!0}return this.cache[e]=t,r(null,t)}},b.prototype._readdirError=function(e,t,r){if(!this.aborted){switch(t.code){case"ENOTSUP":case"ENOTDIR":var n=this._makeAbs(e);if(this.cache[n]="FILE",n===this.cwdAbs){var i=new Error(t.code+" invalid cwd "+this.cwd);i.path=this.cwd,i.code=t.code,this.emit("error",i),this.abort()}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(e)]=!1;break;default:this.cache[this._makeAbs(e)]=!1,this.strict&&(this.emit("error",t),this.abort()),this.silent||console.error("glob error",t)}return r()}},b.prototype._processGlobStar=function(e,t,r,n,i,o,s){var a=this;this._readdir(r,o,function(h,f){a._processGlobStar2(e,t,r,n,i,o,f,s)})},b.prototype._processGlobStar2=function(e,t,r,n,i,o,s,a){if(!s)return a();var h=n.slice(1),f=e?[e]:[],c=f.concat(h);this._process(c,i,!1,a);var u=this.symlinks[r],l=s.length;if(u&&o)return a();for(var d=0;d<l;d++)if("."!==s[d].charAt(0)||this.dot){var p=f.concat(s[d],h);this._process(p,i,!0,a);var g=f.concat(s[d],n);this._process(g,i,!0,a)}a()},b.prototype._processSimple=function(e,t,r){var n=this;this._stat(e,function(i,o){n._processSimple2(e,t,i,o,r)})},b.prototype._processSimple2=function(e,t,r,n,i){if(this.matches[t]||(this.matches[t]=Object.create(null)),!n)return i();if(e&&c(e)&&!this.nomount){var o=/[\/\\]$/.test(e);"/"===e.charAt(0)?e=h.join(this.root,e):(e=h.resolve(this.root,e),o&&(e+="/"))}"win32"===process.platform&&(e=e.replace(/\\/g,"/")),this._emitMatch(t,e),i()},b.prototype._stat=function(e,t){var r=this._makeAbs(e),i="/"===e.slice(-1);if(e.length>this.maxLength)return t();if(!this.stat&&p(this.cache,r)){var o=this.cache[r];if(Array.isArray(o)&&(o="DIR"),!i||"DIR"===o)return t(null,o);if(i&&"FILE"===o)return t()}var s=this.statCache[r];if(void 0!==s){if(!1===s)return t(null,s);var a=s.isDirectory()?"DIR":"FILE";return i&&"FILE"===a?t():t(null,a,s)}var h=this,f=g("stat\0"+r,function(i,o){if(o&&o.isSymbolicLink())return n.stat(r,function(n,i){n?h._stat2(e,r,null,o,t):h._stat2(e,r,n,i,t)});h._stat2(e,r,i,o,t)});f&&n.lstat(r,f)},b.prototype._stat2=function(e,t,r,n,i){if(r&&("ENOENT"===r.code||"ENOTDIR"===r.code))return this.statCache[t]=!1,i();var o="/"===e.slice(-1);if(this.statCache[t]=n,"/"===t.slice(-1)&&n&&!n.isDirectory())return i(null,!1,n);var s=!0;return n&&(s=n.isDirectory()?"DIR":"FILE"),this.cache[t]=this.cache[t]||s,o&&"FILE"===s?i():i(null,s,n)}},function(e,t,r){e.exports=c,c.realpath=c,c.sync=u,c.realpathSync=u,c.monkeypatch=function(){n.realpath=c,n.realpathSync=u},c.unmonkeypatch=function(){n.realpath=i,n.realpathSync=o};var n=r(0),i=n.realpath,o=n.realpathSync,s=process.version,a=/^v[0-5]\./.test(s),h=r(73);function f(e){return e&&"realpath"===e.syscall&&("ELOOP"===e.code||"ENOMEM"===e.code||"ENAMETOOLONG"===e.code)}function c(e,t,r){if(a)return i(e,t,r);"function"==typeof t&&(r=t,t=null),i(e,t,function(n,i){f(n)?h.realpath(e,t,r):r(n,i)})}function u(e,t){if(a)return o(e,t);try{return o(e,t)}catch(r){if(f(r))return h.realpathSync(e,t);throw r}}},function(e,t,r){function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.alphasort=f,t.alphasorti=h,t.setopts=function(e,t,r){if(r||(r={}),r.matchBase&&-1===t.indexOf("/")){if(r.noglobstar)throw new Error("base matching requires globstar");t="**/"+t}e.silent=!!r.silent,e.pattern=t,e.strict=!1!==r.strict,e.realpath=!!r.realpath,e.realpathCache=r.realpathCache||Object.create(null),e.follow=!!r.follow,e.dot=!!r.dot,e.mark=!!r.mark,e.nodir=!!r.nodir,e.nodir&&(e.mark=!0),e.sync=!!r.sync,e.nounique=!!r.nounique,e.nonull=!!r.nonull,e.nosort=!!r.nosort,e.nocase=!!r.nocase,e.stat=!!r.stat,e.noprocess=!!r.noprocess,e.absolute=!!r.absolute,e.maxLength=r.maxLength||1/0,e.cache=r.cache||Object.create(null),e.statCache=r.statCache||Object.create(null),e.symlinks=r.symlinks||Object.create(null),function(e,t){e.ignore=t.ignore||[],Array.isArray(e.ignore)||(e.ignore=[e.ignore]),e.ignore.length&&(e.ignore=e.ignore.map(c))}(e,r),e.changedCwd=!1;var o=process.cwd();n(r,"cwd")?(e.cwd=i.resolve(r.cwd),e.changedCwd=e.cwd!==o):e.cwd=o,e.root=r.root||i.resolve(e.cwd,"/"),e.root=i.resolve(e.root),"win32"===process.platform&&(e.root=e.root.replace(/\\/g,"/")),e.cwdAbs=s(e.cwd)?e.cwd:u(e,e.cwd),"win32"===process.platform&&(e.cwdAbs=e.cwdAbs.replace(/\\/g,"/")),e.nomount=!!r.nomount,r.nonegate=!0,r.nocomment=!0,e.minimatch=new a(t,r),e.options=e.minimatch.options},t.ownProp=n,t.makeAbs=u,t.finish=function(e){for(var t=e.nounique,r=t?[]:Object.create(null),n=0,i=e.matches.length;n<i;n++){var o=e.matches[n];if(o&&0!==Object.keys(o).length){var s=Object.keys(o);t?r.push.apply(r,s):s.forEach(function(e){r[e]=!0})}else if(e.nonull){var a=e.minimatch.globSet[n];t?r.push(a):r[a]=!0}}if(t||(r=Object.keys(r)),e.nosort||(r=r.sort(e.nocase?h:f)),e.mark){for(n=0;n<r.length;n++)r[n]=e._mark(r[n]);e.nodir&&(r=r.filter(function(t){var r=!/\/$/.test(t),n=e.cache[t]||e.cache[u(e,t)];return r&&n&&(r="DIR"!==n&&!Array.isArray(n)),r}))}e.ignore.length&&(r=r.filter(function(t){return!l(e,t)})),e.found=r},t.mark=function(e,t){var r=u(e,t),n=e.cache[r],i=t;if(n){var o="DIR"===n||Array.isArray(n),s="/"===t.slice(-1);if(o&&!s?i+="/":!o&&s&&(i=i.slice(0,-1)),i!==t){var a=u(e,i);e.statCache[a]=e.statCache[r],e.cache[a]=e.cache[r]}}return i},t.isIgnored=l,t.childrenIgnored=function(e,t){return!!e.ignore.length&&e.ignore.some(function(e){return!(!e.gmatcher||!e.gmatcher.match(t))})};var i=r(3),o=r(23),s=r(24),a=o.Minimatch;function h(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())}function f(e,t){return e.localeCompare(t)}function c(e){var t=null;if("/**"===e.slice(-3)){var r=e.replace(/(\/\*\*)+$/,"");t=new a(r,{dot:!0})}return{matcher:new a(e,{dot:!0}),gmatcher:t}}function u(e,t){var r=t;return r="/"===t.charAt(0)?i.join(e.root,t):s(t)||""===t?t:e.changedCwd?i.resolve(e.cwd,t):i.resolve(t),"win32"===process.platform&&(r=r.replace(/\\/g,"/")),r}function l(e,t){return!!e.ignore.length&&e.ignore.some(function(e){return e.matcher.match(t)||!(!e.gmatcher||!e.gmatcher.match(t))})}},function(e,t){e.exports=function e(t,r){if(t&&r)return e(t)(r);if("function"!=typeof t)throw new TypeError("need wrapper function");return Object.keys(t).forEach(function(e){n[e]=t[e]}),n;function n(){for(var e=new Array(arguments.length),r=0;r<e.length;r++)e[r]=arguments[r];var n=t.apply(this,e),i=e[e.length-1];return"function"==typeof n&&n!==i&&Object.keys(i).forEach(function(e){n[e]=i[e]}),n}}},function(e,t,r){var n=r(37);function i(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function o(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},r=e.name||"Function wrapped with `once`";return t.onceError=r+" shouldn't be called more than once",t.called=!1,t}e.exports=n(i),e.exports.strict=n(o),i.proto=i(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return i(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return o(this)},configurable:!0})})},function(e,t,r){var n=r(6);"disable"===process.env.READABLE_STREAM&&n?(e.exports=n,(t=e.exports=n.Readable).Readable=n.Readable,t.Writable=n.Writable,t.Duplex=n.Duplex,t.Transform=n.Transform,t.PassThrough=n.PassThrough,t.Stream=n):((t=e.exports=r(40)).Stream=n||t,t.Readable=t,t.Writable=r(44),t.Duplex=r(14),t.Transform=r(46),t.PassThrough=r(85))},function(e,t,r){"use strict";var n=r(20);e.exports=y;var i,o=r(82);y.ReadableState=v,r(8).EventEmitter;var s=function(e,t){return e.listeners(t).length},a=r(41),h=r(21).Buffer,f=global.Uint8Array||function(){},c=r(16);c.inherits=r(12);var u=r(4),l=void 0;l=u&&u.debuglog?u.debuglog("stream"):function(){};var d,p=r(83),g=r(43);c.inherits(y,a);var m=["error","close","destroy","pause","resume"];function v(e,t){e=e||{};var n=t instanceof(i=i||r(14));this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var o=e.highWaterMark,s=e.readableHighWaterMark,a=this.objectMode?16:16384;this.highWaterMark=o||0===o?o:n&&(s||0===s)?s:a,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(d||(d=r(45).StringDecoder),this.decoder=new d(e.encoding),this.encoding=e.encoding)}function y(e){if(i=i||r(14),!(this instanceof y))return new y(e);this._readableState=new v(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),a.call(this)}function _(e,t,r,n,i){var o,s=e._readableState;return null===t?(s.reading=!1,function(e,t){if(!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,S(e)}}(e,s)):(i||(o=function(e,t){var r,n;return n=t,h.isBuffer(n)||n instanceof f||"string"==typeof t||void 0===t||e.objectMode||(r=new TypeError("Invalid non-string/buffer chunk")),r}(s,t)),o?e.emit("error",o):s.objectMode||t&&t.length>0?("string"==typeof t||s.objectMode||Object.getPrototypeOf(t)===h.prototype||(t=function(e){return h.from(e)}(t)),n?s.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):E(e,s,t,!0):s.ended?e.emit("error",new Error("stream.push() after EOF")):(s.reading=!1,s.decoder&&!r?(t=s.decoder.write(t),s.objectMode||0!==t.length?E(e,s,t,!1):A(e,s)):E(e,s,t,!1))):n||(s.reading=!1)),function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(s)}function E(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&S(e)),A(e,t)}Object.defineProperty(y.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),y.prototype.destroy=g.destroy,y.prototype._undestroy=g.undestroy,y.prototype._destroy=function(e,t){this.push(null),t(e)},y.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=h.from(e,t),t=""),r=!0),_(this,e,t,!1,r)},y.prototype.unshift=function(e){return _(this,e,null,!0,!1)},y.prototype.isPaused=function(){return!1===this._readableState.flowing},y.prototype.setEncoding=function(e){return d||(d=r(45).StringDecoder),this._readableState.decoder=new d(e),this._readableState.encoding=e,this};var b=8388608;function w(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=b?e=b:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function S(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(l("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?n.nextTick(k,e):k(e))}function k(e){l("emit readable"),e.emit("readable"),N(e)}function A(e,t){t.readingMore||(t.readingMore=!0,n.nextTick(T,e,t))}function T(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(l("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}function B(e){l("readable nexttick read 0"),e.read(0)}function O(e,t){t.reading||(l("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),N(e),t.flowing&&!t.reading&&e.read(0)}function N(e){var t=e._readableState;for(l("flow",t.flowing);t.flowing&&null!==e.read(););}function R(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):r=function(e,t,r){var n;return e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):n=e===t.head.data.length?t.shift():r?function(e,t){var r=t.head,n=1,i=r.data;for(e-=i.length;r=r.next;){var o=r.data,s=e>o.length?o.length:e;if(s===o.length?i+=o:i+=o.slice(0,e),0==(e-=s)){s===o.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(s));break}++n}return t.length-=n,i}(e,t):function(e,t){var r=h.allocUnsafe(e),n=t.head,i=1;for(n.data.copy(r),e-=n.data.length;n=n.next;){var o=n.data,s=e>o.length?o.length:e;if(o.copy(r,r.length-e,0,s),0==(e-=s)){s===o.length?(++i,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(s));break}++i}return t.length-=i,r}(e,t),n}(e,t.buffer,t.decoder),r);var r}function C(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,n.nextTick(U,t,e))}function U(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function x(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}y.prototype.read=function(e){l("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return l("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?C(this):S(this),null;if(0===(e=w(e,t))&&t.ended)return 0===t.length&&C(this),null;var n,i=t.needReadable;return l("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&l("length less than watermark",i=!0),t.ended||t.reading?l("reading or ended",i=!1):i&&(l("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=w(r,t))),null===(n=e>0?R(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&C(this)),null!==n&&this.emit("data",n),n},y.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},y.prototype.pipe=function(e,t){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e)}i.pipesCount+=1,l("pipe count=%d opts=%j",i.pipesCount,t);var a=t&&!1===t.end||e===process.stdout||e===process.stderr?v:h;function h(){l("onend"),e.end()}i.endEmitted?n.nextTick(a):r.once("end",a),e.on("unpipe",function t(n,o){l("onunpipe"),n===r&&o&&!1===o.hasUnpiped&&(o.hasUnpiped=!0,l("cleanup"),e.removeListener("close",g),e.removeListener("finish",m),e.removeListener("drain",f),e.removeListener("error",p),e.removeListener("unpipe",t),r.removeListener("end",h),r.removeListener("end",v),r.removeListener("data",d),c=!0,!i.awaitDrain||e._writableState&&!e._writableState.needDrain||f())});var f=function(e){return function(){var t=e._readableState;l("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,N(e))}}(r);e.on("drain",f);var c=!1,u=!1;function d(t){l("ondata"),u=!1,!1!==e.write(t)||u||((1===i.pipesCount&&i.pipes===e||i.pipesCount>1&&-1!==x(i.pipes,e))&&!c&&(l("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,u=!0),r.pause())}function p(t){l("onerror",t),v(),e.removeListener("error",p),0===s(e,"error")&&e.emit("error",t)}function g(){e.removeListener("finish",m),v()}function m(){l("onfinish"),e.removeListener("close",g),v()}function v(){l("unpipe"),r.unpipe(e)}return r.on("data",d),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?o(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",p),e.once("close",g),e.once("finish",m),e.emit("pipe",r),i.flowing||(l("pipe resume"),r.resume()),e},y.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r),this);if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,r);return this}var s=x(t.pipes,e);return-1===s?this:(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r),this)},y.prototype.on=function(e,t){var r=a.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var i=this._readableState;i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.emittedReadable=!1,i.reading?i.length&&S(this):n.nextTick(B,this))}return r},y.prototype.addListener=y.prototype.on,y.prototype.resume=function(){var e=this._readableState;return e.flowing||(l("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,n.nextTick(O,e,t))}(this,e)),this},y.prototype.pause=function(){return l("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(l("pause"),this._readableState.flowing=!1,this.emit("pause")),this},y.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",function(){if(l("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(i){l("wrapped data"),r.decoder&&(i=r.decoder.write(i)),r.objectMode&&null==i||(r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause()))}),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<m.length;o++)e.on(m[o],this.emit.bind(this,m[o]));return this._read=function(t){l("wrapped _read",t),n&&(n=!1,e.resume())},this},Object.defineProperty(y.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),y._fromList=R},function(e,t,r){e.exports=r(6)},function(e,t){e.exports=require("buffer")},function(e,t,r){"use strict";var n=r(20);function i(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var r=this,o=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return o||s?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||n.nextTick(i,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?(n.nextTick(i,r,e),r._writableState&&(r._writableState.errorEmitted=!0)):t&&t(e)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(e,t,r){"use strict";var n=r(20);function i(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(void 0),n=n.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=m;var o,s=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:n.nextTick;m.WritableState=g;var a=r(16);a.inherits=r(12);var h,f={deprecate:r(84)},c=r(41),u=r(21).Buffer,l=global.Uint8Array||function(){},d=r(43);function p(){}function g(e,t){o=o||r(14),e=e||{};var a=t instanceof o;this.objectMode=!!e.objectMode,a&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var h=e.highWaterMark,f=e.writableHighWaterMark,c=this.objectMode?16:16384;this.highWaterMark=h||0===h?h:a&&(f||0===f)?f:c,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var u=!1===e.decodeStrings;this.decodeStrings=!u,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,i=r.sync,o=r.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,i,o){--t.pendingcb,r?(n.nextTick(o,i),n.nextTick(w,e,t),e._writableState.errorEmitted=!0,e.emit("error",i)):(o(i),e._writableState.errorEmitted=!0,e.emit("error",i),w(e,t))}(e,r,i,t,o);else{var a=E(r);a||r.corked||r.bufferProcessing||!r.bufferedRequest||_(e,r),i?s(y,e,r,a,o):y(e,r,a,o)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function m(e){if(o=o||r(14),!(h.call(m,this)||this instanceof o))return new m(e);this._writableState=new g(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),c.call(this)}function v(e,t,r,n,i,o,s){t.writelen=n,t.writecb=s,t.writing=!0,t.sync=!0,r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function y(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),w(e,t)}function _(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,o=new Array(n),s=t.corkedRequestsFree;s.entry=r;for(var a=0,h=!0;r;)o[a]=r,r.isBuf||(h=!1),r=r.next,a+=1;o.allBuffers=h,v(e,t,!0,t.length,o,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new i(t),t.bufferedRequestCount=0}else{for(;r;){var f=r.chunk,c=r.encoding,u=r.callback;if(v(e,t,!1,t.objectMode?1:f.length,f,c,u),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function E(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function b(e,t){e._final(function(r){t.pendingcb--,r&&e.emit("error",r),t.prefinished=!0,e.emit("prefinish"),w(e,t)})}function w(e,t){var r=E(t);return r&&(function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,n.nextTick(b,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),r}a.inherits(m,c),g.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(g.prototype,"buffer",{get:f.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(h=Function.prototype[Symbol.hasInstance],Object.defineProperty(m,Symbol.hasInstance,{value:function(e){return!!h.call(this,e)||this===m&&e&&e._writableState instanceof g}})):h=function(e){return e instanceof this},m.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},m.prototype.write=function(e,t,r){var i,o=this._writableState,s=!1,a=!o.objectMode&&(i=e,u.isBuffer(i)||i instanceof l);return a&&!u.isBuffer(e)&&(e=function(e){return u.from(e)}(e)),"function"==typeof t&&(r=t,t=null),a?t="buffer":t||(t=o.defaultEncoding),"function"!=typeof r&&(r=p),o.ended?function(e,t){var r=new Error("write after end");e.emit("error",r),n.nextTick(t,r)}(this,r):(a||function(e,t,r,i){var o=!0,s=!1;return null===r?s=new TypeError("May not write null values to stream"):"string"==typeof r||void 0===r||t.objectMode||(s=new TypeError("Invalid non-string/buffer chunk")),s&&(e.emit("error",s),n.nextTick(i,s),o=!1),o}(this,o,e,r))&&(o.pendingcb++,s=function(e,t,r,n,i,o){if(!r){var s=function(e,t,r){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=u.from(t,r)),t}(t,n,i);n!==s&&(r=!0,i="buffer",n=s)}var a=t.objectMode?1:n.length;t.length+=a;var h=t.length<t.highWaterMark;if(h||(t.needDrain=!0),t.writing||t.corked){var f=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},f?f.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else v(e,t,!1,a,n,i,o);return h}(this,o,a,e,t,r)),s},m.prototype.cork=function(){this._writableState.corked++},m.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||_(this,e))},m.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(m.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),m.prototype._write=function(e,t,r){r(new Error("_write() is not implemented"))},m.prototype._writev=null,m.prototype.end=function(e,t,r){var i=this._writableState;"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||i.finished||function(e,t,r){t.ending=!0,w(e,t),r&&(t.finished?n.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}(this,i,r)},Object.defineProperty(m.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),m.prototype.destroy=d.destroy,m.prototype._undestroy=d.undestroy,m.prototype._destroy=function(e,t){this.end(),t(e)}},function(e,t,r){"use strict";var n=r(21).Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=h,this.end=f,t=4;break;case"utf8":this.fillLast=a,t=4;break;case"base64":this.text=c,this.end=u,t=3;break;default:return this.write=l,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function s(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function a(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,""}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function h(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function f(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function c(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function u(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function l(e){return e.toString(this.encoding)}function d(e){return e&&e.length?this.write(e):""}t.StringDecoder=o,o.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t},o.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=s(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r||-2===i?0:(i=s(t[n]))>=0?(i>0&&(e.lastNeed=i-2),i):--n<r||-2===i?0:(i=s(t[n]))>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,r){"use strict";e.exports=s;var n=r(14),i=r(16);function o(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function s(e){if(!(this instanceof s))return new s(e);n.call(this,e),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",a)}function a(){var e=this;"function"==typeof this._flush?this._flush(function(t,r){h(e,t,r)}):h(this,null,null)}function h(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}i.inherits=r(12),i.inherits(s,n),s.prototype.push=function(e,t){return this._transformState.needTransform=!1,n.prototype.push.call(this,e,t)},s.prototype._transform=function(e,t,r){throw new Error("_transform() is not implemented")},s.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},s.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},s.prototype._destroy=function(e,t){var r=this;n.prototype._destroy.call(this,e,function(e){t(e),r.emit("close")})}},function(e,t,r){"use strict";var n=r(1),i=r(9),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";t.encode=function(e){for(var t,r,i,s,a,h,f,c=[],u=0,l=e.length,d=l,p="string"!==n.getTypeOf(e);u<e.length;)d=l-u,p?(t=e[u++],r=u<l?e[u++]:0,i=u<l?e[u++]:0):(t=e.charCodeAt(u++),r=u<l?e.charCodeAt(u++):0,i=u<l?e.charCodeAt(u++):0),s=t>>2,a=(3&t)<<4|r>>4,h=d>1?(15&r)<<2|i>>6:64,f=d>2?63&i:64,c.push(o.charAt(s)+o.charAt(a)+o.charAt(h)+o.charAt(f));return c.join("")},t.decode=function(e){var t,r,n,s,a,h,f=0,c=0;if("data:"===e.substr(0,"data:".length))throw new Error("Invalid base64 input, it looks like a data url.");var u,l=3*(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(e.charAt(e.length-1)===o.charAt(64)&&l--,e.charAt(e.length-2)===o.charAt(64)&&l--,l%1!=0)throw new Error("Invalid base64 input, bad content length.");for(u=i.uint8array?new Uint8Array(0|l):new Array(0|l);f<e.length;)t=o.indexOf(e.charAt(f++))<<2|(s=o.indexOf(e.charAt(f++)))>>4,r=(15&s)<<4|(a=o.indexOf(e.charAt(f++)))>>2,n=(3&a)<<6|(h=o.indexOf(e.charAt(f++))),u[c++]=t,64!==a&&(u[c++]=r),64!==h&&(u[c++]=n);return u}},function(e,t,r){"use strict";var n=r(1),i=r(89),o=r(5),s=r(47),a=r(9),h=r(17),f=null;if(a.nodestream)try{f=r(90)}catch(e){}function c(e,t,r){var s=t;switch(t){case"blob":case"arraybuffer":s="uint8array";break;case"base64":s="string"}try{this._internalType=s,this._outputType=t,this._mimeType=r,n.checkSupport(s),this._worker=e.pipe(new i(s)),e.lock()}catch(e){this._worker=new o("error"),this._worker.error(e)}}c.prototype={accumulate:function(e){return function(e,t){return new h.Promise(function(r,i){var o=[],a=e._internalType,h=e._outputType,f=e._mimeType;e.on("data",function(e,r){o.push(e),t&&t(r)}).on("error",function(e){o=[],i(e)}).on("end",function(){try{var e=function(e,t,r){switch(e){case"blob":return n.newBlob(n.transformTo("arraybuffer",t),r);case"base64":return s.encode(t);default:return n.transformTo(e,t)}}(h,function(e,t){var r,n=0,i=null,o=0;for(r=0;r<t.length;r++)o+=t[r].length;switch(e){case"string":return t.join("");case"array":return Array.prototype.concat.apply([],t);case"uint8array":for(i=new Uint8Array(o),r=0;r<t.length;r++)i.set(t[r],n),n+=t[r].length;return i;case"nodebuffer":return Buffer.concat(t);default:throw new Error("concat : unsupported type '"+e+"'")}}(a,o),f);r(e)}catch(e){i(e)}o=[]}).resume()})}(this,e)},on:function(e,t){var r=this;return"data"===e?this._worker.on(e,function(e){t.call(r,e.data,e.meta)}):this._worker.on(e,function(){n.delay(t,arguments,r)}),this},resume:function(){return n.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(n.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new f(this,{objectMode:"nodebuffer"!==this._outputType},e)}},e.exports=c},function(e,t,r){"use strict";t.base64=!1,t.binary=!1,t.dir=!1,t.createFolders=!0,t.date=null,t.compression=null,t.compressionOptions=null,t.comment=null,t.unixPermissions=null,t.dosPermissions=null},function(e,t,r){"use strict";var n=r(1),i=r(5);function o(e){i.call(this,"DataWorker");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,e.then(function(e){t.dataIsReady=!0,t.data=e,t.max=e&&e.length||0,t.type=n.getTypeOf(e),t.isPaused||t._tickAndRepeat()},function(e){t.error(e)})}n.inherits(o,i),o.prototype.cleanUp=function(){i.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,n.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(n.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=null,t=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":e=this.data.substring(this.index,t);break;case"uint8array":e=this.data.subarray(this.index,t);break;case"array":case"nodebuffer":e=this.data.slice(this.index,t)}return this.index=t,this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})},e.exports=o},function(e,t,r){"use strict";var n=r(1),i=r(5);function o(e){i.call(this,"DataLengthProbe for "+e),this.propName=e,this.withStreamInfo(e,0)}n.inherits(o,i),o.prototype.processChunk=function(e){if(e){var t=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=t+e.data.length}i.prototype.processChunk.call(this,e)},e.exports=o},function(e,t,r){"use strict";var n=r(5),i=r(26);function o(){n.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r(1).inherits(o,n),o.prototype.processChunk=function(e){this.streamInfo.crc32=i(e.data,this.streamInfo.crc32||0),this.push(e)},e.exports=o},function(e,t,r){"use strict";var n=r(5);t.STORE={magic:"\0\0",compressWorker:function(e){return new n("STORE compression")},uncompressWorker:function(){return new n("STORE decompression")}},t.DEFLATE=r(93)},function(e,t,r){"use strict";e.exports=function(e,t,r,n){for(var i=65535&e|0,o=e>>>16&65535|0,s=0;0!==r;){r-=s=r>2e3?2e3:r;do{o=o+(i=i+t[n++]|0)|0}while(--s);i%=65521,o%=65521}return i|o<<16|0}},function(e,t,r){"use strict";var n=function(){for(var e,t=[],r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t}();e.exports=function(e,t,r,i){var o=n,s=i+r;e^=-1;for(var a=i;a<s;a++)e=e>>>8^o[255&(e^t[a])];return-1^e}},function(e,t,r){"use strict";var n=r(10),i=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(e){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){o=!1}for(var s=new n.Buf8(256),a=0;a<256;a++)s[a]=a>=252?6:a>=248?5:a>=240?4:a>=224?3:a>=192?2:1;function h(e,t){if(t<65534&&(e.subarray&&o||!e.subarray&&i))return String.fromCharCode.apply(null,n.shrinkBuf(e,t));for(var r="",s=0;s<t;s++)r+=String.fromCharCode(e[s]);return r}s[254]=s[254]=1,t.string2buf=function(e){var t,r,i,o,s,a=e.length,h=0;for(o=0;o<a;o++)55296==(64512&(r=e.charCodeAt(o)))&&o+1<a&&56320==(64512&(i=e.charCodeAt(o+1)))&&(r=65536+(r-55296<<10)+(i-56320),o++),h+=r<128?1:r<2048?2:r<65536?3:4;for(t=new n.Buf8(h),s=0,o=0;s<h;o++)55296==(64512&(r=e.charCodeAt(o)))&&o+1<a&&56320==(64512&(i=e.charCodeAt(o+1)))&&(r=65536+(r-55296<<10)+(i-56320),o++),r<128?t[s++]=r:r<2048?(t[s++]=192|r>>>6,t[s++]=128|63&r):r<65536?(t[s++]=224|r>>>12,t[s++]=128|r>>>6&63,t[s++]=128|63&r):(t[s++]=240|r>>>18,t[s++]=128|r>>>12&63,t[s++]=128|r>>>6&63,t[s++]=128|63&r);return t},t.buf2binstring=function(e){return h(e,e.length)},t.binstring2buf=function(e){for(var t=new n.Buf8(e.length),r=0,i=t.length;r<i;r++)t[r]=e.charCodeAt(r);return t},t.buf2string=function(e,t){var r,n,i,o,a=t||e.length,f=new Array(2*a);for(n=0,r=0;r<a;)if((i=e[r++])<128)f[n++]=i;else if((o=s[i])>4)f[n++]=65533,r+=o-1;else{for(i&=2===o?31:3===o?15:7;o>1&&r<a;)i=i<<6|63&e[r++],o--;o>1?f[n++]=65533:i<65536?f[n++]=i:(i-=65536,f[n++]=55296|i>>10&1023,f[n++]=56320|1023&i)}return h(f,n)},t.utf8border=function(e,t){var r;for((t=t||e.length)>e.length&&(t=e.length),r=t-1;r>=0&&128==(192&e[r]);)r--;return r<0?t:0===r?t:r+s[e[r]]>t?r:t}},function(e,t,r){"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(e,t,r){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(e,t,r){"use strict";t.LOCAL_FILE_HEADER="PK",t.CENTRAL_FILE_HEADER="PK",t.CENTRAL_DIRECTORY_END="PK",t.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",t.ZIP64_CENTRAL_DIRECTORY_END="PK",t.DATA_DESCRIPTOR="PK\b"},function(e,t,r){"use strict";var n=r(1),i=r(9),o=r(61),s=r(107),a=r(108),h=r(63);e.exports=function(e){var t=n.getTypeOf(e);return n.checkSupport(t),"string"!==t||i.uint8array?"nodebuffer"===t?new a(e):i.uint8array?new h(n.transformTo("uint8array",e)):new o(n.transformTo("array",e)):new s(e)}},function(e,t,r){"use strict";var n=r(62);function i(e){n.call(this,e);for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}r(1).inherits(i,n),i.prototype.byteAt=function(e){return this.data[this.zero+e]},i.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),r=e.charCodeAt(1),n=e.charCodeAt(2),i=e.charCodeAt(3),o=this.length-4;o>=0;--o)if(this.data[o]===t&&this.data[o+1]===r&&this.data[o+2]===n&&this.data[o+3]===i)return o-this.zero;return-1},i.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1),n=e.charCodeAt(2),i=e.charCodeAt(3),o=this.readData(4);return t===o[0]&&r===o[1]&&n===o[2]&&i===o[3]},i.prototype.readData=function(e){if(this.checkOffset(e),0===e)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},e.exports=i},function(e,t,r){"use strict";var n=r(1);function i(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}i.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(e){},readInt:function(e){var t,r=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)r=(r<<8)+this.byteAt(t);return this.index+=e,r},readString:function(e){return n.transformTo("string",this.readData(e))},readData:function(e){},lastIndexOfSignature:function(e){},readAndCheckSignature:function(e){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},e.exports=i},function(e,t,r){"use strict";var n=r(61);function i(e){n.call(this,e)}r(1).inherits(i,n),i.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},e.exports=i},function(e,t,r){var n=r(18),i=r(28).Socket,o=r(114).lookup,s=r(8).EventEmitter,a=r(4).inherits,h=n.getHashes(),f=r(29),c=f.SSH2Stream,u=f.SFTPStream,l=f.constants,d=l.BUGS,p=l.ALGORITHMS,g=l.EDDSA_SUPPORTED,m=f.utils.parseKey,v=r(126),y=r(68),_=r(128),E=r(130),b=r(19).readUInt32BE,w=Math.pow(2,32)-1,S=/^OpenSSH_(?:(?![0-4])\d)|(?:\d{2,})/,k=function(e){};function A(){if(!(this instanceof A))return new A;s.call(this),this.config={host:void 0,port:void 0,localAddress:void 0,localPort:void 0,forceIPv4:void 0,forceIPv6:void 0,keepaliveCountMax:void 0,keepaliveInterval:void 0,readyTimeout:void 0,username:void 0,password:void 0,privateKey:void 0,tryKeyboard:void 0,agent:void 0,allowAgentFwd:void 0,authHandler:void 0,hostHashAlgo:void 0,hostHashCb:void 0,strictVendor:void 0,debug:void 0},this._readyTimeout=void 0,this._channels=void 0,this._callbacks=void 0,this._forwarding=void 0,this._forwardingUnix=void 0,this._acceptX11=void 0,this._agentFwdEnabled=void 0,this._curChan=void 0,this._remoteVer=void 0,this._sshstream=void 0,this._sock=void 0,this._resetKA=void 0}function T(e,t,r,n){var i=B(e),o=y.MAX_WINDOW,s=y.PACKET_SIZE,a=!0;if(!1===i)return n(new Error("No free channels available"));"function"==typeof r&&(n=r,r={}),e._channels[i]=n;var h=e._sshstream;return h.once("CHANNEL_OPEN_CONFIRMATION:"+i,f).once("CHANNEL_OPEN_FAILURE:"+i,c).once("CHANNEL_CLOSE:"+i,c),"session"===t?a=h.session(i,o,s):"direct-tcpip"===t?a=h.directTcpip(i,o,s,r):"direct-streamlocal@openssh.com"===t&&(a=h.openssh_directStreamLocal(i,o,s,r)),a;function f(r){h.removeListener("CHANNEL_OPEN_FAILURE:"+i,c),h.removeListener("CHANNEL_CLOSE:"+i,c);var a={type:t,incoming:{id:i,window:o,packetSize:s,state:"open"},outgoing:{id:r.sender,window:r.window,packetSize:r.packetSize,state:"open"}};n(void 0,new y(a,e))}function c(t){var r;h.removeListener("CHANNEL_OPEN_CONFIRMATION:"+i,f),h.removeListener("CHANNEL_OPEN_FAILURE:"+i,c),h.removeListener("CHANNEL_CLOSE:"+i,c),delete e._channels[i],t instanceof Error?r=t:"object"==typeof t&&null!==t?((r=new Error("(SSH) Channel open failure: "+t.description)).reason=t.reason,r.lang=t.lang):(r=new Error("(SSH) Channel open failure: server closed channel unexpectedly")).reason=r.lang="",n(r)}}function B(e){if(e._curChan<w)return++e._curChan;for(var t=0,r=e._channels;t<w;++t)if(!r[t])return t;return!1}function O(e,t,r){var n={single:!1,protocol:"MIT-MAGIC-COOKIE-1",cookie:void 0,screen:0};"function"==typeof t?r=t:"object"==typeof t&&null!==t&&("boolean"==typeof t.single&&(n.single=t.single),"number"==typeof t.screen&&(n.screen=t.screen),"string"==typeof t.protocol&&(n.protocol=t.protocol),"string"==typeof t.cookie?n.cookie=t.cookie:Buffer.isBuffer(t.cookie)&&(n.cookie=t.cookie.toString("hex"))),void 0===n.cookie&&(n.cookie=x());var i="function"==typeof r;return"open"!==e.outgoing.state?(i&&r(new Error("Channel is not open")),!0):(i&&e._callbacks.push(function(t){if(t)return r(!0!==t?t:new Error("Unable to request X11"));e._hasX11=!0,++e._client._acceptX11,e.once("close",function(){e._client._acceptX11&&--e._client._acceptX11}),r()}),e._client._sshstream.x11Forward(e.outgoing.id,n,i))}function N(e,t,r){var n=24,i=80,o=640,s=480,a="vt100",h=null;"function"==typeof t?r=t:"object"==typeof t&&null!==t&&("number"==typeof t.rows&&(n=t.rows),"number"==typeof t.cols&&(i=t.cols),"number"==typeof t.width&&(o=t.width),"number"==typeof t.height&&(s=t.height),"string"==typeof t.term&&(a=t.term),"object"==typeof t.modes&&(h=t.modes));var f="function"==typeof r;return"open"!==e.outgoing.state?(f&&r(new Error("Channel is not open")),!0):(f&&e._callbacks.push(function(e){if(e)return r(!0!==e?e:new Error("Unable to request a pseudo-terminal"));r()}),e._client._sshstream.pty(e.outgoing.id,n,i,s,o,a,h,f))}function R(e,t){var r="function"==typeof t;return"open"!==e.outgoing.state?(r&&t(new Error("Channel is not open")),!0):e._client._agentFwdEnabled?(r&&t(!1),!0):(e._client._agentFwdEnabled=!0,e._callbacks.push(function(n){if(n)return e._client._agentFwdEnabled=!1,void(r&&t(!0!==n?n:new Error("Unable to request agent forwarding")));r&&t()}),e._client._sshstream.openssh_agentForward(e.outgoing.id,!0))}function C(e,t){if("open"!==e.outgoing.state)return!0;for(var r,n,i=!0,o=Object.keys(t||{}),s=0,a=o.length;s<a;++s)n=t[r=o[s]],i=e._client._sshstream.env(e.outgoing.id,r,n,!1);return i}function U(e,t,r){return"open"!==e.outgoing.state?(r(new Error("Channel is not open")),!0):(e._callbacks.push(function(n){if(n)return r(!0!==n?n:new Error("Unable to start subsystem: "+t));e.subtype="subsystem",r(void 0,e)}),e._client._sshstream.subsystem(e.outgoing.id,t,!0))}a(A,s),A.prototype.connect=function(e){var t=this;if(this._sock&&this._sock.writable)return this.once("close",function(){t.connect(e)}),void this.end();this.config.host=e.hostname||e.host||"localhost",this.config.port=e.port||22,this.config.localAddress="string"==typeof e.localAddress?e.localAddress:void 0,this.config.localPort="string"==typeof e.localPort||"number"==typeof e.localPort?e.localPort:void 0,this.config.forceIPv4=e.forceIPv4||!1,this.config.forceIPv6=e.forceIPv6||!1,this.config.keepaliveCountMax="number"==typeof e.keepaliveCountMax&&e.keepaliveCountMax>=0?e.keepaliveCountMax:3,this.config.keepaliveInterval="number"==typeof e.keepaliveInterval&&e.keepaliveInterval>0?e.keepaliveInterval:0,this.config.readyTimeout="number"==typeof e.readyTimeout&&e.readyTimeout>=0?e.readyTimeout:2e4;var r,s={kex:void 0,kexBuf:void 0,cipher:void 0,cipherBuf:void 0,serverHostKey:void 0,serverHostKeyBuf:void 0,hmac:void 0,hmacBuf:void 0,compress:void 0,compressBuf:void 0};if("object"==typeof e.algorithms&&null!==e.algorithms){var a,f;if(f=e.algorithms.kex,Array.isArray(f)&&f.length>0){for(a=p.SUPPORTED_KEX,r=0;r<f.length;++r)if(-1===a.indexOf(f[r]))throw new Error("Unsupported key exchange algorithm: "+f[r]);s.kex=f}if(f=e.algorithms.cipher,Array.isArray(f)&&f.length>0){for(a=p.SUPPORTED_CIPHER,r=0;r<f.length;++r)if(-1===a.indexOf(f[r]))throw new Error("Unsupported cipher algorithm: "+f[r]);s.cipher=f}if(f=e.algorithms.serverHostKey,Array.isArray(f)&&f.length>0){for(a=p.SUPPORTED_SERVER_HOST_KEY,r=0;r<f.length;++r)if(-1===a.indexOf(f[r]))throw new Error("Unsupported server host key algorithm: "+f[r]);s.serverHostKey=f}if(f=e.algorithms.hmac,Array.isArray(f)&&f.length>0){for(a=p.SUPPORTED_HMAC,r=0;r<f.length;++r)if(-1===a.indexOf(f[r]))throw new Error("Unsupported HMAC algorithm: "+f[r]);s.hmac=f}if(f=e.algorithms.compress,Array.isArray(f)&&f.length>0){for(a=p.SUPPORTED_COMPRESS,r=0;r<f.length;++r)if(-1===a.indexOf(f[r]))throw new Error("Unsupported compression algorithm: "+f[r]);s.compress=f}}if(void 0===s.compress&&(e.compress?(s.compress=["zlib@openssh.com","zlib"],"force"!==e.compress&&s.compress.push("none")):!1===e.compress&&(s.compress=["none"])),"string"==typeof e.username)this.config.username=e.username;else{if("string"!=typeof e.user)throw new Error("Invalid username");this.config.username=e.user}this.config.password="string"==typeof e.password?e.password:void 0,this.config.privateKey="string"==typeof e.privateKey||Buffer.isBuffer(e.privateKey)?e.privateKey:void 0,this.config.localHostname="string"==typeof e.localHostname&&e.localHostname.length?e.localHostname:void 0,this.config.localUsername="string"==typeof e.localUsername&&e.localUsername.length?e.localUsername:void 0,this.config.tryKeyboard=!0===e.tryKeyboard,this.config.agent="string"==typeof e.agent&&e.agent.length?e.agent:void 0,this.config.allowAgentFwd=!0===e.agentForward&&void 0!==this.config.agent;var u=this.config.authHandler="function"==typeof e.authHandler?e.authHandler:void 0;this.config.strictVendor="boolean"!=typeof e.strictVendor||e.strictVendor;var d=this.config.debug="function"==typeof e.debug?e.debug:k;if(!0===e.agentForward&&!this.config.allowAgentFwd)throw new Error("You must set a valid agent path to allow agent forwarding");var v,E=this._callbacks=[];if(this._channels={},this._forwarding={},this._forwardingUnix={},this._acceptX11=0,this._agentFwdEnabled=!1,this._curChan=-1,this._remoteVer=void 0,this.config.privateKey){if((v=m(this.config.privateKey,e.passphrase))instanceof Error)throw new Error("Cannot parse privateKey: "+v.message);if(Array.isArray(v)&&(v=v[0]),null===v.getPrivatePEM())throw new Error("privateKey value does not contain a (valid) private key")}var w=this._sshstream=new c({algorithms:s,debug:d===k?void 0:d}),S=this._sock=e.sock||new i;this._sock.stderr&&"function"==typeof this._sock.stderr.resume&&this._sock.stderr.resume();var A,T,O=this.config.keepaliveInterval,N=this.config.keepaliveCountMax,R=0;function C(){if(++R>N){if(clearInterval(A),S.readable){var e=new Error("Keepalive timeout");e.level="client-timeout",t.emit("error",e),S.destroy()}}else S.writable?(E.push(U),w.ping()):clearInterval(A)}function U(){O>0&&(R=0,clearInterval(A),S.writable&&(A=setInterval(C,O)))}if(this._resetKA=U,w.on("USERAUTH_BANNER",function(e){t.emit("banner",e)}),S.on("connect",function(){d("DEBUG: Client: Connected"),t.emit("connect"),e.sock||w.pipe(S).pipe(w)}).on("timeout",function(){t.emit("timeout")}).on("error",function(e){clearTimeout(t._readyTimeout),e.level="client-socket",t.emit("error",e)}).on("end",function(){w.unpipe(S),clearTimeout(t._readyTimeout),clearInterval(A),t.emit("end")}).on("close",function(){w.unpipe(S),clearTimeout(t._readyTimeout),clearInterval(A),t.emit("close");var e=E,n=new Error("No response from server");for(E=t._callbacks=[],r=0;r<e.length;++r)e[r](n);var i=t._channels,o=Object.keys(i);for(t._channels={},r=0;r<o.length;++r){var s,a=w.emit("CHANNEL_OPEN_FAILURE:"+o[r],n),h=w.emit("CHANNEL_CLOSE:"+o[r]);a||h||!(s=i[o[r]])||"function"!=typeof s||s(n)}}),w.on("drain",function(){t.emit("drain")}).once("header",function(e){t._remoteVer=e.versions.software,e.greeting&&t.emit("greeting",e.greeting)}).on("continue",function(){t.emit("continue")}).on("error",function(e){void 0===e.level?e.level="protocol":"handshake"===e.level&&clearTimeout(t._readyTimeout),t.emit("error",e)}).on("end",function(){S.resume()}),"function"==typeof e.hostVerifier){if(-1===h.indexOf(e.hostHash))throw new Error("Invalid host hash algorithm: "+e.hostHash);var x=e.hostVerifier,I=n.createHash(e.hostHash);w.once("fingerprint",function(e,t){I.update(e);var r=x(I.digest("hex"),t);void 0!==r&&t(r)})}var D,L=null,P=null,H=0,M=["none"];if(void 0!==this.config.password&&M.push("password"),void 0!==v&&M.push("publickey"),void 0!==this.config.agent&&M.push("agent"),this.config.tryKeyboard&&M.push("keyboard-interactive"),void 0!==v&&void 0!==this.config.localHostname&&void 0!==this.config.localUsername&&M.push("hostbased"),void 0===u){var F=0;u=function(e,t,r){return F!==M.length&&M[F++]}}var G=!1;function K(e){if(G=!0,!1===e){w.removeListener("USERAUTH_FAILURE",X),w.removeListener("USERAUTH_PK_OK",W);var r=new Error("All configured authentication methods failed");return r.level="client-authentication",t.emit("error",r),void(w.writable&&t.end())}if(-1===M.indexOf(e))throw new Error("Authentication method not allowed: "+e);switch(T=e){case"password":w.authPassword(t.config.username,t.config.password);break;case"publickey":w.authPK(t.config.username,v),w.once("USERAUTH_PK_OK",W);break;case"hostbased":w.authHostbased(t.config.username,v,t.config.localHostname,t.config.localUsername,function(e,r){var n=v.sign(e);if(n instanceof Error)return n.message="Error while signing data with privateKey: "+n.message,n.level="client-authentication",t.emit("error",n),z();r(n)});break;case"agent":_(t.config.agent,function(e,r){return e?(e.level="agent",t.emit("error",e),D=void 0,z()):0===r.length?(d("DEBUG: Agent: No keys stored in agent"),D=void 0,z()):(D=r,H=0,w.authPK(t.config.username,r[0]),void w.once("USERAUTH_PK_OK",W))});break;case"keyboard-interactive":w.authKeyboard(t.config.username),w.on("USERAUTH_INFO_REQUEST",q);break;case"none":w.authNone(t.config.username)}}function z(){G=!1;var e=u(P,L,K);G||void 0===e||K(e)}function j(){if("agent"===T){if(H>=D.length)return;++H>=D.length?(d("DEBUG: Agent: No more keys left to try"),d("DEBUG: Client: agent auth failed"),D=void 0,z()):(d("DEBUG: Agent: Trying key #"+(H+1)),w.authPK(t.config.username,D[H]),w.once("USERAUTH_PK_OK",W))}}function q(e,r,n,i){if(0===(Array.isArray(i)?i.length:0))return d("DEBUG: Client: Sending automatic USERAUTH_INFO_RESPONSE"),w.authInfoRes();t.emit("keyboard-interactive",e,r,n,i,function(e){w.authInfoRes(e)})}function W(){if("agent"===T){var e=D[H],r=b(e,0),n=e.toString("ascii",4,4+r),i=n.slice(4);switch(n){case"ssh-rsa":case"ssh-dss":case"ecdsa-sha2-nistp256":case"ecdsa-sha2-nistp384":case"ecdsa-sha2-nistp521":break;default:if(g&&"ssh-ed25519"===n)break;return d("DEBUG: Agent: Skipping unsupported key type: "+n),j()}w.authPK(t.config.username,e,function(r,o){_(t.config.agent,e,i,r,function(e,r){if(e)e.level="agent",t.emit("error",e);else{var i=b(r,0);if(4+i+4<r.length){if(r.toString("ascii",4,4+i)===n)return o(r.slice(4+i+4));(e=new Error("Agent key/signature type mismatch")).level="agent",t.emit("error",e)}}j()})})}else"publickey"===T&&w.authPK(t.config.username,v,function(e,r){var n=v.sign(e);if(n instanceof Error)return n.message="Error while signing data with privateKey: "+n.message,n.level="client-authentication",t.emit("error",n),z();r(n)})}function X(e,t){if(w.removeListener("USERAUTH_PK_OK",W),w.removeListener("USERAUTH_INFO_REQUEST",q),"agent"===T)return d("DEBUG: Client: Agent key #"+(H+1)+" failed"),j();d("DEBUG: Client: "+T+" auth failed"),L=t,P=e,z()}if(w.once("USERAUTH_SUCCESS",function(){w.removeListener("USERAUTH_FAILURE",X),w.removeListener("USERAUTH_INFO_REQUEST",q),U(),clearTimeout(t._readyTimeout),t.emit("ready")}).on("USERAUTH_FAILURE",X),w.once("ready",function(){w.service("ssh-userauth"),w.once("SERVICE_ACCEPT",function(e){"ssh-userauth"===e&&z()})}),w.on("CHANNEL_OPEN",function(e){!function(e,t){var r,n=!1;function i(){var r={type:t.type,incoming:{id:n,window:y.MAX_WINDOW,packetSize:y.PACKET_SIZE,state:"open"},outgoing:{id:t.sender,window:t.window,packetSize:t.packetSize,state:"open"}},i=new y(r,e);return e._sshstream.channelOpenConfirm(t.sender,n,y.MAX_WINDOW,y.PACKET_SIZE),i}function o(){void 0===r&&(r=!1===n?l.CHANNEL_OPEN_FAILURE.RESOURCE_SHORTAGE:l.CHANNEL_OPEN_FAILURE.CONNECT_FAILED),e._sshstream.channelOpenFail(t.sender,r,"","")}if("forwarded-tcpip"===t.type||"x11"===t.type||"auth-agent@openssh.com"===t.type||"forwarded-streamlocal@openssh.com"===t.type){var s="forwarded-tcpip"===t.type&&void 0===e._forwarding[t.data.destIP+":"+t.data.destPort]||"forwarded-streamlocal@openssh.com"===t.type&&void 0===e._forwardingUnix[t.data.socketPath]||"x11"===t.type&&0===e._acceptX11||"auth-agent@openssh.com"===t.type&&!e._agentFwdEnabled;s?(r=l.CHANNEL_OPEN_FAILURE.ADMINISTRATIVELY_PROHIBITED,e.config.debug("DEBUG: Client: Automatic rejection of incoming channel open: unexpected channel open for: "+t.type)):!1===(n=B(e))?(e.config.debug("DEBUG: Client: Automatic rejection of incoming channel open: no channels available"),s=!0):e._channels[n]=!0,s&&o(),!1!==n&&("forwarded-tcpip"===t.type?(0===t.data.destPort&&(t.data.destPort=e._forwarding[t.data.destIP+":"+t.data.destPort]),e.emit("tcp connection",t.data,i,o)):"x11"===t.type?e.emit("x11",t.data,i,o):"forwarded-streamlocal@openssh.com"===t.type?e.emit("unix connection",t.data,i,o):_(e.config.agent,i,o))}else e.config.debug("DEBUG: Client: Automatic rejection of incoming channel open: unsupported type: "+t.type),r=l.CHANNEL_OPEN_FAILURE.UNKNOWN_CHANNEL_TYPE,o()}(t,e)}),w.on("REQUEST_SUCCESS",function(e){E.length&&E.shift()(!1,e)}).on("REQUEST_FAILURE",function(){E.length&&E.shift()(!0)}),w.on("GLOBAL_REQUEST",function(e,t,r){t&&w.requestFailure()}),e.sock)$(),w.pipe(S).pipe(w);else{var V=this.config.host,Y=this.config.forceIPv4,Q=this.config.forceIPv6;function Z(){$(),t._sock.connect({host:V,port:t.config.port,localAddress:t.config.localAddress,localPort:t.config.localPort}),t._sock.setNoDelay(!0),t._sock.setMaxListeners(0),t._sock.setTimeout("number"==typeof e.timeout?e.timeout:0)}d("DEBUG: Client: Trying "+V+" on port "+this.config.port+" ..."),!Y&&!Q||Y&&Q?Z():o(V,Y?4:6,function(e,r,n){if(e){var i=new Error("Error while looking up "+(Y?"IPv4":"IPv6")+" address for host "+V+": "+e);return clearTimeout(t._readyTimeout),i.level="client-dns",t.emit("error",i),void t.emit("close")}V=r,Z()})}function $(){t.config.readyTimeout>0&&(t._readyTimeout=setTimeout(function(){var e=new Error("Timed out while waiting for handshake");e.level="client-timeout",t.emit("error",e),S.destroy()},t.config.readyTimeout))}},A.prototype.end=function(){return!!(this._sock&&this._sock.writable&&this._sshstream&&this._sshstream.writable)&&this._sshstream.disconnect()},A.prototype.destroy=function(){this._sock&&this._sock.destroy()},A.prototype.exec=function(e,t,r){if(!(this._sock&&this._sock.writable&&this._sshstream&&this._sshstream.writable))throw new Error("Not connected");"function"==typeof t&&(r=t,t={});var n=this;return T(this,"session",{allowHalfOpen:!1!==t.allowHalfOpen},function(i,o){if(i)return r(i);var s=[];function a(e){if(e)return o.close(),r(e);s.length&&s.shift()()}(!0===n.config.allowAgentFwd||t&&!0===t.agentForward&&void 0!==n.config.agent)&&s.push(function(){R(o,a)}),"object"==typeof t&&null!==t&&("object"==typeof t.env&&null!==t.env&&C(o,t.env),("object"==typeof t.pty&&null!==t.pty||!0===t.pty)&&s.push(function(){N(o,t.pty,a)}),("object"==typeof t.x11&&null!==t.x11||"number"===t.x11||!0===t.x11)&&s.push(function(){O(o,t.x11,a)})),s.push(function(){!function(e,t,r,n){if("open"!==e.outgoing.state)return n(new Error("Channel is not open")),!0;e._callbacks.push(function(t){if(t)return n(!0!==t?t:new Error("Unable to exec"));e.subtype="exec",e.allowHalfOpen=!1!==r.allowHalfOpen,n(void 0,e)}),e._client._sshstream.exec(e.outgoing.id,t,!0)}(o,e,t,r)}),s.shift()()})},A.prototype.shell=function(e,t,r){if(!(this._sock&&this._sock.writable&&this._sshstream&&this._sshstream.writable))throw new Error("Not connected");var n=this;return"function"==typeof e?(r=e,e=t=void 0):"function"==typeof t&&(r=t,t=void 0),!e||void 0===e.x11&&void 0===e.env||(t=e,e=void 0),T(this,"session",function(i,o){if(i)return r(i);var s=[];function a(e){if(e)return o.close(),r(e);s.length&&s.shift()()}(!0===n.config.allowAgentFwd||t&&!0===t.agentForward&&void 0!==n.config.agent)&&s.push(function(){R(o,a)}),!1!==e&&s.push(function(){N(o,e,a)}),"object"==typeof t&&null!==t&&("object"==typeof t.env&&null!==t.env&&C(o,t.env),("object"==typeof t.x11&&null!==t.x11||"number"===t.x11||!0===t.x11)&&s.push(function(){O(o,t.x11,a)})),s.push(function(){!function(e,t){if("open"!==e.outgoing.state)return t(new Error("Channel is not open")),!0;e._callbacks.push(function(r){if(r)return t(!0!==r?r:new Error("Unable to open shell"));e.subtype="shell",t(void 0,e)}),e._client._sshstream.shell(e.outgoing.id,!0)}(o,r)}),s.shift()()})},A.prototype.subsys=function(e,t){if(!(this._sock&&this._sock.writable&&this._sshstream&&this._sshstream.writable))throw new Error("Not connected");return T(this,"session",function(r,n){if(r)return t(r);U(n,e,function(e,r){if(e)return t(e);t(void 0,r)})})},A.prototype.sftp=function(e){if(!(this._sock&&this._sock.writable&&this._sshstream&&this._sshstream.writable))throw new Error("Not connected");var t=this;return T(this,"session",function(r,n){if(r)return e(r);U(n,"sftp",function(r,n){if(r)return e(r);var i=t._sshstream._state.incoming.identRaw,o={debug:t.config.debug},s=new u(o,i);function a(t){s.removeListener("ready",h),n.removeListener("exit",f),e(t)}function h(){s.removeListener("error",a),n.removeListener("exit",f),e(void 0,new E(s))}function f(t,r){s.removeListener("ready",h),s.removeListener("error",a);var n=new Error("number"==typeof t?"Received exit code "+t+" while establishing SFTP session":"Received signal "+r+" while establishing SFTP session");n.code=t,n.signal=r,e(n)}s.once("error",a).once("ready",h).once("close",function(){n.end()}),n.once("exit",f),s.pipe(n).pipe(s)})})},A.prototype.forwardIn=function(e,t,r){if(!(this._sock&&this._sock.writable&&this._sshstream&&this._sshstream.writable))throw new Error("Not connected");var n=this,i="function"==typeof r;return i&&this._callbacks.push(function(i,o){if(i)return r(!0!==i?i:new Error("Unable to bind to "+e+":"+t));var s=t;0===t&&o&&o.length>=4&&(s=b(o,0),n._sshstream.remoteBugs&d.DYN_RPORT_BUG||(t=s)),n._forwarding[e+":"+t]=s,r(void 0,s)}),this._sshstream.tcpipForward(e,t,i)},A.prototype.unforwardIn=function(e,t,r){if(!(this._sock&&this._sock.writable&&this._sshstream&&this._sshstream.writable))throw new Error("Not connected");var n=this,i="function"==typeof r;return i&&this._callbacks.push(function(i){if(i)return r(!0!==i?i:new Error("Unable to unbind from "+e+":"+t));delete n._forwarding[e+":"+t],r()}),this._sshstream.cancelTcpipForward(e,t,i)},A.prototype.forwardOut=function(e,t,r,n,i){if(!(this._sock&&this._sock.writable&&this._sshstream&&this._sshstream.writable))throw new Error("Not connected");return T(this,"direct-tcpip",{srcIP:e,srcPort:t,dstIP:r,dstPort:n},i)},A.prototype.openssh_noMoreSessions=function(e){if(!(this._sock&&this._sock.writable&&this._sshstream&&this._sshstream.writable))throw new Error("Not connected");var t="function"==typeof e;return!this.config.strictVendor||this.config.strictVendor&&S.test(this._remoteVer)?(t&&this._callbacks.push(function(t){if(t)return e(!0!==t?t:new Error("Unable to disable future sessions"));e()}),this._sshstream.openssh_noMoreSessions(t)):(t&&process.nextTick(function(){e(new Error("strictVendor enabled and server is not OpenSSH or compatible version"))}),!0)},A.prototype.openssh_forwardInStreamLocal=function(e,t){if(!(this._sock&&this._sock.writable&&this._sshstream&&this._sshstream.writable))throw new Error("Not connected");var r="function"==typeof t,n=this;return!this.config.strictVendor||this.config.strictVendor&&S.test(this._remoteVer)?(r&&this._callbacks.push(function(r){if(r)return t(!0!==r?r:new Error("Unable to bind to "+e));n._forwardingUnix[e]=!0,t()}),this._sshstream.openssh_streamLocalForward(e,r)):(r&&process.nextTick(function(){t(new Error("strictVendor enabled and server is not OpenSSH or compatible version"))}),!0)},A.prototype.openssh_unforwardInStreamLocal=function(e,t){if(!(this._sock&&this._sock.writable&&this._sshstream&&this._sshstream.writable))throw new Error("Not connected");var r="function"==typeof t,n=this;return!this.config.strictVendor||this.config.strictVendor&&S.test(this._remoteVer)?(r&&this._callbacks.push(function(r){if(r)return t(!0!==r?r:new Error("Unable to unbind on "+e));delete n._forwardingUnix[e],t()}),this._sshstream.openssh_cancelStreamLocalForward(e,r)):(r&&process.nextTick(function(){t(new Error("strictVendor enabled and server is not OpenSSH or compatible version"))}),!0)},A.prototype.openssh_forwardOutStreamLocal=function(e,t){if(!(this._sock&&this._sock.writable&&this._sshstream&&this._sshstream.writable))throw new Error("Not connected");return!this.config.strictVendor||this.config.strictVendor&&S.test(this._remoteVer)?T(this,"direct-streamlocal@openssh.com",{socketPath:e},t):(process.nextTick(function(){t(new Error("strictVendor enabled and server is not OpenSSH or compatible version"))}),!0)};var x=function(){if("function"==typeof n.randomFillSync){var e=Buffer.alloc(16);return function(){return n.randomFillSync(e,0,16),e.toString("hex")}}return function(){return n.randomBytes(16).toString("hex")}}();A.Client=A,A.Server=r(131),A.utils=f.utils,A.SFTP_STATUS_CODE=u.STATUS_CODE,A.SFTP_OPEN_MODE=u.OPEN_MODE,A.HTTPAgent=v.SSHTTPAgent,A.HTTPSAgent=v.SSHTTPSAgent,e.exports=A},function(e,t,r){var n=r(116);e.exports={Ber:n,BerReader:n.Reader,BerWriter:n.Writer}},function(e,t,r){"use strict";var n,i=r(42),o=i.Buffer,s={};for(n in i)i.hasOwnProperty(n)&&"SlowBuffer"!==n&&"Buffer"!==n&&(s[n]=i[n]);var a=s.Buffer={};for(n in o)o.hasOwnProperty(n)&&"allocUnsafe"!==n&&"allocUnsafeSlow"!==n&&(a[n]=o[n]);if(s.Buffer.prototype=o.prototype,a.from&&a.from!==Uint8Array.from||(a.from=function(e,t,r){if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type '+typeof e);if(e&&void 0===e.length)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);return o(e,t,r)}),a.alloc||(a.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError('The "size" argument must be of type number. Received type '+typeof e);if(e<0||e>=2*(1<<30))throw new RangeError('The value "'+e+'" is invalid for option "size"');var n=o(e);return t&&0!==t.length?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n}),!s.kStringMaxLength)try{s.kStringMaxLength=process.binding("buffer").kStringMaxLength}catch(e){}s.constants||(s.constants={MAX_LENGTH:s.kMaxLength},s.kStringMaxLength&&(s.constants.MAX_STRING_LENGTH=s.kStringMaxLength)),e.exports=s},function(e,t,r){var n,i=r(18),o=i.sign,s=i.verify,a=i.createSign,h=i.createVerify,f=i.createDecipheriv,c=i.createHash,u=i.createHmac,l=i.getCiphers(),d=r(65).Ber,p=r(119).pbkdf,g=r(11),m=g.readUInt32BE,v=g.writeUInt32BE,y=r(32),_=y.ALGORITHMS.SUPPORTED_CIPHER,E=y.CIPHER_INFO,b=y.SSH_TO_OPENSSL,w=y.EDDSA_SUPPORTED,S=Symbol("Hash Algorithm"),k=Symbol("Private key PEM"),A=Symbol("Public key PEM"),T=Symbol("Public key SSH"),B=Symbol("Decrypted Key"),O=Object.create(null);!function(){for(var e=Object.keys(E),t=0;t<e.length;++t){var r=b[e[t]];r&&!O[r]&&(O[r]=E[e[t]])}}();var N="function"==typeof String.prototype.trimStart?function(e){return e.trimStart()}:function(e){for(var t=0,r=0;r<e.length;++r){switch(e.charCodeAt(r)){case 32:case 9:case 13:case 10:case 12:++t;continue}break}return 0===t?e:e.slice(t)};function R(e,t){return"-----BEGIN "+e+" KEY-----\n"+(t=t.toString("base64")).replace(/.{64}/g,"$&\n")+(t.length%64?"\n":"")+"-----END "+e+" KEY-----"}function C(e,t){var r=Buffer.allocUnsafe(e.length+t.length);return e.copy(r,0),t.copy(r,e.length),r}function U(e,t){for(var r=e.length,n=e._pos||0,i=0;i<t;++i){var o=r-n;if(n>=r||o<4)return!1;var s=m(e,n);if(o<4+s)return!1;n+=4+s}return e._pos=n,!0}function x(e,t){var r=new d.Writer;return r.startSequence(),r.startSequence(),r.writeOID("1.2.840.113549.1.1.1"),r.writeNull(),r.endSequence(),r.startSequence(d.BitString),r.writeByte(0),r.startSequence(),r.writeBuffer(e,d.Integer),r.writeBuffer(t,d.Integer),r.endSequence(),r.endSequence(),r.endSequence(),R("PUBLIC",r.buffer)}function I(e,t){var r=Buffer.allocUnsafe(15+e.length+4+t.length);v(r,7,0),r.write("ssh-rsa",4,7,"ascii");var n=11;return v(r,t.length,n),t.copy(r,n+=4),v(r,e.length,n+=t.length),e.copy(r,n+4),r}var D=function(){function e(e,t,r,n,i,o,s,a){var h=new d.Writer;return h.startSequence(),h.writeInt(0,d.Integer),h.writeBuffer(e,d.Integer),h.writeBuffer(t,d.Integer),h.writeBuffer(r,d.Integer),h.writeBuffer(n,d.Integer),h.writeBuffer(i,d.Integer),h.writeBuffer(o,d.Integer),h.writeBuffer(s,d.Integer),h.writeBuffer(a,d.Integer),h.endSequence(),h.buffer}try{var t=["return function genOpenSSLRSAPriv(n, e, d, iqmp, p, q) {","  var bn_d = bigIntFromBuffer(d);","  var dmp1 = bigIntToBuffer(bn_d % (bigIntFromBuffer(p) - 1n));","  var dmq1 = bigIntToBuffer(bn_d % (bigIntFromBuffer(q) - 1n));","  return makePEM('RSA PRIVATE', genRSAASN1Buf(n, e, d, p, q, dmp1, dmq1, iqmp));","};"].join("\n");return new Function("bigIntFromBuffer, bigIntToBuffer, makePEM, genRSAASN1Buf",t)(function(e){return BigInt("0x"+e.toString("hex"))},function(e){var t=e.toString(16);if(0!=(1&t.length))t="0"+t;else{var r=t.charCodeAt(0);(56===r||r>=97&&r<=102)&&(t="00"+t)}return Buffer.from(t,"hex")},R,e)}catch(t){return n=r(121),function(t,r,i,o,s,a){var h=new n(s,256),f=new n(a,256),c=new n(i,256),u=c.mod(h.subtract(n.ONE)),l=c.mod(f.subtract(n.ONE));return R("RSA PRIVATE",e(t,r,i,s,a,Buffer.from(u.toByteArray()),Buffer.from(l.toByteArray()),o))}}var n}();function L(e,t,r,n){var i=new d.Writer;return i.startSequence(),i.startSequence(),i.writeOID("1.2.840.10040.4.1"),i.startSequence(),i.writeBuffer(e,d.Integer),i.writeBuffer(t,d.Integer),i.writeBuffer(r,d.Integer),i.endSequence(),i.endSequence(),i.startSequence(d.BitString),i.writeByte(0),i.writeBuffer(n,d.Integer),i.endSequence(),i.endSequence(),R("PUBLIC",i.buffer)}function P(e,t,r,n){var i=Buffer.allocUnsafe(15+e.length+4+t.length+4+r.length+4+n.length);v(i,7,0),i.write("ssh-dss",4,7,"ascii");var o=11;return v(i,e.length,o),e.copy(i,o+=4),v(i,t.length,o+=e.length),t.copy(i,o+=4),v(i,r.length,o+=t.length),r.copy(i,o+=4),v(i,n.length,o+=r.length),n.copy(i,o+4),i}function H(e,t,r,n,i){var o=new d.Writer;return o.startSequence(),o.writeInt(0,d.Integer),o.writeBuffer(e,d.Integer),o.writeBuffer(t,d.Integer),o.writeBuffer(r,d.Integer),o.writeBuffer(n,d.Integer),o.writeBuffer(i,d.Integer),o.endSequence(),R("DSA PRIVATE",o.buffer)}function M(e){var t=new d.Writer;return t.startSequence(),t.startSequence(),t.writeOID("1.3.101.112"),t.endSequence(),t.writeBuffer(e,d.BitString),t.endSequence(),R("PUBLIC",t.buffer)}function F(e){var t=Buffer.allocUnsafe(19+e.length);return v(t,11,0),t.write("ssh-ed25519",4,11,"ascii"),v(t,e.length,15),e.copy(t,19),t}function G(e,t){var r=new d.Writer;return r.startSequence(),r.startSequence(),r.writeOID("1.2.840.10045.2.1"),r.writeOID(e),r.endSequence(),r.startSequence(d.BitString),r.writeByte(0),r._ensure(t.length),t.copy(r._buf,r._offset,0,t.length),r._offset+=t.length,r.endSequence(),r.endSequence(),R("PUBLIC",r.buffer)}function K(e,t){var r;switch(e){case"1.2.840.10045.3.1.7":r="nistp256";break;case"1.3.132.0.34":r="nistp384";break;case"1.3.132.0.35":r="nistp521";break;default:return}var n=Buffer.allocUnsafe(39+t.length);return v(n,19,0),n.write("ecdsa-sha2-"+r,4,19,"ascii"),v(n,8,23),n.write(r,27,8,"ascii"),v(n,t.length,35),t.copy(n,39),n}function z(e,t,r){var n=new d.Writer;return n.startSequence(),n.writeInt(1,d.Integer),n.writeBuffer(r,d.OctetString),n.startSequence(160),n.writeOID(e),n.endSequence(),n.startSequence(161),n.startSequence(d.BitString),n.writeByte(0),n._ensure(t.length),t.copy(n._buf,n._offset,0,t.length),n._offset+=t.length,n.endSequence(),n.endSequence(),n.endSequence(),R("EC PRIVATE",n.buffer)}var j,q={sign:"function"==typeof o?function(e){var t=this[k];if(null===t)return new Error("No private key available");try{return o(this[S],e,t)}catch(e){return e}}:function(e){var t=this[k];if(null===t)return new Error("No private key available");var r=a(this[S]);return r.update(e),function(e,t){try{return e.sign(t)}catch(e){return e}}(r,t)},verify:"function"==typeof s?function(e,t){var r=this[A];if(null===r)return new Error("No public key available");try{return s(this[S],e,r,t)}catch(e){return e}}:function(e,t){var r=this[A];if(null===r)return new Error("No public key available");var n=h(this[S]);return n.update(e),function(e,t,r){try{return e.verify(t,r)}catch(e){return e}}(n,r,t)},getPrivatePEM:function(){return this[k]},getPublicPEM:function(){return this[A]},getPublicSSH:function(){return this[T]}};function W(e,t,r,n,i,o,s){this.type=e,this.comment=t,this[k]=r,this[A]=n,this[T]=i,this[S]=o,this[B]=s}function X(e,t,r,n,i,o,s){this.type=e,this.comment=t,this[k]=r,this[A]=n,this[T]=i,this[S]=o,this[B]=s}function V(e,t,r,n,i,o,s){this.type=e,this.comment=t,this[k]=r,this[A]=n,this[T]=i,this[S]=o,this[B]=s}function Y(e,t,i,o){var s;n||(n=r(7));var a=null,h=null;switch(t){case"ssh-rsa":var f=n.readString(e,e._pos);if(!1===f)return new Error("Malformed OpenSSH public key");var c=n.readString(e,e._pos);if(!1===c)return new Error("Malformed OpenSSH public key");a=x(c,f),h=I(c,f),s="sha1";break;case"ssh-dss":var u=n.readString(e,e._pos);if(!1===u)return new Error("Malformed OpenSSH public key");var l=n.readString(e,e._pos);if(!1===l)return new Error("Malformed OpenSSH public key");var d=n.readString(e,e._pos);if(!1===d)return new Error("Malformed OpenSSH public key");var p=n.readString(e,e._pos);if(!1===p)return new Error("Malformed OpenSSH public key");a=L(u,l,d,p),h=P(u,l,d,p),s="sha1";break;case"ssh-ed25519":var g=n.readString(e,e._pos);if(!1===g||32!==g.length)return new Error("Malformed OpenSSH public key");a=M(g),h=F(g),s=null;break;case"ecdsa-sha2-nistp256":s="sha256",oid="1.2.840.10045.3.1.7";case"ecdsa-sha2-nistp384":void 0===s&&(s="sha384",oid="1.3.132.0.34");case"ecdsa-sha2-nistp521":if(void 0===s&&(s="sha512",oid="1.3.132.0.35"),!U(e,1))return new Error("Malformed OpenSSH public key");var m=n.readString(e,e._pos);if(!1===m)return new Error("Malformed OpenSSH public key");a=G(oid,m),h=K(oid,m);break;default:return new Error("Unsupported OpenSSH public key type: "+t)}return new Q(o,i,a,h,s)}function Q(e,t,r,n,i){this.type=e,this.comment=t,this[k]=null,this[A]=r,this[T]=n,this[S]=i,this[B]=!1}function Z(e,t,r,n,i){this.type=e,this.comment=t,this[k]=null,this[A]=r,this[T]=n,this[S]=i,this[B]=!1}W.prototype=q,j=/^-----BEGIN OPENSSH PRIVATE KEY-----(?:\r\n|\n)([\s\S]+)(?:\r\n|\n)-----END OPENSSH PRIVATE KEY-----$/,W.parse=function(e,t){var i,o=j.exec(e);if(null===o)return null;var s=Buffer.from(o[1],"base64");if(s.length<31)return new Error("Malformed OpenSSH private key");var a=s.toString("ascii",0,15);if("openssh-key-v1\0"!==a)return new Error("Unsupported OpenSSH key magic: "+a);n||(n=r(7));var h=n.readString(s,15,"ascii");if(!1===h)return new Error("Malformed OpenSSH private key");if("none"!==h&&-1===_.indexOf(h))return new Error("Unsupported cipher for OpenSSH key: "+h);var c,u,l,g=n.readString(s,s._pos,"ascii");if(!1===g)return new Error("Malformed OpenSSH private key");if("none"!==g){if("none"===h)return new Error("Malformed OpenSSH private key");if("bcrypt"!==g)return new Error("Unsupported kdf name for OpenSSH key: "+g);if(!t)return new Error("Encrypted private OpenSSH key detected, but no passphrase given")}else if("none"!==h)return new Error("Malformed OpenSSH private key");"none"!==h&&(c=E[h]);var v=n.readString(s,s._pos);if(!1===v)return new Error("Malformed OpenSSH private key");if(v.length)switch(g){case"none":return new Error("Malformed OpenSSH private key");case"bcrypt":var y=n.readString(v,0);if(!1===y||v._pos+4>v.length)return new Error("Malformed OpenSSH private key");var S=m(v,v._pos),k=Buffer.allocUnsafe(c.keyLen+c.ivLen);if(0!==p(t,t.length,y,y.length,k,k.length,S))return new Error("Failed to generate information to decrypt key");u=k.slice(0,c.keyLen),l=k.slice(c.keyLen)}else if("none"!==g)return new Error("Malformed OpenSSH private key");var A=n.readInt(s,s._pos);if(!1===A)return new Error("Malformed OpenSSH private key");if(s._pos+=4,A>0){for(var T=0;T<A;++T){var B=n.readString(s,s._pos);if(!1===B)return new Error("Malformed OpenSSH private key");if(!1===n.readString(B,0,"ascii"))return new Error("Malformed OpenSSH private key")}var O=n.readString(s,s._pos);if(!1===O)return new Error("Malformed OpenSSH private key");if(void 0!==u){if(O.length<c.blockLen||O.length%c.blockLen!=0)return new Error("Malformed OpenSSH private key");try{var N={authTagLength:c.authLen},q=f(b[h],u,l,N);if(c.authLen>0){if(s.length-s._pos<c.authLen)return new Error("Malformed OpenSSH private key");q.setAuthTag(s.slice(s._pos,s._pos+=c.authLen))}O=C(q.update(O),q.final())}catch(e){return e}}if(s._pos!==s.length)return new Error("Malformed OpenSSH private key");i=function(e,t,r){var i,o,s,a,h=[];if(e.length<8)return new Error("Malformed OpenSSH private key");if(m(e,0)!==m(e,4))return r?new Error("OpenSSH key integrity check failed -- bad passphrase?"):new Error("OpenSSH key integrity check failed");for(e._pos=8,i=0;i<t;++i){var f=void 0,c=void 0,u=void 0,l=void 0,p=n.readString(e,e._pos,"ascii");if(!1===p)return new Error("Malformed OpenSSH private key");switch(p){case"ssh-rsa":var g=n.readString(e,e._pos);if(!1===g)return new Error("Malformed OpenSSH private key");var v=n.readString(e,e._pos);if(!1===v)return new Error("Malformed OpenSSH private key");var y=n.readString(e,e._pos);if(!1===y)return new Error("Malformed OpenSSH private key");var _=n.readString(e,e._pos);if(!1===_)return new Error("Malformed OpenSSH private key");if(!1===(E=n.readString(e,e._pos)))return new Error("Malformed OpenSSH private key");if(!1===(b=n.readString(e,e._pos)))return new Error("Malformed OpenSSH private key");u=x(g,v),l=I(g,v),c=D(g,v,y,_,E,b),f="sha1";break;case"ssh-dss":var E,b;if(!1===(E=n.readString(e,e._pos)))return new Error("Malformed OpenSSH private key");if(!1===(b=n.readString(e,e._pos)))return new Error("Malformed OpenSSH private key");var S=n.readString(e,e._pos);if(!1===S)return new Error("Malformed OpenSSH private key");var k=n.readString(e,e._pos);if(!1===k)return new Error("Malformed OpenSSH private key");var A=n.readString(e,e._pos);if(!1===A)return new Error("Malformed OpenSSH private key");u=L(E,b,S,k),l=P(E,b,S,k),c=H(E,b,S,k,A),f="sha1";break;case"ssh-ed25519":if(!w)return new Error("Unsupported OpenSSH private key type: "+p);var T=n.readString(e,e._pos);if(!1===T||32!==T.length)return new Error("Malformed OpenSSH private key");var B=n.readString(e,e._pos);if(!1===B||64!==B.length)return new Error("Malformed OpenSSH private key");u=M(T),l=F(T),s=B.slice(0,32),a=void 0,(a=new d.Writer).startSequence(),a.writeInt(0,d.Integer),a.startSequence(),a.writeOID("1.3.101.112"),a.endSequence(),a.startSequence(d.OctetString),a.writeBuffer(s,d.OctetString),a.endSequence(),a.endSequence(),c=R("PRIVATE",a.buffer),f=null;break;case"ecdsa-sha2-nistp256":f="sha256",o="1.2.840.10045.3.1.7";case"ecdsa-sha2-nistp384":void 0===f&&(f="sha384",o="1.3.132.0.34");case"ecdsa-sha2-nistp521":if(void 0===f&&(f="sha512",o="1.3.132.0.35"),!U(e,1))return new Error("Malformed OpenSSH private key");var O=n.readString(e,e._pos);if(!1===O)return new Error("Malformed OpenSSH private key");var N=n.readString(e,e._pos);if(!1===N)return new Error("Malformed OpenSSH private key");u=G(o,O),l=K(o,O),c=z(o,O,N);break;default:return new Error("Unsupported OpenSSH private key type: "+p)}var C=n.readString(e,e._pos,"utf8");if(!1===C)return new Error("Malformed OpenSSH private key");h.push(new W(p,C,c,u,l,f,r))}var j=0;for(i=e._pos;i<e.length;++i)if(e[i]!==++j%255)return new Error("Malformed OpenSSH private key");return h}(O,A,void 0!==u)}else i=[];return i},X.prototype=q,function(){var e=/^-----BEGIN (RSA|DSA|EC) PRIVATE KEY-----(?:\r\n|\n)((?:[^:]+:\s*[\S].*(?:\r\n|\n))*)([\s\S]+)(?:\r\n|\n)-----END (RSA|DSA|EC) PRIVATE KEY-----$/;X.parse=function(t,r){var n=e.exec(t);if(null===n)return null;var o,s,a,h,u,p,g=Buffer.from(n[3],"base64"),m=n[2],v=!1;if(void 0!==m){m=m.split(/\r\n|\n/g);for(var y=0;y<m.length;++y){var _=m[y],E=_.indexOf(":");if("DEK-Info"===_.slice(0,E)){var b=_.slice(E+2);if(-1===(E=b.indexOf(",")))continue;var w=b.slice(0,E).toLowerCase();if(-1===l.indexOf(w))return new Error("Cipher ("+w+") not supported for encrypted OpenSSH private key");var S=O[w];if(!S)return new Error("Cipher ("+w+") not supported for encrypted OpenSSH private key");var k=Buffer.from(b.slice(E+1),"hex");if(k.length!==S.ivLen)return new Error("Malformed encrypted OpenSSH private key");if(!r)return new Error("Encrypted OpenSSH private key detected, but no passphrase given");for(var A=c("md5").update(r).update(k.slice(0,8)).digest();A.length<S.keyLen;)A=C(A,c("md5").update(A).update(r).update(k).digest().slice(0,8));A.length>S.keyLen&&(A=A.slice(0,S.keyLen));try{var T=f(w,A,k);T.setAutoPadding(!1),g=C(T.update(g),T.final()),v=!0}catch(e){return e}}}}var B,N,U,D="Malformed OpenSSH private key";switch(v&&(D+=". Bad passphrase?"),n[1]){case"RSA":o="ssh-rsa",s=R("RSA PRIVATE",g);try{(p=new d.Reader(g)).readSequence(),p.readInt();var H=p.readString(d.Integer,!0);if(null===H)return new Error(D);var M=p.readString(d.Integer,!0);if(null===M)return new Error(D);a=x(H,M),h=I(H,M)}catch(e){return new Error(D)}u="sha1";break;case"DSA":o="ssh-dss",s=R("DSA PRIVATE",g);try{(p=new d.Reader(g)).readSequence(),p.readInt();var F=p.readString(d.Integer,!0);if(null===F)return new Error(D);var z=p.readString(d.Integer,!0);if(null===z)return new Error(D);var j=p.readString(d.Integer,!0);if(null===j)return new Error(D);var q=p.readString(d.Integer,!0);if(null===q)return new Error(D);a=L(F,z,j,q),h=P(F,z,j,q)}catch(e){return new Error(D)}u="sha1";break;case"EC":var W,V;try{(p=new d.Reader(g)).readSequence(),p.readInt(),V=p.readString(d.OctetString,!0),p.readByte();var Y=p.readLength();if(null===Y)return new Error(D);p._offset=Y;var Q=p.readOID();if(null===Q)return new Error(D);switch(Q){case"1.2.840.10045.3.1.7":W="prime256v1",o="ecdsa-sha2-nistp256",u="sha256";break;case"1.3.132.0.34":W="secp384r1",o="ecdsa-sha2-nistp384",u="sha384";break;case"1.3.132.0.35":W="secp521r1",o="ecdsa-sha2-nistp521",u="sha512";break;default:return new Error("Unsupported private key EC OID: "+Q)}}catch(e){return new Error(D)}s=R("EC PRIVATE",g);var Z=(B=W,N=V,(U=i.createECDH(B)).setPrivateKey(N),U.getPublicKey());a=G(Q,Z),h=K(Q,Z)}return new X(o,"",s,a,h,u,v)}}(),V.prototype=q,function(){var e=Buffer.alloc(0),t=Buffer.from([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),i=Buffer.from([0,0,0,0]),o=Buffer.from([0,0,0,1]),s=/^PuTTY-User-Key-File-2: (ssh-(?:rsa|dss))\r?\nEncryption: (aes256-cbc|none)\r?\nComment: ([^\r\n]*)\r?\nPublic-Lines: \d+\r?\n([\s\S]+?)\r?\nPrivate-Lines: \d+\r?\n([\s\S]+?)\r?\nPrivate-MAC: ([^\r\n]+)/;V.parse=function(a,h){var l=s.exec(a);if(null===l)return null;var d=l[2],p="none"!==d;if(p&&!h)return new Error("Encrypted PPK private key detected, but no passphrase given");var g=Buffer.from(l[5],"base64");if(p){var m=E[d],y=C(c("sha1").update(i).update(h).digest(),c("sha1").update(o).update(h).digest());y.length>m.keyLen&&(y=y.slice(0,m.keyLen));try{var _=f(b[d],y,t);_.setAutoPadding(!1),g=C(_.update(g),_.final()),decrypted=!0}catch(e){return e}}var w,S,k,A=l[1],T=l[3],B=Buffer.from(l[4],"base64"),O=l[6],N=A.length,R=d.length,M=Buffer.byteLength(T),F=B.length,G=g.length,K=Buffer.allocUnsafe(4+N+4+R+4+M+4+F+4+G);if(v(K,N,X=0),K.write(A,X+=4,N,"ascii"),v(K,R,X+=N),K.write(d,X+=4,R,"ascii"),v(K,M,X+=R),K.write(T,X+=4,M,"utf8"),v(K,F,X+=M),B.copy(K,X+=4),v(K,G,X+=F),g.copy(K,X+4),h||(h=e),u("sha1",c("sha1").update("putty-private-key-file-mac-key").update(h).digest()).update(K).digest("hex")!==O)return p?new Error("PPK private key integrity check failed -- bad passphrase?"):new Error("PPK private key integrity check failed");switch(n||(n=r(7)),B._pos=0,U(B,1),A){case"ssh-rsa":var z=n.readString(B,B._pos);if(!1===z)return new Error("Malformed PPK public key");var j=n.readString(B,B._pos);if(!1===j)return new Error("Malformed PPK public key");var q=n.readString(g,0);if(!1===q)return new Error("Malformed PPK private key");if(!1===(X=n.readString(g,g._pos)))return new Error("Malformed PPK private key");if(!1===(Y=n.readString(g,g._pos)))return new Error("Malformed PPK private key");var W=n.readString(g,g._pos);if(!1===W)return new Error("Malformed PPK private key");w=x(j,z),S=I(j,z),k=D(j,z,q,W,X,Y);break;case"ssh-dss":var X,Y;if(!1===(X=n.readString(B,B._pos)))return new Error("Malformed PPK public key");if(!1===(Y=n.readString(B,B._pos)))return new Error("Malformed PPK public key");var Q=n.readString(B,B._pos);if(!1===Q)return new Error("Malformed PPK public key");var Z=n.readString(B,B._pos);if(!1===Z)return new Error("Malformed PPK public key");var $=n.readString(g,0);if(!1===$)return new Error("Malformed PPK private key");w=L(X,Y,Q,Z),S=P(X,Y,Q,Z),k=H(X,Y,Q,Z,$)}return new V(A,T,k,w,S,"sha1",p)}}(),Q.prototype=q,function(){var e;e=w?/^(((?:ssh-(?:rsa|dss|ed25519))|ecdsa-sha2-nistp(?:256|384|521))(?:-cert-v0[01]@openssh.com)?) ([A-Z0-9a-z\/+=]+)(?:$|\s+([\S].*)?)$/:/^(((?:ssh-(?:rsa|dss))|ecdsa-sha2-nistp(?:256|384|521))(?:-cert-v0[01]@openssh.com)?) ([A-Z0-9a-z\/+=]+)(?:$|\s+([\S].*)?)$/,Q.parse=function(t){var i=e.exec(t);if(null===i)return null;n||(n=r(7));var o=i[1],s=i[2],a=Buffer.from(i[3],"base64"),h=i[4]||"",f=n.readString(a,a._pos,"ascii");return!1===f||0!==f.indexOf(s)?new Error("Malformed OpenSSH public key"):Y(a,s,h,o)}}(),Z.prototype=q,function(){var e=/^---- BEGIN SSH2 PUBLIC KEY ----(?:\r\n|\n)((?:(?:[\x21-\x7E]+?):(?:(?:.*?\\\r?\n)*.*)(?:\r\n|\n))*)((?:[A-Z0-9a-z\/+=]+(?:\r\n|\n))+)---- END SSH2 PUBLIC KEY ----$/,t=/^([\x21-\x7E]+?):((?:.*?\\\r?\n)*.*)$/gm,i=/\\\r?\n/g;Z.parse=function(o){var s=e.exec(o);if(null===s)return null;var a=s[1],h=Buffer.from(s[2],"base64"),f="";if(void 0!==a)for(;s=t.exec(a);)"comment"===s[1].toLowerCase()&&(f=N(s[2].replace(i,""))).length>1&&34===f.charCodeAt(0)&&34===f.charCodeAt(f.length-1)&&(f=f.slice(1,-1));n||(n=r(7));var c=n.readString(h,0,"ascii");if(!1===c)return new Error("Malformed RFC4716 public key");var u=null,l=null;switch(c){case"ssh-rsa":var d=n.readString(h,h._pos);if(!1===d)return new Error("Malformed RFC4716 public key");var p=n.readString(h,h._pos);if(!1===p)return new Error("Malformed RFC4716 public key");u=x(p,d),l=I(p,d);break;case"ssh-dss":var g=n.readString(h,h._pos);if(!1===g)return new Error("Malformed RFC4716 public key");var m=n.readString(h,h._pos);if(!1===m)return new Error("Malformed RFC4716 public key");var v=n.readString(h,h._pos);if(!1===v)return new Error("Malformed RFC4716 public key");var y=n.readString(h,h._pos);if(!1===y)return new Error("Malformed RFC4716 public key");u=L(g,m,v,y),l=P(g,m,v,y);break;default:return new Error("Malformed RFC4716 public key")}return new Z(c,f,u,l,"sha1")}}(),e.exports={parseDERKey:function(e,t){return Y(e,t,"",t)},parseKey:function(e,t){if(Buffer.isBuffer(e))e=e.toString("utf8").trim();else{if("string"!=typeof e)return new Error("Key data must be a Buffer or string");e=e.trim()}if(null!=t)if("string"==typeof t)t=Buffer.from(t);else if(!Buffer.isBuffer(t))return new Error("Passphrase must be a string or Buffer when supplied");var r;return null!==(r=W.parse(e,t))?r:null!==(r=X.parse(e,t))?r:null!==(r=V.parse(e,t))?r:null!==(r=Q.parse(e))?r:null!==(r=Z.parse(e))?r:new Error("Unsupported key format")}}},function(e,t,r){var n=r(4).inherits,i=r(6).Duplex,o=r(6).Readable,s=r(6).Writable,a=r(29).constants.CHANNEL_EXTENDED_DATATYPE.STDERR,h=2097152,f=h/2,c=["CHANNEL_EOF","CHANNEL_CLOSE","CHANNEL_DATA","CHANNEL_EXTENDED_DATA","CHANNEL_WINDOW_ADJUST","CHANNEL_SUCCESS","CHANNEL_FAILURE","CHANNEL_REQUEST"],u=c.length;function l(e,t,r){var n={highWaterMark:h,allowHalfOpen:!r||r&&!1!==r.allowHalfOpen};this.allowHalfOpen=n.allowHalfOpen,i.call(this,n);var s=this,a=r&&r.server;this.server=a,this.type=e.type,this.subtype=void 0;var l,g,m,v,y,_=this.incoming=e.incoming,E=_.id,b=this.outgoing=e.outgoing,w=this._callbacks=[];this._client=t,this._hasX11=!1;var S=t._channels,k=t._sshstream;function A(){s._waitClientDrain&&(s._waitClientDrain=!1,s._waitWindow||(s._chunk?s._write(s._chunk,null,s._chunkcb):s._chunkcb?s._chunkcb():s._chunkErr?s.stderr._write(s._chunkErr,null,s._chunkcbErr):s._chunkcbErr&&s._chunkcbErr()))}function T(){s.eof(),(a||!a&&!s.allowHalfOpen)&&s.close(),s.writable=!1}function B(){s.readable=!1}t._sock.on("drain",A),k.once("CHANNEL_EOF:"+E,function(){"open"===_.state&&(_.state="eof",s.readable&&s.push(null),!a&&s.stderr.readable&&s.stderr.push(null))}).once("CHANNEL_CLOSE:"+E,function(){if("closed"!==_.state){_.state="closed",s.readable&&s.push(null),a&&s.stderr.writable?s.stderr.end():!a&&s.stderr.readable&&s.stderr.push(null),"open"!==b.state&&"eof"!==b.state||s.close(),"closing"===b.state&&(b.state="closed"),delete S[E];var e=s._writableState;t._sock.removeListener("drain",A),e.ending||e.finished||s.end(),s._callbacks=[];for(var r=0;r<w.length;++r)w[r](!0);for(w=s._callbacks,a?s.readable?s.once("end",function(){s.emit("close")}):s.emit("close"):(s.readable?s.once("end",function(){null===l?s.emit("close",l,g,m,v,y):s.emit("close",l)}):null===l?s.emit("close",l,g,m,v,y):s.emit("close",l),s.stderr.readable?s.stderr.once("end",function(){s.stderr.emit("close")}):s.stderr.emit("close")),r=0;r<u;++r)k.removeAllListeners(c[r]+":"+E)}}).on("CHANNEL_DATA:"+E,function(e){0!==_.window&&(_.window-=e.length,s.push(e)?_.window<=f&&d(s):s._waitChanDrain=!0)}).on("CHANNEL_WINDOW_ADJUST:"+E,function(e){b.window+=e,s._waitWindow&&(s._waitWindow=!1,s._waitClientDrain||(s._chunk?s._write(s._chunk,null,s._chunkcb):s._chunkcb?s._chunkcb():s._chunkErr?s.stderr._write(s._chunkErr,null,s._chunkcbErr):s._chunkcbErr&&s._chunkcbErr()))}).on("CHANNEL_SUCCESS:"+E,function(){a?(k._kalast=Date.now(),k._kacnt=0):t._resetKA(),w.length&&w.shift()(!1)}).on("CHANNEL_FAILURE:"+E,function(){a?(k._kalast=Date.now(),k._kacnt=0):t._resetKA(),w.length&&w.shift()(!0)}).on("CHANNEL_REQUEST:"+E,function(e){if(!a){if("exit-status"===e.request)return void s.emit("exit",l=e.code);if("exit-signal"===e.request)return void s.emit("exit",l=null,g="SIG"+e.signal,m=e.coredump,v=e.description,y=e.lang)}e.wantReply&&k.channelFailure(b.id)}),this.stdin=this.stdout=this,a?this.stderr=new p(this):(this.stderr=new o(n),this.stderr._read=function(e){s._waitChanDrain&&(s._waitChanDrain=!1,_.window<=f&&d(s))},k.on("CHANNEL_EXTENDED_DATA:"+E,function(e,t){0!==_.window&&(_.window-=t.length,s.stderr.push(t)?_.window<=f&&d(s):s._waitChanDrain=!0)})),this._waitClientDrain=!1,this._waitWindow=!1,this._waitChanDrain=!1,this._chunk=void 0,this._chunkcb=void 0,this._chunkErr=void 0,this._chunkcbErr=void 0,this.on("finish",T).on("prefinish",T),this.on("end",B).on("close",B)}function d(e){if("closed"===e.outgoing.state)return!0;var t=h-e.incoming.window;return t<=0||(e.incoming.window+=t,e._client._sshstream.channelWindowAdjust(e.outgoing.id,t))}function p(e){s.call(this,{highWaterMark:h}),this._channel=e}n(l,i),l.prototype.eof=function(){var e=!0,t=this.outgoing;return"open"===t.state&&(t.state="eof",e=this._client._sshstream.channelEOF(t.id)),e},l.prototype.close=function(){var e=!0,t=this.outgoing;return"open"!==t.state&&"eof"!==t.state||(t.state="closing",e=this._client._sshstream.channelClose(t.id)),e},l.prototype._read=function(e){this._waitChanDrain&&(this._waitChanDrain=!1,this.incoming.window<=f&&d(this))},l.prototype._write=function(e,t,r){var n,i,o,s=this._client._sshstream,a=this.outgoing,h=a.packetSize,f=a.id,c=a.window,u=e.length,l=0;if("open"===a.state){for(;u-l>0&&c>0;)if((o=u-l)>c&&(o=c),o>h&&(o=h),n=s.channelData(f,e.slice(l,l+o)),l+=o,c-=o,!n){this._waitClientDrain=!0,this._chunk=void 0,this._chunkcb=r;break}if(a.window=c,u-l>0)return 0===c&&(this._waitWindow=!0),l>0?(i=Buffer.allocUnsafe(u-l),e.copy(i,0,l),this._chunk=i):this._chunk=e,void(this._chunkcb=r);this._waitClientDrain||r()}},l.prototype.destroy=function(){this.end()},l.prototype.setWindow=function(e,t,r,n){if(this.server)throw new Error("Client-only method called in server mode");return"session"!==this.type||"shell"!==this.subtype&&"exec"!==this.subtype||!this.writable||"open"!==this.outgoing.state||this._client._sshstream.windowChange(this.outgoing.id,e,t,r,n)},l.prototype.signal=function(e){if(this.server)throw new Error("Client-only method called in server mode");return"session"!==this.type||!this.writable||"open"!==this.outgoing.state||this._client._sshstream.signal(this.outgoing.id,e)},l.prototype.exit=function(e,t,r){if(!this.server)throw new Error("Server-only method called in client mode");return"session"!==this.type||!this.writable||"open"!==this.outgoing.state||("number"==typeof e?this._client._sshstream.exitStatus(this.outgoing.id,e):this._client._sshstream.exitSignal(this.outgoing.id,e,t,r))},l.MAX_WINDOW=h,l.PACKET_SIZE=32768,n(p,s),p.prototype._write=function(e,t,r){var n,i,o,s=this._channel,h=s._client._sshstream,f=s.outgoing,c=f.packetSize,u=f.id,l=f.window,d=e.length,p=0;if("open"===s.outgoing.state){for(;d-p>0&&l>0;)if((o=d-p)>l&&(o=l),o>c&&(o=c),n=h.channelExtData(u,e.slice(p,p+o),a),p+=o,l-=o,!n){s._waitClientDrain=!0,s._chunkErr=void 0,s._chunkcbErr=r;break}if(f.window=l,d-p>0)return 0===l&&(s._waitWindow=!0),p>0?(i=Buffer.allocUnsafe(d-p),e.copy(i,0,p),s._chunkErr=i):s._chunkErr=e,void(s._chunkcbErr=r);s._waitClientDrain||r()}},e.exports=l},function(e,t,r){e.exports=l,l.sync=v;var n=r(15),i=r(3),o=r(0),s=r(34),a=parseInt("666",8),h={nosort:!0,silent:!0},f=0,c="win32"===process.platform;function u(e){["unlink","chmod","stat","lstat","rmdir","readdir"].forEach(function(t){e[t]=e[t]||o[t],e[t+="Sync"]=e[t]||o[t]}),e.maxBusyTries=e.maxBusyTries||3,e.emfileWait=e.emfileWait||1e3,!1===e.glob&&(e.disableGlob=!0),e.disableGlob=e.disableGlob||!1,e.glob=e.glob||h}function l(e,t,r){"function"==typeof t&&(r=t,t={}),n(e,"rimraf: missing path"),n.equal(typeof e,"string","rimraf: path should be a string"),n.equal(typeof r,"function","rimraf: callback function required"),n(t,"rimraf: invalid options argument provided"),n.equal(typeof t,"object","rimraf: options should be object"),u(t);var i=0,o=null,a=0;if(t.disableGlob||!s.hasMagic(e))return h(null,[e]);function h(e,n){return e?r(e):0===(a=n.length)?r():void n.forEach(function(e){d(e,t,function n(s){if(s){if(("EBUSY"===s.code||"ENOTEMPTY"===s.code||"EPERM"===s.code)&&i<t.maxBusyTries)return i++,setTimeout(function(){d(e,t,n)},100*i);if("EMFILE"===s.code&&f<t.emfileWait)return setTimeout(function(){d(e,t,n)},f++);"ENOENT"===s.code&&(s=null)}f=0,o=o||s,0==--a&&r(o)})})}t.lstat(e,function(r,n){if(!r)return h(null,[e]);s(e,t.glob,h)})}function d(e,t,r){n(e),n(t),n("function"==typeof r),t.lstat(e,function(n,i){return n&&"ENOENT"===n.code?r(null):(n&&"EPERM"===n.code&&c&&p(e,t,n,r),i&&i.isDirectory()?m(e,t,n,r):void t.unlink(e,function(n){if(n){if("ENOENT"===n.code)return r(null);if("EPERM"===n.code)return c?p(e,t,n,r):m(e,t,n,r);if("EISDIR"===n.code)return m(e,t,n,r)}return r(n)}))})}function p(e,t,r,i){n(e),n(t),n("function"==typeof i),r&&n(r instanceof Error),t.chmod(e,a,function(n){n?i("ENOENT"===n.code?null:r):t.stat(e,function(n,o){n?i("ENOENT"===n.code?null:r):o.isDirectory()?m(e,t,r,i):t.unlink(e,i)})})}function g(e,t,r){n(e),n(t),r&&n(r instanceof Error);try{t.chmodSync(e,a)}catch(e){if("ENOENT"===e.code)return;throw r}try{var i=t.statSync(e)}catch(e){if("ENOENT"===e.code)return;throw r}i.isDirectory()?y(e,t,r):t.unlinkSync(e)}function m(e,t,r,o){n(e),n(t),r&&n(r instanceof Error),n("function"==typeof o),t.rmdir(e,function(s){!s||"ENOTEMPTY"!==s.code&&"EEXIST"!==s.code&&"EPERM"!==s.code?s&&"ENOTDIR"===s.code?o(r):o(s):function(e,t,r){n(e),n(t),n("function"==typeof r),t.readdir(e,function(n,o){if(n)return r(n);var s,a=o.length;if(0===a)return t.rmdir(e,r);o.forEach(function(n){l(i.join(e,n),t,function(n){if(!s)return n?r(s=n):void(0==--a&&t.rmdir(e,r))})})})}(e,t,o)})}function v(e,t){var r;if(u(t=t||{}),n(e,"rimraf: missing path"),n.equal(typeof e,"string","rimraf: path should be a string"),n(t,"rimraf: missing options"),n.equal(typeof t,"object","rimraf: options should be object"),t.disableGlob||!s.hasMagic(e))r=[e];else try{t.lstatSync(e),r=[e]}catch(n){r=s.sync(e,t.glob)}if(r.length)for(var i=0;i<r.length;i++){e=r[i];try{var o=t.lstatSync(e)}catch(r){if("ENOENT"===r.code)return;"EPERM"===r.code&&c&&g(e,t,r)}try{o&&o.isDirectory()?y(e,t,null):t.unlinkSync(e)}catch(r){if("ENOENT"===r.code)return;if("EPERM"===r.code)return c?g(e,t,r):y(e,t,r);if("EISDIR"!==r.code)throw r;y(e,t,r)}}}function y(e,t,r){n(e),n(t),r&&n(r instanceof Error);try{t.rmdirSync(e)}catch(o){if("ENOENT"===o.code)return;if("ENOTDIR"===o.code)throw r;"ENOTEMPTY"!==o.code&&"EEXIST"!==o.code&&"EPERM"!==o.code||function(e,t){n(e),n(t),t.readdirSync(e).forEach(function(r){v(i.join(e,r),t)});for(var r=c?100:1,o=0;;){var s=!0;try{var a=t.rmdirSync(e,t);return s=!1,a}finally{if(++o<r&&s)continue}}}(e,t)}}},function(e,t,r){"use strict";var n=r(0),i=r(3),o=r(80),s=r(110),a=r(111),h=a(n.writeFile),f=a(n.readFile),c=a(s);e.exports=function(e,t){var r=i.resolve(e),n=i.extname(e),s=i.basename(e,n),a=i.dirname(e);return t=t||i.resolve(a,s),f(r).then(function(e){return o.loadAsync(function(e){function t(e,t,r,n){var i=0;return i+=e,i+=t<<8,(i+=r<<16)+(n<<24)}if(80===e[0]&&75===e[1]&&3===e[2]&&4===e[3])return e;if(67!==e[0]||114!==e[1]||50!==e[2]||52!==e[3])throw new Error("Invalid header: Does not start with Cr24");if(2!==e[4]||e[5]||e[6]||e[7])throw new Error("Unexpected crx format version number.");var r=16+t(e[8],e[9],e[10],e[11])+t(e[12],e[13],e[14],e[15]);return e.slice(r,e.length)}(e))}).then(function(e){var r=Object.keys(e.files);return Promise.all(r.map(function(r){var n=!e.files[r].dir,o=i.join(t,r),s=n&&i.dirname(o)||o,a=e.files[r].async("nodebuffer");return c(s).then(function(){return!!n&&a}).then(function(e){return!e||h(o,e)})}))})}},function(e,t){e.exports=require("url")},function(e,t,r){e.exports=r(133)},function(e,t,r){var n=r(3),i="win32"===process.platform,o=r(0),s=process.env.NODE_DEBUG&&/fs/.test(process.env.NODE_DEBUG);function a(e){return"function"==typeof e?e:function(){var e;if(s){var t=new Error;e=function(e){e&&(t.message=e.message,r(e=t))}}else e=r;return e;function r(e){if(e){if(process.throwDeprecation)throw e;if(!process.noDeprecation){var t="fs: missing callback "+(e.stack||e.message);process.traceDeprecation?console.trace(t):console.error(t)}}}}()}if(n.normalize,i)var h=/(.*?)(?:[\/\\]+|$)/g;else h=/(.*?)(?:[\/]+|$)/g;if(i)var f=/^(?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/][^\\\/]+)?[\\\/]*/;else f=/^[\/]*/;t.realpathSync=function(e,t){if(e=n.resolve(e),t&&Object.prototype.hasOwnProperty.call(t,e))return t[e];var r,s,a,c,u=e,l={},d={};function p(){var t=f.exec(e);r=t[0].length,s=t[0],a=t[0],c="",i&&!d[a]&&(o.lstatSync(a),d[a]=!0)}for(p();r<e.length;){h.lastIndex=r;var g=h.exec(e);if(c=s,s+=g[0],a=c+g[1],r=h.lastIndex,!(d[a]||t&&t[a]===a)){var m;if(t&&Object.prototype.hasOwnProperty.call(t,a))m=t[a];else{var v=o.lstatSync(a);if(!v.isSymbolicLink()){d[a]=!0,t&&(t[a]=a);continue}var y=null;if(!i){var _=v.dev.toString(32)+":"+v.ino.toString(32);l.hasOwnProperty(_)&&(y=l[_])}null===y&&(o.statSync(a),y=o.readlinkSync(a)),m=n.resolve(c,y),t&&(t[a]=m),i||(l[_]=y)}e=n.resolve(m,e.slice(r)),p()}}return t&&(t[u]=e),e},t.realpath=function(e,t,r){if("function"!=typeof r&&(r=a(t),t=null),e=n.resolve(e),t&&Object.prototype.hasOwnProperty.call(t,e))return process.nextTick(r.bind(null,null,t[e]));var s,c,u,l,d=e,p={},g={};function m(){var t=f.exec(e);s=t[0].length,c=t[0],u=t[0],l="",i&&!g[u]?o.lstat(u,function(e){if(e)return r(e);g[u]=!0,v()}):process.nextTick(v)}function v(){if(s>=e.length)return t&&(t[d]=e),r(null,e);h.lastIndex=s;var n=h.exec(e);return l=c,c+=n[0],u=l+n[1],s=h.lastIndex,g[u]||t&&t[u]===u?process.nextTick(v):t&&Object.prototype.hasOwnProperty.call(t,u)?E(t[u]):o.lstat(u,y)}function y(e,n){if(e)return r(e);if(!n.isSymbolicLink())return g[u]=!0,t&&(t[u]=u),process.nextTick(v);if(!i){var s=n.dev.toString(32)+":"+n.ino.toString(32);if(p.hasOwnProperty(s))return _(null,p[s],u)}o.stat(u,function(e){if(e)return r(e);o.readlink(u,function(e,t){i||(p[s]=t),_(e,t)})})}function _(e,i,o){if(e)return r(e);var s=n.resolve(l,i);t&&(t[o]=s),E(s)}function E(t){e=n.resolve(t,e.slice(s)),m()}m()}},function(e,t,r){var n=r(75),i=r(76);e.exports=function(e){return e?("{}"===e.substr(0,2)&&(e="\\{\\}"+e.substr(2)),function e(t,r){var o=[],s=i("{","}",t);if(!s||/\$$/.test(s.pre))return[t];var h,f=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(s.body),u=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(s.body),m=f||u,v=s.body.indexOf(",")>=0;if(!m&&!v)return s.post.match(/,.*\}/)?(t=s.pre+"{"+s.body+a+s.post,e(t)):[t];if(m)h=s.body.split(/\.\./);else if(1===(h=function e(t){if(!t)return[""];var r=[],n=i("{","}",t);if(!n)return t.split(",");var o=n.pre,s=n.body,a=n.post,h=o.split(",");h[h.length-1]+="{"+s+"}";var f=e(a);return a.length&&(h[h.length-1]+=f.shift(),h.push.apply(h,f)),r.push.apply(r,h),r}(s.body)).length&&1===(h=e(h[0],!1).map(l)).length){return(E=s.post.length?e(s.post,!1):[""]).map(function(e){return s.pre+h[0]+e})}var y,_=s.pre,E=s.post.length?e(s.post,!1):[""];if(m){var b=c(h[0]),w=c(h[1]),S=Math.max(h[0].length,h[1].length),k=3==h.length?Math.abs(c(h[2])):1,A=p;w<b&&(k*=-1,A=g);var T=h.some(d);y=[];for(var B=b;A(B,w);B+=k){var O;if(u)"\\"===(O=String.fromCharCode(B))&&(O="");else if(O=String(B),T){var N=S-O.length;if(N>0){var R=new Array(N+1).join("0");O=B<0?"-"+R+O.slice(1):R+O}}y.push(O)}}else y=n(h,function(t){return e(t,!1)});for(var C=0;C<y.length;C++)for(var U=0;U<E.length;U++){var x=_+y[C]+E[U];(!r||m||x)&&o.push(x)}return o}(function(e){return e.split("\\\\").join(o).split("\\{").join(s).split("\\}").join(a).split("\\,").join(h).split("\\.").join(f)}(e),!0).map(u)):[]};var o="\0SLASH"+Math.random()+"\0",s="\0OPEN"+Math.random()+"\0",a="\0CLOSE"+Math.random()+"\0",h="\0COMMA"+Math.random()+"\0",f="\0PERIOD"+Math.random()+"\0";function c(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}function u(e){return e.split(o).join("\\").split(s).join("{").split(a).join("}").split(h).join(",").split(f).join(".")}function l(e){return"{"+e+"}"}function d(e){return/^-?0\d/.test(e)}function p(e,t){return e<=t}function g(e,t){return e>=t}},function(e,t){e.exports=function(e,t){for(var n=[],i=0;i<e.length;i++){var o=t(e[i],i);r(o)?n.push.apply(n,o):n.push(o)}return n};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,r){"use strict";function n(e,t,r){e instanceof RegExp&&(e=i(e,r)),t instanceof RegExp&&(t=i(t,r));var n=o(e,t,r);return n&&{start:n[0],end:n[1],pre:r.slice(0,n[0]),body:r.slice(n[0]+e.length,n[1]),post:r.slice(n[1]+t.length)}}function i(e,t){var r=t.match(e);return r?r[0]:null}function o(e,t,r){var n,i,o,s,a,h=r.indexOf(e),f=r.indexOf(t,h+1),c=h;if(h>=0&&f>0){for(n=[],o=r.length;c>=0&&!a;)c==h?(n.push(c),h=r.indexOf(e,c+1)):1==n.length?a=[n.pop(),f]:((i=n.pop())<o&&(o=i,s=f),f=r.indexOf(t,c+1)),c=h<f&&h>=0?h:f;n.length&&(a=[o,s])}return a}e.exports=n,n.range=o},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},function(e,t,r){e.exports=p,p.GlobSync=g;var n=r(0),i=r(35),o=r(23),s=(o.Minimatch,r(34).Glob,r(4),r(3)),a=r(15),h=r(24),f=r(36),c=(f.alphasort,f.alphasorti,f.setopts),u=f.ownProp,l=f.childrenIgnored,d=f.isIgnored;function p(e,t){if("function"==typeof t||3===arguments.length)throw new TypeError("callback provided to sync glob\nSee: https://github.com/isaacs/node-glob/issues/167");return new g(e,t).found}function g(e,t){if(!e)throw new Error("must provide pattern");if("function"==typeof t||3===arguments.length)throw new TypeError("callback provided to sync glob\nSee: https://github.com/isaacs/node-glob/issues/167");if(!(this instanceof g))return new g(e,t);if(c(this,e,t),this.noprocess)return this;var r=this.minimatch.set.length;this.matches=new Array(r);for(var n=0;n<r;n++)this._process(this.minimatch.set[n],n,!1);this._finish()}g.prototype._finish=function(){if(a(this instanceof g),this.realpath){var e=this;this.matches.forEach(function(t,r){var n=e.matches[r]=Object.create(null);for(var o in t)try{o=e._makeAbs(o),n[i.realpathSync(o,e.realpathCache)]=!0}catch(t){if("stat"!==t.syscall)throw t;n[e._makeAbs(o)]=!0}})}f.finish(this)},g.prototype._process=function(e,t,r){a(this instanceof g);for(var n,i=0;"string"==typeof e[i];)i++;switch(i){case e.length:return void this._processSimple(e.join("/"),t);case 0:n=null;break;default:n=e.slice(0,i).join("/")}var s,f=e.slice(i);null===n?s=".":h(n)||h(e.join("/"))?(n&&h(n)||(n="/"+n),s=n):s=n;var c=this._makeAbs(s);l(this,s)||(f[0]===o.GLOBSTAR?this._processGlobStar(n,s,c,f,t,r):this._processReaddir(n,s,c,f,t,r))},g.prototype._processReaddir=function(e,t,r,n,i,o){var a=this._readdir(r,o);if(a){for(var h=n[0],f=!!this.minimatch.negate,c=h._glob,u=this.dot||"."===c.charAt(0),l=[],d=0;d<a.length;d++)("."!==(m=a[d]).charAt(0)||u)&&(f&&!e?!m.match(h):m.match(h))&&l.push(m);var p=l.length;if(0!==p)if(1!==n.length||this.mark||this.stat)for(n.shift(),d=0;d<p;d++){var g;m=l[d],g=e?[e,m]:[m],this._process(g.concat(n),i,o)}else{this.matches[i]||(this.matches[i]=Object.create(null));for(d=0;d<p;d++){var m=l[d];e&&(m="/"!==e.slice(-1)?e+"/"+m:e+m),"/"!==m.charAt(0)||this.nomount||(m=s.join(this.root,m)),this._emitMatch(i,m)}}}},g.prototype._emitMatch=function(e,t){if(!d(this,t)){var r=this._makeAbs(t);if(this.mark&&(t=this._mark(t)),this.absolute&&(t=r),!this.matches[e][t]){if(this.nodir){var n=this.cache[r];if("DIR"===n||Array.isArray(n))return}this.matches[e][t]=!0,this.stat&&this._stat(t)}}},g.prototype._readdirInGlobStar=function(e){if(this.follow)return this._readdir(e,!1);var t,r;try{r=n.lstatSync(e)}catch(e){if("ENOENT"===e.code)return null}var i=r&&r.isSymbolicLink();return this.symlinks[e]=i,i||!r||r.isDirectory()?t=this._readdir(e,!1):this.cache[e]="FILE",t},g.prototype._readdir=function(e,t){if(t&&!u(this.symlinks,e))return this._readdirInGlobStar(e);if(u(this.cache,e)){var r=this.cache[e];if(!r||"FILE"===r)return null;if(Array.isArray(r))return r}try{return this._readdirEntries(e,n.readdirSync(e))}catch(t){return this._readdirError(e,t),null}},g.prototype._readdirEntries=function(e,t){if(!this.mark&&!this.stat)for(var r=0;r<t.length;r++){var n=t[r];n="/"===e?e+n:e+"/"+n,this.cache[n]=!0}return this.cache[e]=t,t},g.prototype._readdirError=function(e,t){switch(t.code){case"ENOTSUP":case"ENOTDIR":var r=this._makeAbs(e);if(this.cache[r]="FILE",r===this.cwdAbs){var n=new Error(t.code+" invalid cwd "+this.cwd);throw n.path=this.cwd,n.code=t.code,n}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(e)]=!1;break;default:if(this.cache[this._makeAbs(e)]=!1,this.strict)throw t;this.silent||console.error("glob error",t)}},g.prototype._processGlobStar=function(e,t,r,n,i,o){var s=this._readdir(r,o);if(s){var a=n.slice(1),h=e?[e]:[],f=h.concat(a);this._process(f,i,!1);var c=s.length;if(!this.symlinks[r]||!o)for(var u=0;u<c;u++)if("."!==s[u].charAt(0)||this.dot){var l=h.concat(s[u],a);this._process(l,i,!0);var d=h.concat(s[u],n);this._process(d,i,!0)}}},g.prototype._processSimple=function(e,t){var r=this._stat(e);if(this.matches[t]||(this.matches[t]=Object.create(null)),r){if(e&&h(e)&&!this.nomount){var n=/[\/\\]$/.test(e);"/"===e.charAt(0)?e=s.join(this.root,e):(e=s.resolve(this.root,e),n&&(e+="/"))}"win32"===process.platform&&(e=e.replace(/\\/g,"/")),this._emitMatch(t,e)}},g.prototype._stat=function(e){var t=this._makeAbs(e),r="/"===e.slice(-1);if(e.length>this.maxLength)return!1;if(!this.stat&&u(this.cache,t)){var i=this.cache[t];if(Array.isArray(i)&&(i="DIR"),!r||"DIR"===i)return i;if(r&&"FILE"===i)return!1}var o=this.statCache[t];if(!o){var s;try{s=n.lstatSync(t)}catch(e){if(e&&("ENOENT"===e.code||"ENOTDIR"===e.code))return this.statCache[t]=!1,!1}if(s&&s.isSymbolicLink())try{o=n.statSync(t)}catch(e){o=s}else o=s}return this.statCache[t]=o,i=!0,o&&(i=o.isDirectory()?"DIR":"FILE"),this.cache[t]=this.cache[t]||i,(!r||"FILE"!==i)&&i},g.prototype._mark=function(e){return f.mark(this,e)},g.prototype._makeAbs=function(e){return f.makeAbs(this,e)}},function(e,t,r){var n=r(37),i=Object.create(null),o=r(38);function s(e){for(var t=e.length,r=[],n=0;n<t;n++)r[n]=e[n];return r}e.exports=n(function(e,t){return i[e]?(i[e].push(t),null):(i[e]=[t],function(e){return o(function t(){var r=i[e],n=r.length,o=s(arguments);try{for(var a=0;a<n;a++)r[a].apply(null,o)}finally{r.length>n?(r.splice(0,n),process.nextTick(function(){t.apply(null,o)})):delete i[e]}})}(e))})},function(e,t,r){"use strict";function n(){if(!(this instanceof n))return new n;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files={},this.comment=null,this.root="",this.clone=function(){var e=new n;for(var t in this)"function"!=typeof this[t]&&(e[t]=this[t]);return e}}n.prototype=r(81),n.prototype.loadAsync=r(105),n.support=r(9),n.defaults=r(49),n.version="3.2.0",n.loadAsync=function(e,t){return(new n).loadAsync(e,t)},n.external=r(17),e.exports=n},function(e,t,r){"use strict";var n=r(13),i=r(1),o=r(5),s=r(48),a=r(49),h=r(25),f=r(91),c=r(92),u=r(22),l=r(104),d=function(e,t,r){var n,s=i.getTypeOf(t),c=i.extend(r||{},a);c.date=c.date||new Date,null!==c.compression&&(c.compression=c.compression.toUpperCase()),"string"==typeof c.unixPermissions&&(c.unixPermissions=parseInt(c.unixPermissions,8)),c.unixPermissions&&16384&c.unixPermissions&&(c.dir=!0),c.dosPermissions&&16&c.dosPermissions&&(c.dir=!0),c.dir&&(e=g(e)),c.createFolders&&(n=p(e))&&m.call(this,n,!0);var d="string"===s&&!1===c.binary&&!1===c.base64;r&&void 0!==r.binary||(c.binary=!d),(t instanceof h&&0===t.uncompressedSize||c.dir||!t||0===t.length)&&(c.base64=!1,c.binary=!0,t="",c.compression="STORE",s="string");var v;v=t instanceof h||t instanceof o?t:u.isNode&&u.isStream(t)?new l(e,t):i.prepareContent(e,t,c.binary,c.optimizedBinaryString,c.base64);var y=new f(e,v,c);this.files[e]=y},p=function(e){"/"===e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return t>0?e.substring(0,t):""},g=function(e){return"/"!==e.slice(-1)&&(e+="/"),e},m=function(e,t){return t=void 0!==t?t:a.createFolders,e=g(e),this.files[e]||d.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]};function v(e){return"[object RegExp]"===Object.prototype.toString.call(e)}var y={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(e){var t,r,n;for(t in this.files)this.files.hasOwnProperty(t)&&(n=this.files[t],(r=t.slice(this.root.length,t.length))&&t.slice(0,this.root.length)===this.root&&e(r,n))},filter:function(e){var t=[];return this.forEach(function(r,n){e(r,n)&&t.push(n)}),t},file:function(e,t,r){if(1===arguments.length){if(v(e)){var n=e;return this.filter(function(e,t){return!t.dir&&n.test(e)})}var i=this.files[this.root+e];return i&&!i.dir?i:null}return e=this.root+e,d.call(this,e,t,r),this},folder:function(e){if(!e)return this;if(v(e))return this.filter(function(t,r){return r.dir&&e.test(t)});var t=this.root+e,r=m.call(this,t),n=this.clone();return n.root=r.name,n},remove:function(e){e=this.root+e;var t=this.files[e];if(t||("/"!==e.slice(-1)&&(e+="/"),t=this.files[e]),t&&!t.dir)delete this.files[e];else for(var r=this.filter(function(t,r){return r.name.slice(0,e.length)===e}),n=0;n<r.length;n++)delete this.files[r[n].name];return this},generate:function(e){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(e){var t,r={};try{if((r=i.extend(e||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:n.utf8encode})).type=r.type.toLowerCase(),r.compression=r.compression.toUpperCase(),"binarystring"===r.type&&(r.type="string"),!r.type)throw new Error("No output type specified.");i.checkSupport(r.type),"darwin"!==r.platform&&"freebsd"!==r.platform&&"linux"!==r.platform&&"sunos"!==r.platform||(r.platform="UNIX"),"win32"===r.platform&&(r.platform="DOS");var a=r.comment||this.comment||"";t=c.generateWorker(this,r,a)}catch(e){(t=new o("error")).error(e)}return new s(t,r.type||"string",r.mimeType)},generateAsync:function(e,t){return this.generateInternalStream(e).accumulate(t)},generateNodeStream:function(e,t){return(e=e||{}).type||(e.type="nodebuffer"),this.generateInternalStream(e).toNodejsStream(t)}};e.exports=y},function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},function(e,t,r){"use strict";var n=r(21).Buffer,i=r(4);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r},e.prototype.concat=function(e){if(0===this.length)return n.alloc(0);if(1===this.length)return this.head.data;for(var t,r,i=n.allocUnsafe(e>>>0),o=this.head,s=0;o;)t=i,r=s,o.data.copy(t,r),s+=o.data.length,o=o.next;return i},e}(),i&&i.inspect&&i.inspect.custom&&(e.exports.prototype[i.inspect.custom]=function(){var e=i.inspect({length:this.length});return this.constructor.name+" "+e})},function(e,t,r){e.exports=r(4).deprecate},function(e,t,r){"use strict";e.exports=o;var n=r(46),i=r(16);function o(e){if(!(this instanceof o))return new o(e);n.call(this,e)}i.inherits=r(12),i.inherits(o,n),o.prototype._transform=function(e,t,r){r(null,e)}},function(e,t,r){"use strict";e.exports="function"==typeof setImmediate?setImmediate:function(){var e=[].slice.apply(arguments);e.splice(1,0,0),setTimeout.apply(null,e)}},function(e,t,r){"use strict";var n=r(88);function i(){}var o={},s=["REJECTED"],a=["FULFILLED"],h=["PENDING"];if(!process.browser)var f=["UNHANDLED"];function c(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=h,this.queue=[],this.outcome=void 0,process.browser||(this.handled=f),e!==i&&p(this,e)}function u(e,t,r){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof r&&(this.onRejected=r,this.callRejected=this.otherCallRejected)}function l(e,t,r){n(function(){var n;try{n=t(r)}catch(t){return o.reject(e,t)}n===e?o.reject(e,new TypeError("Cannot resolve promise with itself")):o.resolve(e,n)})}function d(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function p(e,t){var r=!1;function n(t){r||(r=!0,o.reject(e,t))}function i(t){r||(r=!0,o.resolve(e,t))}var s=g(function(){t(i,n)});"error"===s.status&&n(s.value)}function g(e,t){var r={};try{r.value=e(t),r.status="success"}catch(e){r.status="error",r.value=e}return r}e.exports=c,c.prototype.finally=function(e){if("function"!=typeof e)return this;var t=this.constructor;return this.then(function(r){return t.resolve(e()).then(function(){return r})},function(r){return t.resolve(e()).then(function(){throw r})})},c.prototype.catch=function(e){return this.then(null,e)},c.prototype.then=function(e,t){if("function"!=typeof e&&this.state===a||"function"!=typeof t&&this.state===s)return this;var r=new this.constructor(i);return process.browser||this.handled===f&&(this.handled=null),this.state!==h?l(r,this.state===a?e:t,this.outcome):this.queue.push(new u(r,e,t)),r},u.prototype.callFulfilled=function(e){o.resolve(this.promise,e)},u.prototype.otherCallFulfilled=function(e){l(this.promise,this.onFulfilled,e)},u.prototype.callRejected=function(e){o.reject(this.promise,e)},u.prototype.otherCallRejected=function(e){l(this.promise,this.onRejected,e)},o.resolve=function(e,t){var r=g(d,t);if("error"===r.status)return o.reject(e,r.value);var n=r.value;if(n)p(e,n);else{e.state=a,e.outcome=t;for(var i=-1,s=e.queue.length;++i<s;)e.queue[i].callFulfilled(t)}return e},o.reject=function(e,t){e.state=s,e.outcome=t,process.browser||e.handled===f&&n(function(){e.handled===f&&process.emit("unhandledRejection",t,e)});for(var r=-1,i=e.queue.length;++r<i;)e.queue[r].callRejected(t);return e},c.resolve=function(e){return e instanceof this?e:o.resolve(new this(i),e)},c.reject=function(e){var t=new this(i);return o.reject(t,e)},c.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var r=e.length,n=!1;if(!r)return this.resolve([]);for(var s=new Array(r),a=0,h=-1,f=new this(i);++h<r;)c(e[h],h);return f;function c(e,i){t.resolve(e).then(function(e){s[i]=e,++a!==r||n||(n=!0,o.resolve(f,s))},function(e){n||(n=!0,o.reject(f,e))})}},c.race=function(e){if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var t=e.length,r=!1;if(!t)return this.resolve([]);for(var n,s=-1,a=new this(i);++s<t;)n=e[s],this.resolve(n).then(function(e){r||(r=!0,o.resolve(a,e))},function(e){r||(r=!0,o.reject(a,e))});return a}},function(e,t,r){"use strict";var n,i,o=global.MutationObserver||global.WebKitMutationObserver;if(process.browser)if(o){var s=0,a=new o(u),h=global.document.createTextNode("");a.observe(h,{characterData:!0}),n=function(){h.data=s=++s%2}}else if(global.setImmediate||void 0===global.MessageChannel)n="document"in global&&"onreadystatechange"in global.document.createElement("script")?function(){var e=global.document.createElement("script");e.onreadystatechange=function(){u(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},global.document.documentElement.appendChild(e)}:function(){setTimeout(u,0)};else{var f=new global.MessageChannel;f.port1.onmessage=u,n=function(){f.port2.postMessage(0)}}else n=function(){process.nextTick(u)};var c=[];function u(){var e,t;i=!0;for(var r=c.length;r;){for(t=c,c=[],e=-1;++e<r;)t[e]();r=c.length}i=!1}e.exports=function(e){1!==c.push(e)||i||n()}},function(e,t,r){"use strict";var n=r(5),i=r(1);function o(e){n.call(this,"ConvertWorker to "+e),this.destType=e}i.inherits(o,n),o.prototype.processChunk=function(e){this.push({data:i.transformTo(this.destType,e.data),meta:e.meta})},e.exports=o},function(e,t,r){"use strict";var n=r(39).Readable;function i(e,t,r){n.call(this,t),this._helper=e;var i=this;e.on("data",function(e,t){i.push(e)||i._helper.pause(),r&&r(t)}).on("error",function(e){i.emit("error",e)}).on("end",function(){i.push(null)})}r(1).inherits(i,n),i.prototype._read=function(){this._helper.resume()},e.exports=i},function(e,t,r){"use strict";var n=r(48),i=r(50),o=r(13),s=r(25),a=r(5),h=function(e,t,r){this.name=e,this.dir=r.dir,this.date=r.date,this.comment=r.comment,this.unixPermissions=r.unixPermissions,this.dosPermissions=r.dosPermissions,this._data=t,this._dataBinary=r.binary,this.options={compression:r.compression,compressionOptions:r.compressionOptions}};h.prototype={internalStream:function(e){var t=null,r="string";try{if(!e)throw new Error("No output type specified.");var i="string"===(r=e.toLowerCase())||"text"===r;"binarystring"!==r&&"text"!==r||(r="string"),t=this._decompressWorker();var s=!this._dataBinary;s&&!i&&(t=t.pipe(new o.Utf8EncodeWorker)),!s&&i&&(t=t.pipe(new o.Utf8DecodeWorker))}catch(e){(t=new a("error")).error(e)}return new n(t,r,"")},async:function(e,t){return this.internalStream(e).accumulate(t)},nodeStream:function(e,t){return this.internalStream(e||"nodebuffer").toNodejsStream(t)},_compressWorker:function(e,t){if(this._data instanceof s&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var r=this._decompressWorker();return this._dataBinary||(r=r.pipe(new o.Utf8EncodeWorker)),s.createWorkerFrom(r,e,t)},_decompressWorker:function(){return this._data instanceof s?this._data.getContentWorker():this._data instanceof a?this._data:new i(this._data)}};for(var f=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],c=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},u=0;u<f.length;u++)h.prototype[f[u]]=c;e.exports=h},function(e,t,r){"use strict";var n=r(53),i=r(103);t.generateWorker=function(e,t,r){var o=new i(t.streamFiles,r,t.platform,t.encodeFileName),s=0;try{e.forEach(function(e,r){s++;var i=function(e,t){var r=e||t,i=n[r];if(!i)throw new Error(r+" is not a valid compression method !");return i}(r.options.compression,t.compression),a=r.options.compressionOptions||t.compressionOptions||{},h=r.dir,f=r.date;r._compressWorker(i,a).withStreamInfo("file",{name:e,dir:h,date:f,comment:r.comment||"",unixPermissions:r.unixPermissions,dosPermissions:r.dosPermissions}).pipe(o)}),o.entriesCount=s}catch(e){o.error(e)}return o}},function(e,t,r){"use strict";var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,i=r(94),o=r(1),s=r(5),a=n?"uint8array":"array";function h(e,t){s.call(this,"FlateWorker/"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=t,this.meta={}}t.magic="\b\0",o.inherits(h,s),h.prototype.processChunk=function(e){this.meta=e.meta,null===this._pako&&this._createPako(),this._pako.push(o.transformTo(a,e.data),!1)},h.prototype.flush=function(){s.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},h.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this._pako=null},h.prototype._createPako=function(){this._pako=new i[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(t){e.push({data:t,meta:e.meta})}},t.compressWorker=function(e){return new h("Deflate",e)},t.uncompressWorker=function(){return new h("Inflate",{})}},function(e,t,r){"use strict";var n={};(0,r(10).assign)(n,r(95),r(98),r(58)),e.exports=n},function(e,t,r){"use strict";var n=r(96),i=r(10),o=r(56),s=r(27),a=r(57),h=Object.prototype.toString,f=0,c=-1,u=0,l=8;function d(e){if(!(this instanceof d))return new d(e);this.options=i.assign({level:c,method:l,chunkSize:16384,windowBits:15,memLevel:8,strategy:u,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new a,this.strm.avail_out=0;var r=n.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(r!==f)throw new Error(s[r]);if(t.header&&n.deflateSetHeader(this.strm,t.header),t.dictionary){var p;if(p="string"==typeof t.dictionary?o.string2buf(t.dictionary):"[object ArrayBuffer]"===h.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(r=n.deflateSetDictionary(this.strm,p))!==f)throw new Error(s[r]);this._dict_set=!0}}function p(e,t){var r=new d(t);if(r.push(e,!0),r.err)throw r.msg||s[r.err];return r.result}d.prototype.push=function(e,t){var r,s,a=this.strm,c=this.options.chunkSize;if(this.ended)return!1;s=t===~~t?t:!0===t?4:0,"string"==typeof e?a.input=o.string2buf(e):"[object ArrayBuffer]"===h.call(e)?a.input=new Uint8Array(e):a.input=e,a.next_in=0,a.avail_in=a.input.length;do{if(0===a.avail_out&&(a.output=new i.Buf8(c),a.next_out=0,a.avail_out=c),1!==(r=n.deflate(a,s))&&r!==f)return this.onEnd(r),this.ended=!0,!1;0!==a.avail_out&&(0!==a.avail_in||4!==s&&2!==s)||("string"===this.options.to?this.onData(o.buf2binstring(i.shrinkBuf(a.output,a.next_out))):this.onData(i.shrinkBuf(a.output,a.next_out)))}while((a.avail_in>0||0===a.avail_out)&&1!==r);return 4===s?(r=n.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===f):2!==s||(this.onEnd(f),a.avail_out=0,!0)},d.prototype.onData=function(e){this.chunks.push(e)},d.prototype.onEnd=function(e){e===f&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Deflate=d,t.deflate=p,t.deflateRaw=function(e,t){return(t=t||{}).raw=!0,p(e,t)},t.gzip=function(e,t){return(t=t||{}).gzip=!0,p(e,t)}},function(e,t,r){"use strict";var n,i=r(10),o=r(97),s=r(54),a=r(55),h=r(27),f=0,c=4,u=0,l=-2,d=-1,p=1,g=4,m=2,v=8,y=9,_=286,E=30,b=19,w=2*_+1,S=15,k=3,A=258,T=A+k+1,B=42,O=103,N=113,R=666,C=1,U=2,x=3,I=4;function D(e,t){return e.msg=h[t],t}function L(e){return(e<<1)-(e>4?9:0)}function P(e){for(var t=e.length;--t>=0;)e[t]=0}function H(e){var t=e.state,r=t.pending;r>e.avail_out&&(r=e.avail_out),0!==r&&(i.arraySet(e.output,t.pending_buf,t.pending_out,r,e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,0===t.pending&&(t.pending_out=0))}function M(e,t){o._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,H(e.strm)}function F(e,t){e.pending_buf[e.pending++]=t}function G(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function K(e,t){var r,n,i=e.max_chain_length,o=e.strstart,s=e.prev_length,a=e.nice_match,h=e.strstart>e.w_size-T?e.strstart-(e.w_size-T):0,f=e.window,c=e.w_mask,u=e.prev,l=e.strstart+A,d=f[o+s-1],p=f[o+s];e.prev_length>=e.good_match&&(i>>=2),a>e.lookahead&&(a=e.lookahead);do{if(f[(r=t)+s]===p&&f[r+s-1]===d&&f[r]===f[o]&&f[++r]===f[o+1]){o+=2,r++;do{}while(f[++o]===f[++r]&&f[++o]===f[++r]&&f[++o]===f[++r]&&f[++o]===f[++r]&&f[++o]===f[++r]&&f[++o]===f[++r]&&f[++o]===f[++r]&&f[++o]===f[++r]&&o<l);if(n=A-(l-o),o=l-A,n>s){if(e.match_start=t,s=n,n>=a)break;d=f[o+s-1],p=f[o+s]}}}while((t=u[t&c])>h&&0!=--i);return s<=e.lookahead?s:e.lookahead}function z(e){var t,r,n,o,h,f,c,u,l,d,p=e.w_size;do{if(o=e.window_size-e.lookahead-e.strstart,e.strstart>=p+(p-T)){i.arraySet(e.window,e.window,p,p,0),e.match_start-=p,e.strstart-=p,e.block_start-=p,t=r=e.hash_size;do{n=e.head[--t],e.head[t]=n>=p?n-p:0}while(--r);t=r=p;do{n=e.prev[--t],e.prev[t]=n>=p?n-p:0}while(--r);o+=p}if(0===e.strm.avail_in)break;if(f=e.strm,c=e.window,u=e.strstart+e.lookahead,l=o,d=void 0,(d=f.avail_in)>l&&(d=l),r=0===d?0:(f.avail_in-=d,i.arraySet(c,f.input,f.next_in,d,u),1===f.state.wrap?f.adler=s(f.adler,c,d,u):2===f.state.wrap&&(f.adler=a(f.adler,c,d,u)),f.next_in+=d,f.total_in+=d,d),e.lookahead+=r,e.lookahead+e.insert>=k)for(h=e.strstart-e.insert,e.ins_h=e.window[h],e.ins_h=(e.ins_h<<e.hash_shift^e.window[h+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[h+k-1])&e.hash_mask,e.prev[h&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=h,h++,e.insert--,!(e.lookahead+e.insert<k)););}while(e.lookahead<T&&0!==e.strm.avail_in)}function j(e,t){for(var r,n;;){if(e.lookahead<T){if(z(e),e.lookahead<T&&t===f)return C;if(0===e.lookahead)break}if(r=0,e.lookahead>=k&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+k-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==r&&e.strstart-r<=e.w_size-T&&(e.match_length=K(e,r)),e.match_length>=k)if(n=o._tr_tally(e,e.strstart-e.match_start,e.match_length-k),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=k){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+k-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(M(e,!1),0===e.strm.avail_out))return C}return e.insert=e.strstart<k-1?e.strstart:k-1,t===c?(M(e,!0),0===e.strm.avail_out?x:I):e.last_lit&&(M(e,!1),0===e.strm.avail_out)?C:U}function q(e,t){for(var r,n,i;;){if(e.lookahead<T){if(z(e),e.lookahead<T&&t===f)return C;if(0===e.lookahead)break}if(r=0,e.lookahead>=k&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+k-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=k-1,0!==r&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-T&&(e.match_length=K(e,r),e.match_length<=5&&(e.strategy===p||e.match_length===k&&e.strstart-e.match_start>4096)&&(e.match_length=k-1)),e.prev_length>=k&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-k,n=o._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-k),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+k-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=k-1,e.strstart++,n&&(M(e,!1),0===e.strm.avail_out))return C}else if(e.match_available){if((n=o._tr_tally(e,0,e.window[e.strstart-1]))&&M(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return C}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=o._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<k-1?e.strstart:k-1,t===c?(M(e,!0),0===e.strm.avail_out?x:I):e.last_lit&&(M(e,!1),0===e.strm.avail_out)?C:U}function W(e,t,r,n,i){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=i}function X(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=v,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(2*w),this.dyn_dtree=new i.Buf16(2*(2*E+1)),this.bl_tree=new i.Buf16(2*(2*b+1)),P(this.dyn_ltree),P(this.dyn_dtree),P(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(S+1),this.heap=new i.Buf16(2*_+1),P(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(2*_+1),P(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function V(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=m,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?B:N,e.adler=2===t.wrap?0:1,t.last_flush=f,o._tr_init(t),u):D(e,l)}function Y(e){var t,r=V(e);return r===u&&((t=e.state).window_size=2*t.w_size,P(t.head),t.max_lazy_match=n[t.level].max_lazy,t.good_match=n[t.level].good_length,t.nice_match=n[t.level].nice_length,t.max_chain_length=n[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=k-1,t.match_available=0,t.ins_h=0),r}function Q(e,t,r,n,o,s){if(!e)return l;var a=1;if(t===d&&(t=6),n<0?(a=0,n=-n):n>15&&(a=2,n-=16),o<1||o>y||r!==v||n<8||n>15||t<0||t>9||s<0||s>g)return D(e,l);8===n&&(n=9);var h=new X;return e.state=h,h.strm=e,h.wrap=a,h.gzhead=null,h.w_bits=n,h.w_size=1<<h.w_bits,h.w_mask=h.w_size-1,h.hash_bits=o+7,h.hash_size=1<<h.hash_bits,h.hash_mask=h.hash_size-1,h.hash_shift=~~((h.hash_bits+k-1)/k),h.window=new i.Buf8(2*h.w_size),h.head=new i.Buf16(h.hash_size),h.prev=new i.Buf16(h.w_size),h.lit_bufsize=1<<o+6,h.pending_buf_size=4*h.lit_bufsize,h.pending_buf=new i.Buf8(h.pending_buf_size),h.d_buf=1*h.lit_bufsize,h.l_buf=3*h.lit_bufsize,h.level=t,h.strategy=s,h.method=r,Y(e)}n=[new W(0,0,0,0,function(e,t){var r=65535;for(r>e.pending_buf_size-5&&(r=e.pending_buf_size-5);;){if(e.lookahead<=1){if(z(e),0===e.lookahead&&t===f)return C;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var n=e.block_start+r;if((0===e.strstart||e.strstart>=n)&&(e.lookahead=e.strstart-n,e.strstart=n,M(e,!1),0===e.strm.avail_out))return C;if(e.strstart-e.block_start>=e.w_size-T&&(M(e,!1),0===e.strm.avail_out))return C}return e.insert=0,t===c?(M(e,!0),0===e.strm.avail_out?x:I):(e.strstart>e.block_start&&(M(e,!1),e.strm.avail_out),C)}),new W(4,4,8,4,j),new W(4,5,16,8,j),new W(4,6,32,32,j),new W(4,4,16,16,q),new W(8,16,32,32,q),new W(8,16,128,128,q),new W(8,32,128,256,q),new W(32,128,258,1024,q),new W(32,258,258,4096,q)],t.deflateInit=function(e,t){return Q(e,t,v,15,8,0)},t.deflateInit2=Q,t.deflateReset=Y,t.deflateResetKeep=V,t.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?l:(e.state.gzhead=t,u):l},t.deflate=function(e,t){var r,i,s,h;if(!e||!e.state||t>5||t<0)return e?D(e,l):l;if(i=e.state,!e.output||!e.input&&0!==e.avail_in||i.status===R&&t!==c)return D(e,0===e.avail_out?-5:l);if(i.strm=e,r=i.last_flush,i.last_flush=t,i.status===B)if(2===i.wrap)e.adler=0,F(i,31),F(i,139),F(i,8),i.gzhead?(F(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),F(i,255&i.gzhead.time),F(i,i.gzhead.time>>8&255),F(i,i.gzhead.time>>16&255),F(i,i.gzhead.time>>24&255),F(i,9===i.level?2:i.strategy>=2||i.level<2?4:0),F(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(F(i,255&i.gzhead.extra.length),F(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=a(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(F(i,0),F(i,0),F(i,0),F(i,0),F(i,0),F(i,9===i.level?2:i.strategy>=2||i.level<2?4:0),F(i,3),i.status=N);else{var d=v+(i.w_bits-8<<4)<<8;d|=(i.strategy>=2||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(d|=32),d+=31-d%31,i.status=N,G(i,d),0!==i.strstart&&(G(i,e.adler>>>16),G(i,65535&e.adler)),e.adler=1}if(69===i.status)if(i.gzhead.extra){for(s=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>s&&(e.adler=a(e.adler,i.pending_buf,i.pending-s,s)),H(e),s=i.pending,i.pending!==i.pending_buf_size));)F(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>s&&(e.adler=a(e.adler,i.pending_buf,i.pending-s,s)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){s=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>s&&(e.adler=a(e.adler,i.pending_buf,i.pending-s,s)),H(e),s=i.pending,i.pending===i.pending_buf_size)){h=1;break}h=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,F(i,h)}while(0!==h);i.gzhead.hcrc&&i.pending>s&&(e.adler=a(e.adler,i.pending_buf,i.pending-s,s)),0===h&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){s=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>s&&(e.adler=a(e.adler,i.pending_buf,i.pending-s,s)),H(e),s=i.pending,i.pending===i.pending_buf_size)){h=1;break}h=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,F(i,h)}while(0!==h);i.gzhead.hcrc&&i.pending>s&&(e.adler=a(e.adler,i.pending_buf,i.pending-s,s)),0===h&&(i.status=O)}else i.status=O;if(i.status===O&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&H(e),i.pending+2<=i.pending_buf_size&&(F(i,255&e.adler),F(i,e.adler>>8&255),e.adler=0,i.status=N)):i.status=N),0!==i.pending){if(H(e),0===e.avail_out)return i.last_flush=-1,u}else if(0===e.avail_in&&L(t)<=L(r)&&t!==c)return D(e,-5);if(i.status===R&&0!==e.avail_in)return D(e,-5);if(0!==e.avail_in||0!==i.lookahead||t!==f&&i.status!==R){var p=2===i.strategy?function(e,t){for(var r;;){if(0===e.lookahead&&(z(e),0===e.lookahead)){if(t===f)return C;break}if(e.match_length=0,r=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(M(e,!1),0===e.strm.avail_out))return C}return e.insert=0,t===c?(M(e,!0),0===e.strm.avail_out?x:I):e.last_lit&&(M(e,!1),0===e.strm.avail_out)?C:U}(i,t):3===i.strategy?function(e,t){for(var r,n,i,s,a=e.window;;){if(e.lookahead<=A){if(z(e),e.lookahead<=A&&t===f)return C;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=k&&e.strstart>0&&(n=a[i=e.strstart-1])===a[++i]&&n===a[++i]&&n===a[++i]){s=e.strstart+A;do{}while(n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&i<s);e.match_length=A-(s-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=k?(r=o._tr_tally(e,1,e.match_length-k),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(M(e,!1),0===e.strm.avail_out))return C}return e.insert=0,t===c?(M(e,!0),0===e.strm.avail_out?x:I):e.last_lit&&(M(e,!1),0===e.strm.avail_out)?C:U}(i,t):n[i.level].func(i,t);if(p!==x&&p!==I||(i.status=R),p===C||p===x)return 0===e.avail_out&&(i.last_flush=-1),u;if(p===U&&(1===t?o._tr_align(i):5!==t&&(o._tr_stored_block(i,0,0,!1),3===t&&(P(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),H(e),0===e.avail_out))return i.last_flush=-1,u}return t!==c?u:i.wrap<=0?1:(2===i.wrap?(F(i,255&e.adler),F(i,e.adler>>8&255),F(i,e.adler>>16&255),F(i,e.adler>>24&255),F(i,255&e.total_in),F(i,e.total_in>>8&255),F(i,e.total_in>>16&255),F(i,e.total_in>>24&255)):(G(i,e.adler>>>16),G(i,65535&e.adler)),H(e),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?u:1)},t.deflateEnd=function(e){var t;return e&&e.state?(t=e.state.status)!==B&&69!==t&&73!==t&&91!==t&&t!==O&&t!==N&&t!==R?D(e,l):(e.state=null,t===N?D(e,-3):u):l},t.deflateSetDictionary=function(e,t){var r,n,o,a,h,f,c,d,p=t.length;if(!e||!e.state)return l;if(2===(a=(r=e.state).wrap)||1===a&&r.status!==B||r.lookahead)return l;for(1===a&&(e.adler=s(e.adler,t,p,0)),r.wrap=0,p>=r.w_size&&(0===a&&(P(r.head),r.strstart=0,r.block_start=0,r.insert=0),d=new i.Buf8(r.w_size),i.arraySet(d,t,p-r.w_size,r.w_size,0),t=d,p=r.w_size),h=e.avail_in,f=e.next_in,c=e.input,e.avail_in=p,e.next_in=0,e.input=t,z(r);r.lookahead>=k;){n=r.strstart,o=r.lookahead-(k-1);do{r.ins_h=(r.ins_h<<r.hash_shift^r.window[n+k-1])&r.hash_mask,r.prev[n&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=n,n++}while(--o);r.strstart=n,r.lookahead=k-1,z(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=k-1,r.match_available=0,e.next_in=f,e.input=c,e.avail_in=h,r.wrap=a,u},t.deflateInfo="pako deflate (from Nodeca project)"},function(e,t,r){"use strict";var n=r(10);function i(e){for(var t=e.length;--t>=0;)e[t]=0}var o=0,s=256,a=s+1+29,h=30,f=19,c=2*a+1,u=15,l=16,d=256,p=16,g=17,m=18,v=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],y=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],_=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],E=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],b=new Array(2*(a+2));i(b);var w=new Array(2*h);i(w);var S=new Array(512);i(S);var k=new Array(256);i(k);var A=new Array(29);i(A);var T,B,O,N=new Array(h);function R(e,t,r,n,i){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=e&&e.length}function C(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function U(e){return e<256?S[e]:S[256+(e>>>7)]}function x(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function I(e,t,r){e.bi_valid>l-r?(e.bi_buf|=t<<e.bi_valid&65535,x(e,e.bi_buf),e.bi_buf=t>>l-e.bi_valid,e.bi_valid+=r-l):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)}function D(e,t,r){I(e,r[2*t],r[2*t+1])}function L(e,t){var r=0;do{r|=1&e,e>>>=1,r<<=1}while(--t>0);return r>>>1}function P(e,t,r){var n,i,o=new Array(u+1),s=0;for(n=1;n<=u;n++)o[n]=s=s+r[n-1]<<1;for(i=0;i<=t;i++){var a=e[2*i+1];0!==a&&(e[2*i]=L(o[a]++,a))}}function H(e){var t;for(t=0;t<a;t++)e.dyn_ltree[2*t]=0;for(t=0;t<h;t++)e.dyn_dtree[2*t]=0;for(t=0;t<f;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*d]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function M(e){e.bi_valid>8?x(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function F(e,t,r,n){var i=2*t,o=2*r;return e[i]<e[o]||e[i]===e[o]&&n[t]<=n[r]}function G(e,t,r){for(var n=e.heap[r],i=r<<1;i<=e.heap_len&&(i<e.heap_len&&F(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!F(t,n,e.heap[i],e.depth));)e.heap[r]=e.heap[i],r=i,i<<=1;e.heap[r]=n}function K(e,t,r){var n,i,o,a,h=0;if(0!==e.last_lit)do{n=e.pending_buf[e.d_buf+2*h]<<8|e.pending_buf[e.d_buf+2*h+1],i=e.pending_buf[e.l_buf+h],h++,0===n?D(e,i,t):(D(e,(o=k[i])+s+1,t),0!==(a=v[o])&&I(e,i-=A[o],a),D(e,o=U(--n),r),0!==(a=y[o])&&I(e,n-=N[o],a))}while(h<e.last_lit);D(e,d,t)}function z(e,t){var r,n,i,o=t.dyn_tree,s=t.stat_desc.static_tree,a=t.stat_desc.has_stree,h=t.stat_desc.elems,f=-1;for(e.heap_len=0,e.heap_max=c,r=0;r<h;r++)0!==o[2*r]?(e.heap[++e.heap_len]=f=r,e.depth[r]=0):o[2*r+1]=0;for(;e.heap_len<2;)o[2*(i=e.heap[++e.heap_len]=f<2?++f:0)]=1,e.depth[i]=0,e.opt_len--,a&&(e.static_len-=s[2*i+1]);for(t.max_code=f,r=e.heap_len>>1;r>=1;r--)G(e,o,r);i=h;do{r=e.heap[1],e.heap[1]=e.heap[e.heap_len--],G(e,o,1),n=e.heap[1],e.heap[--e.heap_max]=r,e.heap[--e.heap_max]=n,o[2*i]=o[2*r]+o[2*n],e.depth[i]=(e.depth[r]>=e.depth[n]?e.depth[r]:e.depth[n])+1,o[2*r+1]=o[2*n+1]=i,e.heap[1]=i++,G(e,o,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var r,n,i,o,s,a,h=t.dyn_tree,f=t.max_code,l=t.stat_desc.static_tree,d=t.stat_desc.has_stree,p=t.stat_desc.extra_bits,g=t.stat_desc.extra_base,m=t.stat_desc.max_length,v=0;for(o=0;o<=u;o++)e.bl_count[o]=0;for(h[2*e.heap[e.heap_max]+1]=0,r=e.heap_max+1;r<c;r++)(o=h[2*h[2*(n=e.heap[r])+1]+1]+1)>m&&(o=m,v++),h[2*n+1]=o,n>f||(e.bl_count[o]++,s=0,n>=g&&(s=p[n-g]),a=h[2*n],e.opt_len+=a*(o+s),d&&(e.static_len+=a*(l[2*n+1]+s)));if(0!==v){do{for(o=m-1;0===e.bl_count[o];)o--;e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[m]--,v-=2}while(v>0);for(o=m;0!==o;o--)for(n=e.bl_count[o];0!==n;)(i=e.heap[--r])>f||(h[2*i+1]!==o&&(e.opt_len+=(o-h[2*i+1])*h[2*i],h[2*i+1]=o),n--)}}(e,t),P(o,f,e.bl_count)}function j(e,t,r){var n,i,o=-1,s=t[1],a=0,h=7,f=4;for(0===s&&(h=138,f=3),t[2*(r+1)+1]=65535,n=0;n<=r;n++)i=s,s=t[2*(n+1)+1],++a<h&&i===s||(a<f?e.bl_tree[2*i]+=a:0!==i?(i!==o&&e.bl_tree[2*i]++,e.bl_tree[2*p]++):a<=10?e.bl_tree[2*g]++:e.bl_tree[2*m]++,a=0,o=i,0===s?(h=138,f=3):i===s?(h=6,f=3):(h=7,f=4))}function q(e,t,r){var n,i,o=-1,s=t[1],a=0,h=7,f=4;for(0===s&&(h=138,f=3),n=0;n<=r;n++)if(i=s,s=t[2*(n+1)+1],!(++a<h&&i===s)){if(a<f)do{D(e,i,e.bl_tree)}while(0!=--a);else 0!==i?(i!==o&&(D(e,i,e.bl_tree),a--),D(e,p,e.bl_tree),I(e,a-3,2)):a<=10?(D(e,g,e.bl_tree),I(e,a-3,3)):(D(e,m,e.bl_tree),I(e,a-11,7));a=0,o=i,0===s?(h=138,f=3):i===s?(h=6,f=3):(h=7,f=4)}}i(N);var W=!1;function X(e,t,r,i){I(e,(o<<1)+(i?1:0),3),function(e,t,r,i){M(e),x(e,r),x(e,~r),n.arraySet(e.pending_buf,e.window,t,r,e.pending),e.pending+=r}(e,t,r)}t._tr_init=function(e){W||(function(){var e,t,r,n,i,o=new Array(u+1);for(r=0,n=0;n<28;n++)for(A[n]=r,e=0;e<1<<v[n];e++)k[r++]=n;for(k[r-1]=n,i=0,n=0;n<16;n++)for(N[n]=i,e=0;e<1<<y[n];e++)S[i++]=n;for(i>>=7;n<h;n++)for(N[n]=i<<7,e=0;e<1<<y[n]-7;e++)S[256+i++]=n;for(t=0;t<=u;t++)o[t]=0;for(e=0;e<=143;)b[2*e+1]=8,e++,o[8]++;for(;e<=255;)b[2*e+1]=9,e++,o[9]++;for(;e<=279;)b[2*e+1]=7,e++,o[7]++;for(;e<=287;)b[2*e+1]=8,e++,o[8]++;for(P(b,a+1,o),e=0;e<h;e++)w[2*e+1]=5,w[2*e]=L(e,5);T=new R(b,v,s+1,a,u),B=new R(w,y,0,h,u),O=new R(new Array(0),_,0,f,7)}(),W=!0),e.l_desc=new C(e.dyn_ltree,T),e.d_desc=new C(e.dyn_dtree,B),e.bl_desc=new C(e.bl_tree,O),e.bi_buf=0,e.bi_valid=0,H(e)},t._tr_stored_block=X,t._tr_flush_block=function(e,t,r,n){var i,o,a=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,r=4093624447;for(t=0;t<=31;t++,r>>>=1)if(1&r&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<s;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),z(e,e.l_desc),z(e,e.d_desc),a=function(e){var t;for(j(e,e.dyn_ltree,e.l_desc.max_code),j(e,e.dyn_dtree,e.d_desc.max_code),z(e,e.bl_desc),t=f-1;t>=3&&0===e.bl_tree[2*E[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),i=e.opt_len+3+7>>>3,(o=e.static_len+3+7>>>3)<=i&&(i=o)):i=o=r+5,r+4<=i&&-1!==t?X(e,t,r,n):4===e.strategy||o===i?(I(e,2+(n?1:0),3),K(e,b,w)):(I(e,4+(n?1:0),3),function(e,t,r,n){var i;for(I(e,t-257,5),I(e,r-1,5),I(e,n-4,4),i=0;i<n;i++)I(e,e.bl_tree[2*E[i]+1],3);q(e,e.dyn_ltree,t-1),q(e,e.dyn_dtree,r-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),K(e,e.dyn_ltree,e.dyn_dtree)),H(e),n&&M(e)},t._tr_tally=function(e,t,r){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&r,e.last_lit++,0===t?e.dyn_ltree[2*r]++:(e.matches++,t--,e.dyn_ltree[2*(k[r]+s+1)]++,e.dyn_dtree[2*U(t)]++),e.last_lit===e.lit_bufsize-1},t._tr_align=function(e){I(e,2,3),D(e,d,b),function(e){16===e.bi_valid?(x(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},function(e,t,r){"use strict";var n=r(99),i=r(10),o=r(56),s=r(58),a=r(27),h=r(57),f=r(102),c=Object.prototype.toString;function u(e){if(!(this instanceof u))return new u(e);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var r=n.inflateInit2(this.strm,t.windowBits);if(r!==s.Z_OK)throw new Error(a[r]);if(this.header=new f,n.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=o.string2buf(t.dictionary):"[object ArrayBuffer]"===c.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=n.inflateSetDictionary(this.strm,t.dictionary))!==s.Z_OK))throw new Error(a[r])}function l(e,t){var r=new u(t);if(r.push(e,!0),r.err)throw r.msg||a[r.err];return r.result}u.prototype.push=function(e,t){var r,a,h,f,u,l=this.strm,d=this.options.chunkSize,p=this.options.dictionary,g=!1;if(this.ended)return!1;a=t===~~t?t:!0===t?s.Z_FINISH:s.Z_NO_FLUSH,"string"==typeof e?l.input=o.binstring2buf(e):"[object ArrayBuffer]"===c.call(e)?l.input=new Uint8Array(e):l.input=e,l.next_in=0,l.avail_in=l.input.length;do{if(0===l.avail_out&&(l.output=new i.Buf8(d),l.next_out=0,l.avail_out=d),(r=n.inflate(l,s.Z_NO_FLUSH))===s.Z_NEED_DICT&&p&&(r=n.inflateSetDictionary(this.strm,p)),r===s.Z_BUF_ERROR&&!0===g&&(r=s.Z_OK,g=!1),r!==s.Z_STREAM_END&&r!==s.Z_OK)return this.onEnd(r),this.ended=!0,!1;l.next_out&&(0!==l.avail_out&&r!==s.Z_STREAM_END&&(0!==l.avail_in||a!==s.Z_FINISH&&a!==s.Z_SYNC_FLUSH)||("string"===this.options.to?(h=o.utf8border(l.output,l.next_out),f=l.next_out-h,u=o.buf2string(l.output,h),l.next_out=f,l.avail_out=d-f,f&&i.arraySet(l.output,l.output,h,f,0),this.onData(u)):this.onData(i.shrinkBuf(l.output,l.next_out)))),0===l.avail_in&&0===l.avail_out&&(g=!0)}while((l.avail_in>0||0===l.avail_out)&&r!==s.Z_STREAM_END);return r===s.Z_STREAM_END&&(a=s.Z_FINISH),a===s.Z_FINISH?(r=n.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===s.Z_OK):a!==s.Z_SYNC_FLUSH||(this.onEnd(s.Z_OK),l.avail_out=0,!0)},u.prototype.onData=function(e){this.chunks.push(e)},u.prototype.onEnd=function(e){e===s.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Inflate=u,t.inflate=l,t.inflateRaw=function(e,t){return(t=t||{}).raw=!0,l(e,t)},t.ungzip=l},function(e,t,r){"use strict";var n=r(10),i=r(54),o=r(55),s=r(100),a=r(101),h=1,f=2,c=0,u=-2,l=1,d=12,p=30,g=852,m=592;function v(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function y(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new n.Buf16(320),this.work=new n.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function _(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=l,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new n.Buf32(g),t.distcode=t.distdyn=new n.Buf32(m),t.sane=1,t.back=-1,c):u}function E(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,_(e)):u}function b(e,t){var r,n;return e&&e.state?(n=e.state,t<0?(r=0,t=-t):(r=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?u:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,E(e))):u}function w(e,t){var r,n;return e?(n=new y,e.state=n,n.window=null,(r=b(e,t))!==c&&(e.state=null),r):u}var S,k,A=!0;function T(e){if(A){var t;for(S=new n.Buf32(512),k=new n.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(a(h,e.lens,0,288,S,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;a(f,e.lens,0,32,k,0,e.work,{bits:5}),A=!1}e.lencode=S,e.lenbits=9,e.distcode=k,e.distbits=5}function B(e,t,r,i){var o,s=e.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new n.Buf8(s.wsize)),i>=s.wsize?(n.arraySet(s.window,t,r-s.wsize,s.wsize,0),s.wnext=0,s.whave=s.wsize):((o=s.wsize-s.wnext)>i&&(o=i),n.arraySet(s.window,t,r-i,o,s.wnext),(i-=o)?(n.arraySet(s.window,t,r-i,i,0),s.wnext=i,s.whave=s.wsize):(s.wnext+=o,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=o))),0}t.inflateReset=E,t.inflateReset2=b,t.inflateResetKeep=_,t.inflateInit=function(e){return w(e,15)},t.inflateInit2=w,t.inflate=function(e,t){var r,g,m,y,_,E,b,w,S,k,A,O,N,R,C,U,x,I,D,L,P,H,M,F,G=0,K=new n.Buf8(4),z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return u;(r=e.state).mode===d&&(r.mode=13),_=e.next_out,m=e.output,b=e.avail_out,y=e.next_in,g=e.input,E=e.avail_in,w=r.hold,S=r.bits,k=E,A=b,H=c;e:for(;;)switch(r.mode){case l:if(0===r.wrap){r.mode=13;break}for(;S<16;){if(0===E)break e;E--,w+=g[y++]<<S,S+=8}if(2&r.wrap&&35615===w){r.check=0,K[0]=255&w,K[1]=w>>>8&255,r.check=o(r.check,K,2,0),w=0,S=0,r.mode=2;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&w)<<8)+(w>>8))%31){e.msg="incorrect header check",r.mode=p;break}if(8!=(15&w)){e.msg="unknown compression method",r.mode=p;break}if(S-=4,P=8+(15&(w>>>=4)),0===r.wbits)r.wbits=P;else if(P>r.wbits){e.msg="invalid window size",r.mode=p;break}r.dmax=1<<P,e.adler=r.check=1,r.mode=512&w?10:d,w=0,S=0;break;case 2:for(;S<16;){if(0===E)break e;E--,w+=g[y++]<<S,S+=8}if(r.flags=w,8!=(255&r.flags)){e.msg="unknown compression method",r.mode=p;break}if(57344&r.flags){e.msg="unknown header flags set",r.mode=p;break}r.head&&(r.head.text=w>>8&1),512&r.flags&&(K[0]=255&w,K[1]=w>>>8&255,r.check=o(r.check,K,2,0)),w=0,S=0,r.mode=3;case 3:for(;S<32;){if(0===E)break e;E--,w+=g[y++]<<S,S+=8}r.head&&(r.head.time=w),512&r.flags&&(K[0]=255&w,K[1]=w>>>8&255,K[2]=w>>>16&255,K[3]=w>>>24&255,r.check=o(r.check,K,4,0)),w=0,S=0,r.mode=4;case 4:for(;S<16;){if(0===E)break e;E--,w+=g[y++]<<S,S+=8}r.head&&(r.head.xflags=255&w,r.head.os=w>>8),512&r.flags&&(K[0]=255&w,K[1]=w>>>8&255,r.check=o(r.check,K,2,0)),w=0,S=0,r.mode=5;case 5:if(1024&r.flags){for(;S<16;){if(0===E)break e;E--,w+=g[y++]<<S,S+=8}r.length=w,r.head&&(r.head.extra_len=w),512&r.flags&&(K[0]=255&w,K[1]=w>>>8&255,r.check=o(r.check,K,2,0)),w=0,S=0}else r.head&&(r.head.extra=null);r.mode=6;case 6:if(1024&r.flags&&((O=r.length)>E&&(O=E),O&&(r.head&&(P=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),n.arraySet(r.head.extra,g,y,O,P)),512&r.flags&&(r.check=o(r.check,g,O,y)),E-=O,y+=O,r.length-=O),r.length))break e;r.length=0,r.mode=7;case 7:if(2048&r.flags){if(0===E)break e;O=0;do{P=g[y+O++],r.head&&P&&r.length<65536&&(r.head.name+=String.fromCharCode(P))}while(P&&O<E);if(512&r.flags&&(r.check=o(r.check,g,O,y)),E-=O,y+=O,P)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=8;case 8:if(4096&r.flags){if(0===E)break e;O=0;do{P=g[y+O++],r.head&&P&&r.length<65536&&(r.head.comment+=String.fromCharCode(P))}while(P&&O<E);if(512&r.flags&&(r.check=o(r.check,g,O,y)),E-=O,y+=O,P)break e}else r.head&&(r.head.comment=null);r.mode=9;case 9:if(512&r.flags){for(;S<16;){if(0===E)break e;E--,w+=g[y++]<<S,S+=8}if(w!==(65535&r.check)){e.msg="header crc mismatch",r.mode=p;break}w=0,S=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=d;break;case 10:for(;S<32;){if(0===E)break e;E--,w+=g[y++]<<S,S+=8}e.adler=r.check=v(w),w=0,S=0,r.mode=11;case 11:if(0===r.havedict)return e.next_out=_,e.avail_out=b,e.next_in=y,e.avail_in=E,r.hold=w,r.bits=S,2;e.adler=r.check=1,r.mode=d;case d:if(5===t||6===t)break e;case 13:if(r.last){w>>>=7&S,S-=7&S,r.mode=27;break}for(;S<3;){if(0===E)break e;E--,w+=g[y++]<<S,S+=8}switch(r.last=1&w,S-=1,3&(w>>>=1)){case 0:r.mode=14;break;case 1:if(T(r),r.mode=20,6===t){w>>>=2,S-=2;break e}break;case 2:r.mode=17;break;case 3:e.msg="invalid block type",r.mode=p}w>>>=2,S-=2;break;case 14:for(w>>>=7&S,S-=7&S;S<32;){if(0===E)break e;E--,w+=g[y++]<<S,S+=8}if((65535&w)!=(w>>>16^65535)){e.msg="invalid stored block lengths",r.mode=p;break}if(r.length=65535&w,w=0,S=0,r.mode=15,6===t)break e;case 15:r.mode=16;case 16:if(O=r.length){if(O>E&&(O=E),O>b&&(O=b),0===O)break e;n.arraySet(m,g,y,O,_),E-=O,y+=O,b-=O,_+=O,r.length-=O;break}r.mode=d;break;case 17:for(;S<14;){if(0===E)break e;E--,w+=g[y++]<<S,S+=8}if(r.nlen=257+(31&w),w>>>=5,S-=5,r.ndist=1+(31&w),w>>>=5,S-=5,r.ncode=4+(15&w),w>>>=4,S-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=p;break}r.have=0,r.mode=18;case 18:for(;r.have<r.ncode;){for(;S<3;){if(0===E)break e;E--,w+=g[y++]<<S,S+=8}r.lens[z[r.have++]]=7&w,w>>>=3,S-=3}for(;r.have<19;)r.lens[z[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,M={bits:r.lenbits},H=a(0,r.lens,0,19,r.lencode,0,r.work,M),r.lenbits=M.bits,H){e.msg="invalid code lengths set",r.mode=p;break}r.have=0,r.mode=19;case 19:for(;r.have<r.nlen+r.ndist;){for(;U=(G=r.lencode[w&(1<<r.lenbits)-1])>>>16&255,x=65535&G,!((C=G>>>24)<=S);){if(0===E)break e;E--,w+=g[y++]<<S,S+=8}if(x<16)w>>>=C,S-=C,r.lens[r.have++]=x;else{if(16===x){for(F=C+2;S<F;){if(0===E)break e;E--,w+=g[y++]<<S,S+=8}if(w>>>=C,S-=C,0===r.have){e.msg="invalid bit length repeat",r.mode=p;break}P=r.lens[r.have-1],O=3+(3&w),w>>>=2,S-=2}else if(17===x){for(F=C+3;S<F;){if(0===E)break e;E--,w+=g[y++]<<S,S+=8}S-=C,P=0,O=3+(7&(w>>>=C)),w>>>=3,S-=3}else{for(F=C+7;S<F;){if(0===E)break e;E--,w+=g[y++]<<S,S+=8}S-=C,P=0,O=11+(127&(w>>>=C)),w>>>=7,S-=7}if(r.have+O>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=p;break}for(;O--;)r.lens[r.have++]=P}}if(r.mode===p)break;if(0===r.lens[256]){e.msg="invalid code -- missing end-of-block",r.mode=p;break}if(r.lenbits=9,M={bits:r.lenbits},H=a(h,r.lens,0,r.nlen,r.lencode,0,r.work,M),r.lenbits=M.bits,H){e.msg="invalid literal/lengths set",r.mode=p;break}if(r.distbits=6,r.distcode=r.distdyn,M={bits:r.distbits},H=a(f,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,M),r.distbits=M.bits,H){e.msg="invalid distances set",r.mode=p;break}if(r.mode=20,6===t)break e;case 20:r.mode=21;case 21:if(E>=6&&b>=258){e.next_out=_,e.avail_out=b,e.next_in=y,e.avail_in=E,r.hold=w,r.bits=S,s(e,A),_=e.next_out,m=e.output,b=e.avail_out,y=e.next_in,g=e.input,E=e.avail_in,w=r.hold,S=r.bits,r.mode===d&&(r.back=-1);break}for(r.back=0;U=(G=r.lencode[w&(1<<r.lenbits)-1])>>>16&255,x=65535&G,!((C=G>>>24)<=S);){if(0===E)break e;E--,w+=g[y++]<<S,S+=8}if(U&&0==(240&U)){for(I=C,D=U,L=x;U=(G=r.lencode[L+((w&(1<<I+D)-1)>>I)])>>>16&255,x=65535&G,!(I+(C=G>>>24)<=S);){if(0===E)break e;E--,w+=g[y++]<<S,S+=8}w>>>=I,S-=I,r.back+=I}if(w>>>=C,S-=C,r.back+=C,r.length=x,0===U){r.mode=26;break}if(32&U){r.back=-1,r.mode=d;break}if(64&U){e.msg="invalid literal/length code",r.mode=p;break}r.extra=15&U,r.mode=22;case 22:if(r.extra){for(F=r.extra;S<F;){if(0===E)break e;E--,w+=g[y++]<<S,S+=8}r.length+=w&(1<<r.extra)-1,w>>>=r.extra,S-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=23;case 23:for(;U=(G=r.distcode[w&(1<<r.distbits)-1])>>>16&255,x=65535&G,!((C=G>>>24)<=S);){if(0===E)break e;E--,w+=g[y++]<<S,S+=8}if(0==(240&U)){for(I=C,D=U,L=x;U=(G=r.distcode[L+((w&(1<<I+D)-1)>>I)])>>>16&255,x=65535&G,!(I+(C=G>>>24)<=S);){if(0===E)break e;E--,w+=g[y++]<<S,S+=8}w>>>=I,S-=I,r.back+=I}if(w>>>=C,S-=C,r.back+=C,64&U){e.msg="invalid distance code",r.mode=p;break}r.offset=x,r.extra=15&U,r.mode=24;case 24:if(r.extra){for(F=r.extra;S<F;){if(0===E)break e;E--,w+=g[y++]<<S,S+=8}r.offset+=w&(1<<r.extra)-1,w>>>=r.extra,S-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=p;break}r.mode=25;case 25:if(0===b)break e;if(O=A-b,r.offset>O){if((O=r.offset-O)>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=p;break}O>r.wnext?(O-=r.wnext,N=r.wsize-O):N=r.wnext-O,O>r.length&&(O=r.length),R=r.window}else R=m,N=_-r.offset,O=r.length;O>b&&(O=b),b-=O,r.length-=O;do{m[_++]=R[N++]}while(--O);0===r.length&&(r.mode=21);break;case 26:if(0===b)break e;m[_++]=r.length,b--,r.mode=21;break;case 27:if(r.wrap){for(;S<32;){if(0===E)break e;E--,w|=g[y++]<<S,S+=8}if(A-=b,e.total_out+=A,r.total+=A,A&&(e.adler=r.check=r.flags?o(r.check,m,A,_-A):i(r.check,m,A,_-A)),A=b,(r.flags?w:v(w))!==r.check){e.msg="incorrect data check",r.mode=p;break}w=0,S=0}r.mode=28;case 28:if(r.wrap&&r.flags){for(;S<32;){if(0===E)break e;E--,w+=g[y++]<<S,S+=8}if(w!==(4294967295&r.total)){e.msg="incorrect length check",r.mode=p;break}w=0,S=0}r.mode=29;case 29:H=1;break e;case p:H=-3;break e;case 31:return-4;case 32:default:return u}return e.next_out=_,e.avail_out=b,e.next_in=y,e.avail_in=E,r.hold=w,r.bits=S,(r.wsize||A!==e.avail_out&&r.mode<p&&(r.mode<27||4!==t))&&B(e,e.output,e.next_out,A-e.avail_out)?(r.mode=31,-4):(k-=e.avail_in,A-=e.avail_out,e.total_in+=k,e.total_out+=A,r.total+=A,r.wrap&&A&&(e.adler=r.check=r.flags?o(r.check,m,A,e.next_out-A):i(r.check,m,A,e.next_out-A)),e.data_type=r.bits+(r.last?64:0)+(r.mode===d?128:0)+(20===r.mode||15===r.mode?256:0),(0===k&&0===A||4===t)&&H===c&&(H=-5),H)},t.inflateEnd=function(e){if(!e||!e.state)return u;var t=e.state;return t.window&&(t.window=null),e.state=null,c},t.inflateGetHeader=function(e,t){var r;return e&&e.state?0==(2&(r=e.state).wrap)?u:(r.head=t,t.done=!1,c):u},t.inflateSetDictionary=function(e,t){var r,n=t.length;return e&&e.state?0!==(r=e.state).wrap&&11!==r.mode?u:11===r.mode&&i(1,t,n,0)!==r.check?-3:B(e,t,n,n)?(r.mode=31,-4):(r.havedict=1,c):u},t.inflateInfo="pako inflate (from Nodeca project)"},function(e,t,r){"use strict";e.exports=function(e,t){var r,n,i,o,s,a,h,f,c,u,l,d,p,g,m,v,y,_,E,b,w,S,k,A,T;r=e.state,n=e.next_in,A=e.input,i=n+(e.avail_in-5),o=e.next_out,T=e.output,s=o-(t-e.avail_out),a=o+(e.avail_out-257),h=r.dmax,f=r.wsize,c=r.whave,u=r.wnext,l=r.window,d=r.hold,p=r.bits,g=r.lencode,m=r.distcode,v=(1<<r.lenbits)-1,y=(1<<r.distbits)-1;e:do{p<15&&(d+=A[n++]<<p,p+=8,d+=A[n++]<<p,p+=8),_=g[d&v];t:for(;;){if(d>>>=E=_>>>24,p-=E,0==(E=_>>>16&255))T[o++]=65535&_;else{if(!(16&E)){if(0==(64&E)){_=g[(65535&_)+(d&(1<<E)-1)];continue t}if(32&E){r.mode=12;break e}e.msg="invalid literal/length code",r.mode=30;break e}b=65535&_,(E&=15)&&(p<E&&(d+=A[n++]<<p,p+=8),b+=d&(1<<E)-1,d>>>=E,p-=E),p<15&&(d+=A[n++]<<p,p+=8,d+=A[n++]<<p,p+=8),_=m[d&y];r:for(;;){if(d>>>=E=_>>>24,p-=E,!(16&(E=_>>>16&255))){if(0==(64&E)){_=m[(65535&_)+(d&(1<<E)-1)];continue r}e.msg="invalid distance code",r.mode=30;break e}if(w=65535&_,p<(E&=15)&&(d+=A[n++]<<p,(p+=8)<E&&(d+=A[n++]<<p,p+=8)),(w+=d&(1<<E)-1)>h){e.msg="invalid distance too far back",r.mode=30;break e}if(d>>>=E,p-=E,w>(E=o-s)){if((E=w-E)>c&&r.sane){e.msg="invalid distance too far back",r.mode=30;break e}if(S=0,k=l,0===u){if(S+=f-E,E<b){b-=E;do{T[o++]=l[S++]}while(--E);S=o-w,k=T}}else if(u<E){if(S+=f+u-E,(E-=u)<b){b-=E;do{T[o++]=l[S++]}while(--E);if(S=0,u<b){b-=E=u;do{T[o++]=l[S++]}while(--E);S=o-w,k=T}}}else if(S+=u-E,E<b){b-=E;do{T[o++]=l[S++]}while(--E);S=o-w,k=T}for(;b>2;)T[o++]=k[S++],T[o++]=k[S++],T[o++]=k[S++],b-=3;b&&(T[o++]=k[S++],b>1&&(T[o++]=k[S++]))}else{S=o-w;do{T[o++]=T[S++],T[o++]=T[S++],T[o++]=T[S++],b-=3}while(b>2);b&&(T[o++]=T[S++],b>1&&(T[o++]=T[S++]))}break}}break}}while(n<i&&o<a);n-=b=p>>3,d&=(1<<(p-=b<<3))-1,e.next_in=n,e.next_out=o,e.avail_in=n<i?i-n+5:5-(n-i),e.avail_out=o<a?a-o+257:257-(o-a),r.hold=d,r.bits=p}},function(e,t,r){"use strict";var n=r(10),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],s=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],a=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(e,t,r,h,f,c,u,l){var d,p,g,m,v,y,_,E,b,w=l.bits,S=0,k=0,A=0,T=0,B=0,O=0,N=0,R=0,C=0,U=0,x=null,I=0,D=new n.Buf16(16),L=new n.Buf16(16),P=null,H=0;for(S=0;S<=15;S++)D[S]=0;for(k=0;k<h;k++)D[t[r+k]]++;for(B=w,T=15;T>=1&&0===D[T];T--);if(B>T&&(B=T),0===T)return f[c++]=20971520,f[c++]=20971520,l.bits=1,0;for(A=1;A<T&&0===D[A];A++);for(B<A&&(B=A),R=1,S=1;S<=15;S++)if(R<<=1,(R-=D[S])<0)return-1;if(R>0&&(0===e||1!==T))return-1;for(L[1]=0,S=1;S<15;S++)L[S+1]=L[S]+D[S];for(k=0;k<h;k++)0!==t[r+k]&&(u[L[t[r+k]]++]=k);if(0===e?(x=P=u,y=19):1===e?(x=i,I-=257,P=o,H-=257,y=256):(x=s,P=a,y=-1),U=0,k=0,S=A,v=c,O=B,N=0,g=-1,m=(C=1<<B)-1,1===e&&C>852||2===e&&C>592)return 1;for(;;){_=S-N,u[k]<y?(E=0,b=u[k]):u[k]>y?(E=P[H+u[k]],b=x[I+u[k]]):(E=96,b=0),d=1<<S-N,A=p=1<<O;do{f[v+(U>>N)+(p-=d)]=_<<24|E<<16|b|0}while(0!==p);for(d=1<<S-1;U&d;)d>>=1;if(0!==d?(U&=d-1,U+=d):U=0,k++,0==--D[S]){if(S===T)break;S=t[r+u[k]]}if(S>B&&(U&m)!==g){for(0===N&&(N=B),v+=A,R=1<<(O=S-N);O+N<T&&!((R-=D[O+N])<=0);)O++,R<<=1;if(C+=1<<O,1===e&&C>852||2===e&&C>592)return 1;f[g=U&m]=B<<24|O<<16|v-c|0}}return 0!==U&&(f[v+U]=S-N<<24|64<<16|0),l.bits=B,0}},function(e,t,r){"use strict";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},function(e,t,r){"use strict";var n=r(1),i=r(5),o=r(13),s=r(26),a=r(59),h=function(e,t){var r,n="";for(r=0;r<t;r++)n+=String.fromCharCode(255&e),e>>>=8;return n},f=function(e,t,r,i,f,c){var u,l,d=e.file,p=e.compression,g=c!==o.utf8encode,m=n.transformTo("string",c(d.name)),v=n.transformTo("string",o.utf8encode(d.name)),y=d.comment,_=n.transformTo("string",c(y)),E=n.transformTo("string",o.utf8encode(y)),b=v.length!==d.name.length,w=E.length!==y.length,S="",k="",A="",T=d.dir,B=d.date,O={crc32:0,compressedSize:0,uncompressedSize:0};t&&!r||(O.crc32=e.crc32,O.compressedSize=e.compressedSize,O.uncompressedSize=e.uncompressedSize);var N=0;t&&(N|=8),g||!b&&!w||(N|=2048);var R,C,U=0,x=0;T&&(U|=16),"UNIX"===f?(x=798,U|=(C=R=d.unixPermissions,R||(C=T?16893:33204),(65535&C)<<16)):(x=20,U|=63&(d.dosPermissions||0)),u=B.getUTCHours(),u<<=6,u|=B.getUTCMinutes(),u<<=5,u|=B.getUTCSeconds()/2,l=B.getUTCFullYear()-1980,l<<=4,l|=B.getUTCMonth()+1,l<<=5,l|=B.getUTCDate(),b&&(k=h(1,1)+h(s(m),4)+v,S+="up"+h(k.length,2)+k),w&&(A=h(1,1)+h(s(_),4)+E,S+="uc"+h(A.length,2)+A);var I="";return I+="\n\0",I+=h(N,2),I+=p.magic,I+=h(u,2),I+=h(l,2),I+=h(O.crc32,4),I+=h(O.compressedSize,4),I+=h(O.uncompressedSize,4),I+=h(m.length,2),I+=h(S.length,2),{fileRecord:a.LOCAL_FILE_HEADER+I+m+S,dirRecord:a.CENTRAL_FILE_HEADER+h(x,2)+I+h(_.length,2)+"\0\0\0\0"+h(U,4)+h(i,4)+m+S+_}},c=function(e){return a.DATA_DESCRIPTOR+h(e.crc32,4)+h(e.compressedSize,4)+h(e.uncompressedSize,4)};function u(e,t,r,n){i.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=r,this.encodeFileName=n,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}n.inherits(u,i),u.prototype.push=function(e){var t=e.meta.percent||0,r=this.entriesCount,n=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,i.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:r?(t+100*(r-n-1))/r:100}}))},u.prototype.openedSource=function(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var t=this.streamFiles&&!e.file.dir;if(t){var r=f(e,t,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:r.fileRecord,meta:{percent:0}})}else this.accumulate=!0},u.prototype.closedSource=function(e){this.accumulate=!1;var t=this.streamFiles&&!e.file.dir,r=f(e,t,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(r.dirRecord),t)this.push({data:c(e),meta:{percent:100}});else for(this.push({data:r.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},u.prototype.flush=function(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var r=this.bytesWritten-e,i=function(e,t,r,i,o){var s=n.transformTo("string",o(i));return a.CENTRAL_DIRECTORY_END+"\0\0\0\0"+h(e,2)+h(e,2)+h(t,4)+h(r,4)+h(s.length,2)+s}(this.dirRecords.length,r,e,this.zipComment,this.encodeFileName);this.push({data:i,meta:{percent:100}})},u.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},u.prototype.registerPrevious=function(e){this._sources.push(e);var t=this;return e.on("data",function(e){t.processChunk(e)}),e.on("end",function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()}),e.on("error",function(e){t.error(e)}),this},u.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},u.prototype.error=function(e){var t=this._sources;if(!i.prototype.error.call(this,e))return!1;for(var r=0;r<t.length;r++)try{t[r].error(e)}catch(e){}return!0},u.prototype.lock=function(){i.prototype.lock.call(this);for(var e=this._sources,t=0;t<e.length;t++)e[t].lock()},e.exports=u},function(e,t,r){"use strict";var n=r(1),i=r(5);function o(e,t){i.call(this,"Nodejs stream input adapter for "+e),this._upstreamEnded=!1,this._bindStream(t)}n.inherits(o,i),o.prototype._bindStream=function(e){var t=this;this._stream=e,e.pause(),e.on("data",function(e){t.push({data:e,meta:{percent:0}})}).on("error",function(e){t.isPaused?this.generatedError=e:t.error(e)}).on("end",function(){t.isPaused?t._upstreamEnded=!0:t.end()})},o.prototype.pause=function(){return!!i.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},e.exports=o},function(e,t,r){"use strict";var n=r(1),i=r(17),o=r(13),s=(n=r(1),r(106)),a=r(52),h=r(22);function f(e){return new i.Promise(function(t,r){var n=e.decompressed.getContentWorker().pipe(new a);n.on("error",function(e){r(e)}).on("end",function(){n.streamInfo.crc32!==e.decompressed.crc32?r(new Error("Corrupted zip : CRC32 mismatch")):t()}).resume()})}e.exports=function(e,t){var r=this;return t=n.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),h.isNode&&h.isStream(e)?i.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):n.prepareContent("the loaded zip file",e,!0,t.optimizedBinaryString,t.base64).then(function(e){var r=new s(t);return r.load(e),r}).then(function(e){var r=[i.Promise.resolve(e)],n=e.files;if(t.checkCRC32)for(var o=0;o<n.length;o++)r.push(f(n[o]));return i.Promise.all(r)}).then(function(e){for(var n=e.shift(),i=n.files,o=0;o<i.length;o++){var s=i[o];r.file(s.fileNameStr,s.decompressed,{binary:!0,optimizedBinaryString:!0,date:s.date,dir:s.dir,comment:s.fileCommentStr.length?s.fileCommentStr:null,unixPermissions:s.unixPermissions,dosPermissions:s.dosPermissions,createFolders:t.createFolders})}return n.zipComment.length&&(r.comment=n.zipComment),r})}},function(e,t,r){"use strict";var n=r(60),i=r(1),o=r(59),s=r(109),a=(r(13),r(9));function h(e){this.files=[],this.loadOptions=e}h.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var t=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+i.pretty(t)+", expected "+i.pretty(e)+")")}},isSignature:function(e,t){var r=this.reader.index;this.reader.setIndex(e);var n=this.reader.readString(4)===t;return this.reader.setIndex(r),n},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=a.uint8array?"uint8array":"array",r=i.transformTo(t,e);this.zipComment=this.loadOptions.decodeFileName(r)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,r,n=this.zip64EndOfCentralSize-44;0<n;)e=this.reader.readInt(2),t=this.reader.readInt(4),r=this.reader.readData(t),this.zip64ExtensibleData[e]={id:e,length:t,value:r}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(e=new s({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(e<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(e);var t=e;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===i.MAX_VALUE_16BITS||this.diskWithCentralDirStart===i.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===i.MAX_VALUE_16BITS||this.centralDirRecords===i.MAX_VALUE_16BITS||this.centralDirSize===i.MAX_VALUE_32BITS||this.centralDirOffset===i.MAX_VALUE_32BITS){if(this.zip64=!0,(e=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var r=this.centralDirOffset+this.centralDirSize;this.zip64&&(r+=20,r+=12+this.zip64EndOfCentralSize);var n=t-r;if(n>0)this.isSignature(t,o.CENTRAL_FILE_HEADER)||(this.reader.zero=n);else if(n<0)throw new Error("Corrupted zip: missing "+Math.abs(n)+" bytes.")},prepareReader:function(e){this.reader=n(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},e.exports=h},function(e,t,r){"use strict";var n=r(62);function i(e){n.call(this,e)}r(1).inherits(i,n),i.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},i.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},i.prototype.readAndCheckSignature=function(e){return e===this.readData(4)},i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},e.exports=i},function(e,t,r){"use strict";var n=r(63);function i(e){n.call(this,e)}r(1).inherits(i,n),i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},e.exports=i},function(e,t,r){"use strict";var n=r(60),i=r(1),o=r(25),s=r(26),a=r(13),h=r(53),f=r(9);function c(e,t){this.options=e,this.loadOptions=t}c.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(e){var t,r;if(e.skip(22),this.fileNameLength=e.readInt(2),r=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(r),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(t=function(e){for(var t in h)if(h.hasOwnProperty(t)&&h[t].magic===e)return h[t];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+i.pretty(this.compressionMethod)+" unknown (inner file : "+i.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0===e&&(this.dosPermissions=63&this.externalFileAttributes),3===e&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(e){if(this.extraFields[1]){var t=n(this.extraFields[1].value);this.uncompressedSize===i.MAX_VALUE_32BITS&&(this.uncompressedSize=t.readInt(8)),this.compressedSize===i.MAX_VALUE_32BITS&&(this.compressedSize=t.readInt(8)),this.localHeaderOffset===i.MAX_VALUE_32BITS&&(this.localHeaderOffset=t.readInt(8)),this.diskNumberStart===i.MAX_VALUE_32BITS&&(this.diskNumberStart=t.readInt(4))}},readExtraFields:function(e){var t,r,n,i=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index<i;)t=e.readInt(2),r=e.readInt(2),n=e.readData(r),this.extraFields[t]={id:t,length:r,value:n}},handleUTF8:function(){var e=f.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=a.utf8decode(this.fileName),this.fileCommentStr=a.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(null!==t)this.fileNameStr=t;else{var r=i.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(r)}var n=this.findExtraFieldUnicodeComment();if(null!==n)this.fileCommentStr=n;else{var o=i.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(o)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=n(e.value);return 1!==t.readInt(1)?null:s(this.fileName)!==t.readInt(4)?null:a.utf8decode(t.readData(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=n(e.value);return 1!==t.readInt(1)?null:s(this.fileComment)!==t.readInt(4)?null:a.utf8decode(t.readData(e.length-5))}return null}},e.exports=c},function(e,t,r){var n=r(3),i=r(0),o=parseInt("0777",8);function s(e,t,r,a){"function"==typeof t?(r=t,t={}):t&&"object"==typeof t||(t={mode:t});var h=t.mode,f=t.fs||i;void 0===h&&(h=o&~process.umask()),a||(a=null);var c=r||function(){};e=n.resolve(e),f.mkdir(e,h,function(r){if(!r)return c(null,a=a||e);switch(r.code){case"ENOENT":s(n.dirname(e),t,function(r,n){r?c(r,n):s(e,t,c,n)});break;default:f.stat(e,function(e,t){e||!t.isDirectory()?c(r,a):c(null,a)})}})}e.exports=s.mkdirp=s.mkdirP=s,s.sync=function e(t,r,s){r&&"object"==typeof r||(r={mode:r});var a=r.mode,h=r.fs||i;void 0===a&&(a=o&~process.umask()),s||(s=null),t=n.resolve(t);try{h.mkdirSync(t,a),s=s||t}catch(i){switch(i.code){case"ENOENT":s=e(n.dirname(t),r,s),e(t,r,s);break;default:var f;try{f=h.statSync(t)}catch(e){throw i}if(!f.isDirectory())throw i}}return s}},function(e,t,r){var n=r(112),i=n.isFunction;e.exports=function(e,t){return function(r,o,s,a,h){var f,c,u,l,d=arguments.length;function p(e,t){null==e?u(t):l(e)}switch(c=new n.Promise(function(e,t){u=e,l=t}),d){case 0:e.call(t,p);break;case 1:i(r)?e.call(t,r):e.call(t,r,p);break;case 2:i(o)?e.call(t,r,o):e.call(t,r,o,p);break;case 3:i(s)?e.call(t,r,o,s):e.call(t,r,o,s,p);break;case 4:i(a)?e.call(t,r,o,s,a):e.call(t,r,o,s,a,p);break;case 5:i(h)?e.call(t,r,o,s,a,h):e.call(t,r,o,s,a,h,p);break;default:f=new Array(d);for(var g=0;g<d;g++)f[g]=arguments[g];if(i(f[d-1]))return e.apply(t,f);f[g]=p,e.apply(t,f)}return c}}},function(e,t,r){var n=r(113);e.exports={extendPrototype:function(e,t){for(var r in t)e.prototype[r]=t[r];return e},isFunction:function(e){return"function"==typeof e},isNumber:function(e){return"number"==typeof e},Promise:n,slice:[].slice}},function(e,t){!function(){"use strict";var t,r,n,i=null,o="object"==typeof window?window:global,s=!1,a=o.process,h=Array,f=Error,c=0,u=1,l=2,d="Symbol",p="iterator",g="species",m=d+"("+g+")",v="return",y="_pt",_="_st",E="Invalid argument",b="\nFrom previous ",w="Chaining cycle detected for promise",S="unhandledRejection",k={e:i},A=function(){},T=/^.+\/node_modules\/yaku\/.+\n?/gm,B=e.exports=function(e){var r;if(!N(this)||this._s!==t)throw P("Invalid this");if(this._s=l,s&&(this[y]=H()),e!==A){if(!R(e))throw P(E);(r=I(e)(j(this,u),j(this,c)))===k&&X(this,c,r.e)}};function O(){return B[d][g]||m}function N(e){return e&&"object"==typeof e}function R(e){return"function"==typeof e}function C(e,t){return e instanceof t}function U(e,t,r){if(!t(e))throw P(r)}function x(){try{return r.apply(n,arguments)}catch(e){return k.e=e,k}}function I(e,t){return r=e,n=t,x}function D(e,r){var n=h(e),i=0;function o(){for(var o=0;o<i;)r(n[o],n[o+1]),n[o++]=t,n[o++]=t;i=0,n.length>e&&(n.length=e)}return function(e,t){n[i++]=e,n[i++]=t,2===i&&B.nextTick(o)}}function L(e,t){var r,n,i,o,s=0;if(!e)throw P(E);var a=e[B[d][p]];if(R(a))n=a.call(e);else{if(!R(e.next)){if(C(e,h)){for(r=e.length;s<r;)t(e[s],s++);return s}throw P(E)}n=e}for(;!(i=n.next()).done;)if((o=I(t)(i.value,s++))===k)throw R(n[v])&&n[v](),o.e;return s}function P(e){return new TypeError(e)}function H(e){return(e?"":b)+(new f).stack}B.default=B,function(e,t){for(var r in t)e.prototype[r]=t[r]}(B,{then:function(e,t){if(void 0===this._s)throw P();return function(e,t,r,n){return R(r)&&(t._onFulfilled=r),R(n)&&(e._uh&&G("rejectionHandled",e),t._onRejected=n),s&&(t._pre=e),e[e._pCount++]=t,e._s!==l&&M(e,t),t}(this,z(B.speciesConstructor(this,B)),e,t)},catch:function(e){return this.then(t,e)},_pCount:0,_pre:i,_Yaku:1}),B.resolve=function(e){return K(e)?e:V(z(this),e)},B.reject=function(e){return X(z(this),c,e)},B.race=function(e){var t=this,r=z(t),n=function(e){X(r,u,e)},i=function(e){X(r,c,e)},o=I(L)(e,function(e){t.resolve(e).then(n,i)});return o===k?t.reject(o.e):r},B.all=function(e){var t,r=this,n=z(r),i=[];function o(e){X(n,c,e)}return(t=I(L)(e,function(e,s){r.resolve(e).then(function(e){i[s]=e,--t||X(n,u,i)},o)}))===k?r.reject(t.e):(t||X(n,u,[]),n)},B.Symbol=o[d]||{},I(function(){Object.defineProperty(B,O(),{get:function(){return this}})})(),B.speciesConstructor=function(e,t){var r=e.constructor;return r&&r[O()]||t},B.unhandledRejection=function(e,t){try{o.console.error("Uncaught (in promise)",s?t.longStack:q(e,t))}catch(e){}},B.rejectionHandled=A,B.enableLongStackTrace=function(){s=!0},B.nextTick=a?a.nextTick:function(e){setTimeout(e)},B._Yaku=1;var M=D(999,function(e,r){var n,i;(i=e._s?r._onFulfilled:r._onRejected)!==t?(n=I(W)(i,e._v))!==k?V(r,n):X(r,c,n.e):X(r,e._s,e._v)}),F=D(9,function(e){(function e(t){if(t._umark)return!0;t._umark=!0;for(var r,n=0,i=t._pCount;n<i;)if((r=t[n++])._onRejected||e(r))return!0})(e)||(e._uh=1,G(S,e))});function G(e,t){var r="on"+e.toLowerCase(),n=o[r];a&&a.listeners(e).length?e===S?a.emit(e,t._v,t):a.emit(e,t):n?n({reason:t._v,promise:t}):B[e](t._v,t)}function K(e){return e&&e._Yaku}function z(e){return K(e)?new e(A):(t=new e(function(e,i){if(t)throw P();r=e,n=i}),U(r,R),U(n,R),t);var t,r,n}function j(e,t){return function(r){s&&(e[_]=H(!0)),t===u?V(e,r):X(e,t,r)}}function q(e,t){var r=[];function n(e){return r.push(e.replace(/^\s+|\s+$/g,""))}return s&&(t[_]&&n(t[_]),function e(t){t&&y in t&&(e(t._next),n(t[y]+""),e(t._pre))}(t)),(e&&e.stack?e.stack:e)+("\n"+r.join("\n")).replace(T,"")}function W(e,t){return e(t)}function X(e,t,r){var n=0,i=e._pCount;if(e._s===l)for(e._s=t,e._v=r,t===c&&(s&&C(r,f)&&(r.longStack=q(r,e)),F(e));n<i;)M(e,e[n++]);return e}function V(e,t){if(t===e&&t)return X(e,c,P(w)),e;if(t!==i&&(R(t)||N(t))){var r=I(Y)(t);if(r===k)return X(e,c,r.e),e;R(r)?(s&&K(t)&&(e._next=t),K(t)?Q(e,t,r):B.nextTick(function(){Q(e,t,r)})):X(e,u,t)}else X(e,u,t);return e}function Y(e){return e.then}function Q(e,t,r){var n=I(r,t)(function(r){t&&(t=i,V(e,r))},function(r){t&&(t=i,X(e,c,r))});n===k&&t&&(X(e,c,n.e),t=i)}}()},function(e,t){e.exports=require("dns")},function(e,t,r){var n=r(6).Transform,i=r(6).Readable,o=r(6).Writable,s=r(0).constants||process.binding("constants"),a=r(4),h=a.inherits,f=a.isDate,c=r(8).EventEmitter.listenerCount,u=r(0),l=r(7).readString,d=r(7).readInt,p=r(11).readUInt32BE,g=r(11).writeUInt32BE,m={SIZE:1,UIDGID:2,PERMISSIONS:4,ACMODTIME:8,EXTENDED:2147483648},v={OK:0,EOF:1,NO_SUCH_FILE:2,PERMISSION_DENIED:3,FAILURE:4,BAD_MESSAGE:5,NO_CONNECTION:6,CONNECTION_LOST:7,OP_UNSUPPORTED:8};Object.keys(v).forEach(function(e){v[v[e]]=e});var y={0:"No error",1:"End of file",2:"No such file or directory",3:"Permission denied",4:"Failure",5:"Bad message",6:"No connection",7:"Connection lost",8:"Operation unsupported"};O.STATUS_CODE=v;var _={INIT:1,OPEN:3,CLOSE:4,READ:5,WRITE:6,LSTAT:7,FSTAT:8,SETSTAT:9,FSETSTAT:10,OPENDIR:11,READDIR:12,REMOVE:13,MKDIR:14,RMDIR:15,REALPATH:16,STAT:17,RENAME:18,READLINK:19,SYMLINK:20,EXTENDED:200};Object.keys(_).forEach(function(e){_[_[e]]=e});var E={VERSION:2,STATUS:101,HANDLE:102,DATA:103,NAME:104,ATTRS:105,EXTENDED:201};Object.keys(E).forEach(function(e){E[E[e]]=e});var b={READ:1,WRITE:2,APPEND:4,CREAT:8,TRUNC:16,EXCL:32};O.OPEN_MODE=b;var w=Math.pow(2,32)-1,S=Buffer.from([0,0,0,5,_.INIT,0,0,0,3]),k=Buffer.from([0,0,0,5,E.VERSION,0,0,0,3]),A=/^SSH-2.0-(?:OpenSSH|dropbear)/,T=260096;function B(e){}function O(e,t){"string"!=typeof e||t||(t=e,e=void 0),"object"==typeof e&&e||(e={}),n.call(this,{highWaterMark:"number"==typeof e.highWaterMark?e.highWaterMark:32768}),this.debug="function"==typeof e.debug?e.debug:B,this.server=!!e.server,this._isOpenSSH=t&&A.test(t),this._needContinue=!1,this._state={status:"packet_header",writeReqid:-1,pktLeft:void 0,pktHdrBuf:Buffer.allocUnsafe(9),pktBuf:void 0,pktType:void 0,version:void 0,extensions:{},maxDataLen:this._isOpenSSH?T:32768,requests:{}};var r=this;function i(){r.writable=!1,r._cleanup(!1)}this.on("end",function(){r.readable=!1}).on("finish",i).on("prefinish",i),this.server||this.push(S)}function N(e,t,r,n,i,o){var s,a,h,f=64,c=32768;"function"==typeof i?o=i:"object"==typeof i&&("number"==typeof i.concurrency&&i.concurrency>0&&!isNaN(i.concurrency)&&(f=i.concurrency),"number"==typeof i.chunkSize&&i.chunkSize>0&&!isNaN(i.chunkSize)&&(c=i.chunkSize),"function"==typeof i.step&&(s=i.step),"string"!=typeof i.mode&&"number"!=typeof i.mode||(a=D(i.mode)));var l,d,p,g=0,m=0,v=!1,y=c*f;function _(r){if(!v){v=!0;var n,i=0;l||d?(n=function(){0==--i&&o(r)},l&&(e===u||e.writable)&&++i,d&&(t===u||t.writable)&&++i,l&&(e===u||e.writable)&&e.close(l,n),d&&(t===u||t.writable)&&t.close(d,n)):o(r)}}e.open(r,"r",function(i,v){if(i)return _(i);l=v,e.fstat(l,function i(v,E){if(v)return e!==u?void e.stat(r,function(e,t){if(e)return _(v);i(null,t)}):_(v);h=E.size,t.open(n,"w",function(r,i){if(r)return _(r);if(d=i,h<=0)return _();for(;y>h;){if(1===f){y=h;break}y-=c,--f}if((p=function(e){try{return Buffer.allocUnsafe(e)}catch(e){return e}}(y))instanceof Error)return _(p);function v(r,n,i,a,f,v){if(r)return _(r);function y(r){if(r)return _(r);if(m+=n,s&&s(m,n,h),n<v)return b(f,a+n,v-n);if(m!==h){if(!(g>=h)){var i=g+c>h?h-g:c;b(f,g,i),g+=i}}else t.close(d,function(t){if(d=void 0,t)return _(t);e.close(l,function(e){if(l=void 0,e)return _(e);o()})})}f=f||0,e===u?t.writeData(d,p,f,n,a,y):t.write(d,p,f,n,a,y)}function E(e,t,r){return function(n,i,o){v(n,i,0,t,e,r)}}function b(t,r,n){e===u?e.read(l,p,t,n,r,E(t,r,n)):e.readData(l,p,t,n,r,E(t,r,n))}function w(){for(var e=0,t=0;g<h&&e<f;){var r=g+c>h?h-g:c;b(t,g,r),t+=r,g+=r,++e}}void 0!==a?t.fchmod(d,a,function e(r){r?t.chmod(n,a,function(t){e()}):w()}):w()})})})}function R(e,t,r,n,i,o,s){var a="function"==typeof s?s:void 0;e.writeData(t,r,n,i,o,function(s,h){if(s)return e.close(t,function(){a&&a(s)});h===i?e.close(t,a):R(e,t,r,n+=h,i-=h,o+=h,a)})}function C(e,t,r,n){var i=p(e,t),o=new F;if(t+=4,i&m.SIZE){var s=U(e,t,r,n);if(!1===s)return!1;o.size=s,t+=8}if(i&m.UIDGID){var a,h;if(!1===(a=d(e,t,this,n)))return!1;if(o.uid=a,!1===(h=d(e,t+=4,this,n)))return!1;o.gid=h,t+=4}if(i&m.PERMISSIONS){var f=d(e,t,this,n);if(!1===f)return!1;o.mode=f,o.permissions=f,t+=4}if(i&m.ACMODTIME){var c,u;if(!1===(c=d(e,t,this,n)))return!1;if(o.atime=c,!1===(u=d(e,t+=4,this,n)))return!1;o.mtime=u,t+=4}if(i&m.EXTENDED){var l=d(e,t,this,n);if(!1===l)return!1;t+=4;for(var g,v=0;v<l;++v){if(!1===(g=d(e,t,this,n)))return!1;t+=4+g}}return e._pos=t,o}function U(e,t,r,n){if(e.length-t<8)return r&&r._cleanup(n),!1;for(var i=0,o=t+8;t<o;++t)i*=256,i+=e[t];return e._pos=t,i}function x(e){var t=0,r=0,n=[],i=0;if("number"==typeof e.size){t|=m.SIZE,r+=8;var o=new Array(8),s=e.size;for(i=7;i>=0;--i)o[i]=255&s,s/=256;n.push(o)}if("number"==typeof e.uid&&"number"==typeof e.gid&&(t|=m.UIDGID,r+=8,n.push([e.uid>>24&255,e.uid>>16&255,e.uid>>8&255,255&e.uid]),n.push([e.gid>>24&255,e.gid>>16&255,e.gid>>8&255,255&e.gid])),"number"==typeof e.permissions||"string"==typeof e.permissions||"number"==typeof e.mode||"string"==typeof e.mode){var a=D(e.mode||e.permissions);t|=m.PERMISSIONS,r+=4,n.push([a>>24&255,a>>16&255,a>>8&255,255&a])}if(("number"==typeof e.atime||f(e.atime))&&("number"==typeof e.mtime||f(e.mtime))){var h=I(e.atime),c=I(e.mtime);t|=m.ACMODTIME,r+=8,n.push([h>>24&255,h>>16&255,h>>8&255,255&h]),n.push([c>>24&255,c>>16&255,c>>8&255,255&c])}return{flags:t,nbytes:r,bytes:n}}function I(e){if("number"==typeof e&&!isNaN(e))return e;if(f(e))return parseInt(e.getTime()/1e3,10);throw new Error("Cannot parse time: "+e)}function D(e){if("number"==typeof e&&!isNaN(e))return e;if("string"==typeof e)return D(parseInt(e,8));throw new Error("Cannot parse mode: "+e)}h(O,n),O.prototype.__read=n.prototype._read,O.prototype._read=function(e){return this._needContinue&&(this._needContinue=!1,this.emit("continue")),this.__read(e)},O.prototype.__push=n.prototype.push,O.prototype.push=function(e,t){if(!this.readable)return!1;null===e&&(this.readable=!1);var r=this.__push(e,t);return this._needContinue=!1===r,r},O.prototype._cleanup=function(e){var t=this._state;t.pktBuf=void 0;var r=t.requests,n=Object.keys(r),i=n.length;if(i){if(this.readable)for(var o,s=new Error("SFTP session ended early"),a=0;a<i;++a)(o=r[n[a]].cb)&&o(s);t.requests={}}this.readable&&this.push(null),this._readableState.endEmitted||this._readableState.flowing||this.resume(),!1!==e&&(this.debug("DEBUG[SFTP]: Parser: Malformed packet"),e&&e(new Error("Malformed packet")))},O.prototype._transform=function(e,t,r){for(var n,i,o,s=this._state,a=this.server,h=s.status,f=s.pktType,u=s.pktBuf,m=s.pktLeft,b=s.version,w=s.pktHdrBuf,S=s.requests,A=this.debug,T=e.length,B=0;;){if("discard"===h){if(!(m<=(i=T-B))){m-=i;break}B+=m,m=0,h="packet_header",n=u=void 0}else{if(void 0!==u){if(m<=(i=T-B)){e.copy(u,u.length-m,B,B+m),B+=m,m=0,n=u,u=void 0;continue}e.copy(u,u.length-m,B),m-=i;break}if("packet_header"===h)if(n){if(m=p(n,4)-1,f=n[8],a){if(void 0===b&&f!==_.INIT)return A("DEBUG[SFTP]: Parser: Unexpected packet before init"),this._cleanup(!1),r(new Error("Unexpected packet before init"));if(void 0!==b&&f===_.INIT)A("DEBUG[SFTP]: Parser: Unexpected duplicate init"),h="bad_pkt";else{if(m>34e3)return A("DEBUG[SFTP]: Parser: "+(X="Packet length ("+m+") exceeds max length (34000)")),this._cleanup(!1),r(new Error(X));f===_.EXTENDED?h="bad_pkt":void 0===_[f]&&(A("DEBUG[SFTP]: Parser: Unsupported packet type: "+f),h="discard")}}else{if(void 0===b&&f!==E.VERSION)return A("DEBUG[SFTP]: Parser: Unexpected packet before version"),this._cleanup(!1),r(new Error("Unexpected packet before version"));void 0!==b&&f===E.VERSION?(A("DEBUG[SFTP]: Parser: Unexpected duplicate version"),h="bad_pkt"):void 0===E[f]&&(h="discard")}"bad_pkt"===h?(g(w,m,0),w[4]=f,m=4,u=w):(u=Buffer.allocUnsafe(m),h="payload")}else m=5,u=w;else if("payload"===h){if(f===E.VERSION||f===_.INIT){if(!1===(b=s.version=d(n,0,this,r)))return;if(b<3)return this._cleanup(!1),r(new Error("Incompatible SFTP version: "+b));a&&this.push(k);var O,N,R=n.length;for(n._pos=4;n._pos<R;){if(!1===(O=l(n,n._pos,"ascii",this,r)))return;if(!1===(N=l(n,n._pos,"ascii",this,r)))return;s.extensions[O]?s.extensions[O].push(N):s.extensions[O]=[N]}this.emit("ready")}else{if(!1===(o=d(n,0,this,r)))return;var x,I,D,L;if(a){var P,H,M=_[f];if(A("DEBUG[SFTP]: Parser: Request: "+M),c(this,M)){if(f===_.OPEN){if(!1===(x=l(n,4,"utf8",this,r)))return;var F=d(n,n._pos,this,r);if(!1===F)return;if(!1===(I=C(n,n._pos+4,this,r)))return;this.emit(M,o,x,F,I)}else if(f===_.CLOSE||f===_.FSTAT||f===_.READDIR){if(!1===(D=l(n,4,this,r)))return;this.emit(M,o,D)}else if(f===_.READ){if(!1===(D=l(n,4,this,r)))return;if(!1===(P=U(n,n._pos,this,r)))return;var G=d(n,n._pos,this,r);if(!1===G)return;this.emit(M,o,D,P,G)}else if(f===_.WRITE){if(!1===(D=l(n,4,this,r)))return;if(!1===(P=U(n,n._pos,this,r)))return;if(!1===(L=l(n,n._pos,this,r)))return;this.emit(M,o,D,P,L)}else if(f===_.LSTAT||f===_.STAT||f===_.OPENDIR||f===_.REMOVE||f===_.RMDIR||f===_.REALPATH||f===_.READLINK){if(!1===(H=l(n,4,"utf8",this,r)))return;this.emit(M,o,H)}else if(f===_.SETSTAT||f===_.MKDIR){if(!1===(H=l(n,4,"utf8",this,r)))return;if(!1===(I=C(n,n._pos,this,r)))return;this.emit(M,o,H,I)}else if(f===_.FSETSTAT){if(!1===(D=l(n,4,this,r)))return;if(!1===(I=C(n,n._pos,this,r)))return;this.emit(M,o,D,I)}else if(f===_.RENAME||f===_.SYMLINK){var K,z;if(!1===(K=l(n,4,"utf8",this,r)))return;if(!1===(z=l(n,n._pos,"utf8",this,r)))return;f===_.SYMLINK&&this._isOpenSSH?this.emit(M,o,z,K):this.emit(M,o,K,z)}}else this.status(o,v.OP_UNSUPPORTED)}else{var j=S[o],q=j&&j.cb;if(A("DEBUG[SFTP]: Parser: Response: "+E[f]),j&&q)if(f===E.STATUS){var W=d(n,4,this,r);if(!1===W)return;if(W===v.OK)q();else{var X,V="";if(n.length>=12){if(!1===(X=l(n,8,"utf8",this,r)))return;if(n._pos+4<n.length&&!1===(V=l(n,n._pos,"ascii",this,r)))return}var Y=new Error(X||y[W]||"Unknown status");Y.code=W,Y.lang=V,q(Y)}}else if(f===E.HANDLE){if(!1===(D=l(n,4,this,r)))return;q(void 0,D)}else if(f===E.DATA)if(j.buffer){var Q=d(n,4,this,r);if(!1===Q)return;var Z=j.buffer.length;if(Q>Z&&g(n,Z,4),!1===(L=l(n,4,j.buffer,this,r)))return;q(void 0,L,Q)}else{if(!1===(L=l(n,4,this,r)))return;q(void 0,L)}else if(f===E.NAME){var $=d(n,4,this,r);if(!1===$)return;var J,ee=[];n._pos=8;for(var te=0;te<$;++te){if(!1===(x=l(n,n._pos,"utf8",this,r)))return;if(!1===(J=l(n,n._pos,"utf8",this,r)))return;if(!1===(I=C(n,n._pos,this,r)))return;ee.push({filename:x,longname:J,attrs:I})}q(void 0,ee)}else if(f===E.ATTRS){if(!1===(I=C(n,4,this,r)))return;q(void 0,I)}else if(f===E.EXTENDED){if(j.extended)switch(j.extended){case"statvfs@openssh.com":case"fstatvfs@openssh.com":var re={f_bsize:void 0,f_frsize:void 0,f_blocks:void 0,f_bfree:void 0,f_bavail:void 0,f_files:void 0,f_ffree:void 0,f_favail:void 0,f_sid:void 0,f_flag:void 0,f_namemax:void 0};if(re.f_bsize=U(n,4,this,r),!1===re.f_bsize)return;if(re.f_frsize=U(n,12,this,r),!1===re.f_frsize)return;if(re.f_blocks=U(n,20,this,r),!1===re.f_blocks)return;if(re.f_bfree=U(n,28,this,r),!1===re.f_bfree)return;if(re.f_bavail=U(n,36,this,r),!1===re.f_bavail)return;if(re.f_files=U(n,44,this,r),!1===re.f_files)return;if(re.f_ffree=U(n,52,this,r),!1===re.f_ffree)return;if(re.f_favail=U(n,60,this,r),!1===re.f_favail)return;if(re.f_sid=U(n,68,this,r),!1===re.f_sid)return;if(re.f_flag=U(n,76,this,r),!1===re.f_flag)return;if(re.f_namemax=U(n,84,this,r),!1===re.f_namemax)return;q(void 0,re)}q()}j&&delete S[o]}}h="packet_header",n=u=void 0}else if("bad_pkt"===h){if(a&&n[4]!==_.INIT){var ne=n[4]===_.EXTENDED?v.OP_UNSUPPORTED:v.FAILURE;if(n[4]===_.INIT||n[4]===E.VERSION)return this._cleanup(r);if(!1===(o=d(n,5,this,r)))return;this.status(o,ne)}m=p(n,0)-5,h="discard"}}if(B>=T)break}s.status=h,s.pktType=f,s.pktBuf=u,s.pktLeft=m,s.version=b,r()},O.prototype.createReadStream=function(e,t){if(this.server)throw new Error("Client-only method called in server mode");return new G(this,e,t)},O.prototype.createWriteStream=function(e,t){if(this.server)throw new Error("Client-only method called in server mode");return new K(this,e,t)},O.prototype.open=function(e,t,r,n){if(this.server)throw new Error("Client-only method called in server mode");var i=this._state;"function"==typeof r&&(n=r,r=void 0);var o=M(t);if(null===o)throw new Error("Unknown flags string: "+t);var s=0,a=0;"string"!=typeof r&&"number"!=typeof r||(r={mode:r}),"object"==typeof r&&(s=(r=x(r)).flags,a=r.nbytes,r=r.bytes);var h=Buffer.byteLength(e),f=9,c=Buffer.allocUnsafe(13+h+4+4+a);g(c,c.length-4,0),c[4]=_.OPEN;var u=i.writeReqid=(i.writeReqid+1)%w;if(g(c,u,5),g(c,h,f),c.write(e,f+=4,h,"utf8"),g(c,o,f+=h),g(c,s,f+=4),r&&s){f+=4;for(var l=0,d=r.length;l<d;++l)for(var p=0,m=r[l].length;p<m;++p)c[f++]=r[l][p]}return i.requests[u]={cb:n},this.debug("DEBUG[SFTP]: Outgoing: Writing OPEN"),this.push(c)},O.prototype.close=function(e,t){if(this.server)throw new Error("Client-only method called in server mode");if(!Buffer.isBuffer(e))throw new Error("handle is not a Buffer");var r=this._state,n=e.length,i=9,o=Buffer.allocUnsafe(13+n);g(o,o.length-4,0),o[4]=_.CLOSE;var s=r.writeReqid=(r.writeReqid+1)%w;return g(o,s,5),g(o,n,i),e.copy(o,i+=4),r.requests[s]={cb:t},this.debug("DEBUG[SFTP]: Outgoing: Writing CLOSE"),this.push(o)},O.prototype.readData=function(e,t,r,n,i,o){if(this.server)throw new Error("Client-only method called in server mode");if(!Buffer.isBuffer(e))throw new Error("handle is not a Buffer");if(!Buffer.isBuffer(t))throw new Error("buffer is not a Buffer");if(r>=t.length)throw new Error("offset is out of bounds");if(r+n>t.length)throw new Error("length extends beyond buffer");if(null===i)throw new Error("null position currently unsupported");var s=this._state,a=e.length,h=9,f=i,c=Buffer.allocUnsafe(13+a+8+4);g(c,c.length-4,0),c[4]=_.READ;var u=s.writeReqid=(s.writeReqid+1)%w;g(c,u,5),g(c,a,h),e.copy(c,h+=4),h+=a;for(var l=7;l>=0;--l)c[h+l]=255&f,f/=256;return g(c,n,h+=8),s.requests[u]={cb:function(e,t,r){if(e){if(o._wantEOFError||e.code!==v.EOF)return o(e)}else if(r>n)return o(new Error("Received more data than requested"));o(void 0,r||0,t,i)},buffer:t.slice(r,r+n)},this.debug("DEBUG[SFTP]: Outgoing: Writing READ"),this.push(c)},O.prototype.writeData=function(e,t,r,n,i,o){if(this.server)throw new Error("Client-only method called in server mode");if(!Buffer.isBuffer(e))throw new Error("handle is not a Buffer");if(!Buffer.isBuffer(t))throw new Error("buffer is not a Buffer");if(r>t.length)throw new Error("offset is out of bounds");if(r+n>t.length)throw new Error("length extends beyond buffer");if(null===i)throw new Error("null position currently unsupported");var s=this,a=this._state;if(n){var h=n>a.maxDataLen?n-a.maxDataLen:0,f=i;h&&(n=a.maxDataLen);var c=e.length,u=9,l=Buffer.allocUnsafe(13+c+8+4+n);g(l,l.length-4,0),l[4]=_.WRITE;var d=a.writeReqid=(a.writeReqid+1)%w;g(l,d,5),g(l,c,u),e.copy(l,u+=4),u+=c;for(var p=7;p>=0;--p)l[u+p]=255&i,i/=256;return g(l,n,u+=8),t.copy(l,u+=4,r,r+n),a.requests[d]={cb:function(i){i?o&&o(i):h?s.writeData(e,t,r+n,h,f+n,o):o&&o(void 0,r+n)}},this.debug("DEBUG[SFTP]: Outgoing: Writing WRITE"),this.push(l)}o&&process.nextTick(function(){o(void 0,0)})},O.prototype.fastGet=function(e,t,r,n){if(this.server)throw new Error("Client-only method called in server mode");N(this,u,e,t,r,n)},O.prototype.fastPut=function(e,t,r,n){if(this.server)throw new Error("Client-only method called in server mode");N(u,this,e,t,r,n)},O.prototype.readFile=function(e,t,r){if(this.server)throw new Error("Client-only method called in server mode");var n;"function"==typeof r?n=r:"function"==typeof t&&(n=t,t=void 0);var i=this;if("string"==typeof t)t={encoding:t,flag:"r"};else if(t){if("object"!=typeof t)throw new TypeError("Bad arguments")}else t={encoding:null,flag:"r"};var o,s,a,h=t.encoding;if(h&&!Buffer.isEncoding(h))throw new Error("Unknown encoding: "+h);var f,c=0,u=0,l=t.flag||"r";function d(){0===o?(s=Buffer.allocUnsafe(8192),i.readData(f,s,0,8192,u,p)):i.readData(f,s,c,o-c,u,p)}function p(e,t){var r;if(e){if(!(r=e.code===v.EOF))return i.close(f,function(){return n&&n(e)})}else r=!1;if(r||0===o&&0===t)return g();u+=t,c+=t,0!==o?c===o?g():d():(a.push(s.slice(0,t)),d())}function g(){i.close(f,function(e){return 0===o?s=Buffer.concat(a,c):c<o&&(s=s.slice(0,c)),h&&(s=s.toString(h)),n&&n(e,s)})}this.open(e,l,438,function(t,r){if(t)return n&&n(t);f=r,i.fstat(f,function t(r,h){if(r)i.stat(e,function(e,o){if(e)return i.close(f,function(){n&&n(r)});t(null,o)});else{if(0===(o=h.size||0))return a=[],d();s=Buffer.allocUnsafe(o),d()}})}),p._wantEOFError=!0},O.prototype.writeFile=function(e,t,r,n){if(this.server)throw new Error("Client-only method called in server mode");var i;"function"==typeof n?i=n:"function"==typeof r&&(i=r,r=void 0);var o=this;if("string"==typeof r)r={encoding:r,mode:438,flag:"w"};else if(r){if("object"!=typeof r)throw new TypeError("Bad arguments")}else r={encoding:"utf8",mode:438,flag:"w"};if(r.encoding&&!Buffer.isEncoding(r.encoding))throw new Error("Unknown encoding: "+r.encoding);var s=r.flag||"w";this.open(e,s,r.mode,function(n,a){if(n)i&&i(n);else{var h=Buffer.isBuffer(t)?t:Buffer.from(""+t,r.encoding||"utf8"),f=/a/.test(s)?null:0;if(null===f)return void o.fstat(a,function t(r,n){r?o.stat(e,function(e,n){if(e)return o.close(a,function(){i&&i(r)});t(null,n)}):R(o,a,h,0,h.length,n.size,i)});R(o,a,h,0,h.length,f,i)}})},O.prototype.appendFile=function(e,t,r,n){if(this.server)throw new Error("Client-only method called in server mode");var i;if("function"==typeof n?i=n:"function"==typeof r&&(i=r,r=void 0),"string"==typeof r)r={encoding:r,mode:438,flag:"a"};else if(r){if("object"!=typeof r)throw new TypeError("Bad arguments")}else r={encoding:"utf8",mode:438,flag:"a"};r.flag||(r=a._extend({flag:"a"},r)),this.writeFile(e,t,r,i)},O.prototype.exists=function(e,t){if(this.server)throw new Error("Client-only method called in server mode");this.stat(e,function(e){t&&t(!e)})},O.prototype.unlink=function(e,t){if(this.server)throw new Error("Client-only method called in server mode");var r=this._state,n=Buffer.byteLength(e),i=9,o=Buffer.allocUnsafe(13+n);g(o,o.length-4,0),o[4]=_.REMOVE;var s=r.writeReqid=(r.writeReqid+1)%w;return g(o,s,5),g(o,n,i),o.write(e,i+=4,n,"utf8"),r.requests[s]={cb:t},this.debug("DEBUG[SFTP]: Outgoing: Writing REMOVE"),this.push(o)},O.prototype.rename=function(e,t,r){if(this.server)throw new Error("Client-only method called in server mode");var n=this._state,i=Buffer.byteLength(e),o=Buffer.byteLength(t),s=9,a=Buffer.allocUnsafe(13+i+4+o);g(a,a.length-4,0),a[4]=_.RENAME;var h=n.writeReqid=(n.writeReqid+1)%w;return g(a,h,5),g(a,i,s),a.write(e,s+=4,i,"utf8"),g(a,o,s+=i),a.write(t,s+=4,o,"utf8"),n.requests[h]={cb:r},this.debug("DEBUG[SFTP]: Outgoing: Writing RENAME"),this.push(a)},O.prototype.mkdir=function(e,t,r){if(this.server)throw new Error("Client-only method called in server mode");var n=0,i=0,o=this._state;"function"==typeof t&&(r=t,t=void 0),"object"==typeof t&&(n=(t=x(t)).flags,i=t.nbytes,t=t.bytes);var s=Buffer.byteLength(e),a=9,h=Buffer.allocUnsafe(13+s+4+i);g(h,h.length-4,0),h[4]=_.MKDIR;var f=o.writeReqid=(o.writeReqid+1)%w;if(g(h,f,5),g(h,s,a),h.write(e,a+=4,s,"utf8"),g(h,n,a+=s),n){a+=4;for(var c=0,u=t.length;c<u;++c)for(var l=0,d=t[c].length;l<d;++l)h[a++]=t[c][l]}return o.requests[f]={cb:r},this.debug("DEBUG[SFTP]: Outgoing: Writing MKDIR"),this.push(h)},O.prototype.rmdir=function(e,t){if(this.server)throw new Error("Client-only method called in server mode");var r=this._state,n=Buffer.byteLength(e),i=9,o=Buffer.allocUnsafe(13+n);g(o,o.length-4,0),o[4]=_.RMDIR;var s=r.writeReqid=(r.writeReqid+1)%w;return g(o,s,5),g(o,n,i),o.write(e,i+=4,n,"utf8"),r.requests[s]={cb:t},this.debug("DEBUG[SFTP]: Outgoing: Writing RMDIR"),this.push(o)},O.prototype.readdir=function(e,t,r){if(this.server)throw new Error("Client-only method called in server mode");var n,i=this._state;if("function"==typeof t&&(r=t,t={}),"object"!=typeof t&&(t={}),n=!t||!t.full,!Buffer.isBuffer(e)&&"string"!=typeof e)throw new Error("missing directory handle or path");if("string"==typeof e){var o=this,s=[],a=0;return this.opendir(e,function e(n,i){if(n)return r(n);o.readdir(i,t,function(t,n){var h=t&&t.code===v.EOF;if(t&&!h)return o.close(i,function(){r(t)});if(h)return o.close(i,function(e){if(e)return r(e);r(void 0,s)});for(var f=0,c=n.length;f<c;++f,++a)s[a]=n[f];e(void 0,i)})})}var h=e.length,f=9,c=Buffer.allocUnsafe(13+h);g(c,c.length-4,0),c[4]=_.READDIR;var u=i.writeReqid=(i.writeReqid+1)%w;return g(c,u,5),g(c,h,f),e.copy(c,f+=4),i.requests[u]={cb:n?function(e,t){if(e)return r(e);for(var n=t.length-1;n>=0;--n)"."!==t[n].filename&&".."!==t[n].filename||t.splice(n,1);r(void 0,t)}:r},this.debug("DEBUG[SFTP]: Outgoing: Writing READDIR"),this.push(c)},O.prototype.fstat=function(e,t){if(this.server)throw new Error("Client-only method called in server mode");if(!Buffer.isBuffer(e))throw new Error("handle is not a Buffer");var r=this._state,n=e.length,i=9,o=Buffer.allocUnsafe(13+n);g(o,o.length-4,0),o[4]=_.FSTAT;var s=r.writeReqid=(r.writeReqid+1)%w;return g(o,s,5),g(o,n,i),e.copy(o,i+=4),r.requests[s]={cb:t},this.debug("DEBUG[SFTP]: Outgoing: Writing FSTAT"),this.push(o)},O.prototype.stat=function(e,t){if(this.server)throw new Error("Client-only method called in server mode");var r=this._state,n=Buffer.byteLength(e),i=9,o=Buffer.allocUnsafe(13+n);g(o,o.length-4,0),o[4]=_.STAT;var s=r.writeReqid=(r.writeReqid+1)%w;return g(o,s,5),g(o,n,i),o.write(e,i+=4,n,"utf8"),r.requests[s]={cb:t},this.debug("DEBUG[SFTP]: Outgoing: Writing STAT"),this.push(o)},O.prototype.lstat=function(e,t){if(this.server)throw new Error("Client-only method called in server mode");var r=this._state,n=Buffer.byteLength(e),i=9,o=Buffer.allocUnsafe(13+n);g(o,o.length-4,0),o[4]=_.LSTAT;var s=r.writeReqid=(r.writeReqid+1)%w;return g(o,s,5),g(o,n,i),o.write(e,i+=4,n,"utf8"),r.requests[s]={cb:t},this.debug("DEBUG[SFTP]: Outgoing: Writing LSTAT"),this.push(o)},O.prototype.opendir=function(e,t){if(this.server)throw new Error("Client-only method called in server mode");var r=this._state,n=Buffer.byteLength(e),i=9,o=Buffer.allocUnsafe(13+n);g(o,o.length-4,0),o[4]=_.OPENDIR;var s=r.writeReqid=(r.writeReqid+1)%w;return g(o,s,5),g(o,n,i),o.write(e,i+=4,n,"utf8"),r.requests[s]={cb:t},this.debug("DEBUG[SFTP]: Outgoing: Writing OPENDIR"),this.push(o)},O.prototype.setstat=function(e,t,r){if(this.server)throw new Error("Client-only method called in server mode");var n=0,i=0,o=this._state;"object"==typeof t?(n=(t=x(t)).flags,i=t.nbytes,t=t.bytes):"function"==typeof t&&(r=t);var s=Buffer.byteLength(e),a=9,h=Buffer.allocUnsafe(13+s+4+i);g(h,h.length-4,0),h[4]=_.SETSTAT;var f=o.writeReqid=(o.writeReqid+1)%w;if(g(h,f,5),g(h,s,a),h.write(e,a+=4,s,"utf8"),g(h,n,a+=s),n){a+=4;for(var c=0,u=t.length;c<u;++c)for(var l=0,d=t[c].length;l<d;++l)h[a++]=t[c][l]}return o.requests[f]={cb:r},this.debug("DEBUG[SFTP]: Outgoing: Writing SETSTAT"),this.push(h)},O.prototype.fsetstat=function(e,t,r){if(this.server)throw new Error("Client-only method called in server mode");if(!Buffer.isBuffer(e))throw new Error("handle is not a Buffer");var n=0,i=0,o=this._state;"object"==typeof t?(n=(t=x(t)).flags,i=t.nbytes,t=t.bytes):"function"==typeof t&&(r=t);var s=e.length,a=9,h=Buffer.allocUnsafe(13+s+4+i);g(h,h.length-4,0),h[4]=_.FSETSTAT;var f=o.writeReqid=(o.writeReqid+1)%w;if(g(h,f,5),g(h,s,a),e.copy(h,a+=4),g(h,n,a+=s),n){a+=4;for(var c=0,u=t.length;c<u;++c)for(var l=0,d=t[c].length;l<d;++l)h[a++]=t[c][l]}return o.requests[f]={cb:r},this.debug("DEBUG[SFTP]: Outgoing: Writing FSETSTAT"),this.push(h)},O.prototype.futimes=function(e,t,r,n){return this.fsetstat(e,{atime:I(t),mtime:I(r)},n)},O.prototype.utimes=function(e,t,r,n){return this.setstat(e,{atime:I(t),mtime:I(r)},n)},O.prototype.fchown=function(e,t,r,n){return this.fsetstat(e,{uid:t,gid:r},n)},O.prototype.chown=function(e,t,r,n){return this.setstat(e,{uid:t,gid:r},n)},O.prototype.fchmod=function(e,t,r){return this.fsetstat(e,{mode:t},r)},O.prototype.chmod=function(e,t,r){return this.setstat(e,{mode:t},r)},O.prototype.readlink=function(e,t){if(this.server)throw new Error("Client-only method called in server mode");var r=this._state,n=Buffer.byteLength(e),i=9,o=Buffer.allocUnsafe(13+n);g(o,o.length-4,0),o[4]=_.READLINK;var s=r.writeReqid=(r.writeReqid+1)%w;return g(o,s,5),g(o,n,i),o.write(e,i+=4,n,"utf8"),r.requests[s]={cb:function(e,r){return e?t(e):r&&r.length?void t(void 0,r[0].filename):t(new Error("Response missing link info"))}},this.debug("DEBUG[SFTP]: Outgoing: Writing READLINK"),this.push(o)},O.prototype.symlink=function(e,t,r){if(this.server)throw new Error("Client-only method called in server mode");var n=this._state,i=Buffer.byteLength(t),o=Buffer.byteLength(e),s=9,a=Buffer.allocUnsafe(13+i+4+o);g(a,a.length-4,0),a[4]=_.SYMLINK;var h=n.writeReqid=(n.writeReqid+1)%w;return g(a,h,5),this._isOpenSSH?(g(a,o,s),a.write(e,s+=4,o,"utf8"),g(a,i,s+=o),a.write(t,s+=4,i,"utf8")):(g(a,i,s),a.write(t,s+=4,i,"utf8"),g(a,o,s+=i),a.write(e,s+=4,o,"utf8")),n.requests[h]={cb:r},this.debug("DEBUG[SFTP]: Outgoing: Writing SYMLINK"),this.push(a)},O.prototype.realpath=function(e,t){if(this.server)throw new Error("Client-only method called in server mode");var r=this._state,n=Buffer.byteLength(e),i=9,o=Buffer.allocUnsafe(13+n);g(o,o.length-4,0),o[4]=_.REALPATH;var s=r.writeReqid=(r.writeReqid+1)%w;return g(o,s,5),g(o,n,i),o.write(e,i+=4,n,"utf8"),r.requests[s]={cb:function(e,r){return e?t(e):r&&r.length?void t(void 0,r[0].filename):t(new Error("Response missing path info"))}},this.debug("DEBUG[SFTP]: Outgoing: Writing REALPATH"),this.push(o)},O.prototype.ext_openssh_rename=function(e,t,r){var n=this._state;if(this.server)throw new Error("Client-only method called in server mode");if(!n.extensions["posix-rename@openssh.com"]||-1===n.extensions["posix-rename@openssh.com"].indexOf("1"))throw new Error("Server does not support this extended request");var i=Buffer.byteLength(e),o=Buffer.byteLength(t),s=9,a=Buffer.allocUnsafe(41+i+4+o);g(a,a.length-4,0),a[4]=_.EXTENDED;var h=n.writeReqid=(n.writeReqid+1)%w;return g(a,h,5),g(a,24,s),a.write("posix-rename@openssh.com",s+=4,24,"ascii"),g(a,i,s+=24),a.write(e,s+=4,i,"utf8"),g(a,o,s+=i),a.write(t,s+=4,o,"utf8"),n.requests[h]={cb:r},this.debug("DEBUG[SFTP]: Outgoing: Writing posix-rename@openssh.com"),this.push(a)},O.prototype.ext_openssh_statvfs=function(e,t){var r=this._state;if(this.server)throw new Error("Client-only method called in server mode");if(!r.extensions["statvfs@openssh.com"]||-1===r.extensions["statvfs@openssh.com"].indexOf("2"))throw new Error("Server does not support this extended request");var n=Buffer.byteLength(e),i=9,o=Buffer.allocUnsafe(36+n);g(o,o.length-4,0),o[4]=_.EXTENDED;var s=r.writeReqid=(r.writeReqid+1)%w;return g(o,s,5),g(o,19,i),o.write("statvfs@openssh.com",i+=4,19,"ascii"),g(o,n,i+=19),o.write(e,i+=4,n,"utf8"),r.requests[s]={extended:"statvfs@openssh.com",cb:t},this.debug("DEBUG[SFTP]: Outgoing: Writing statvfs@openssh.com"),this.push(o)},O.prototype.ext_openssh_fstatvfs=function(e,t){var r=this._state;if(this.server)throw new Error("Client-only method called in server mode");if(!r.extensions["fstatvfs@openssh.com"]||-1===r.extensions["fstatvfs@openssh.com"].indexOf("2"))throw new Error("Server does not support this extended request");if(!Buffer.isBuffer(e))throw new Error("handle is not a Buffer");var n=e.length,i=9,o=Buffer.allocUnsafe(37+n);g(o,o.length-4,0),o[4]=_.EXTENDED;var s=r.writeReqid=(r.writeReqid+1)%w;return g(o,s,5),g(o,20,i),o.write("fstatvfs@openssh.com",i+=4,20,"ascii"),g(o,n,i+=20),o.write(e,i+=4,n,"utf8"),r.requests[s]={extended:"fstatvfs@openssh.com",cb:t},this.debug("DEBUG[SFTP]: Outgoing: Writing fstatvfs@openssh.com"),this.push(o)},O.prototype.ext_openssh_hardlink=function(e,t,r){var n=this._state;if(this.server)throw new Error("Client-only method called in server mode");if(!n.extensions["hardlink@openssh.com"]||-1===n.extensions["hardlink@openssh.com"].indexOf("1"))throw new Error("Server does not support this extended request");var i=Buffer.byteLength(e),o=Buffer.byteLength(t),s=9,a=Buffer.allocUnsafe(37+i+4+o);g(a,a.length-4,0),a[4]=_.EXTENDED;var h=n.writeReqid=(n.writeReqid+1)%w;return g(a,h,5),g(a,20,s),a.write("hardlink@openssh.com",s+=4,20,"ascii"),g(a,i,s+=20),a.write(e,s+=4,i,"utf8"),g(a,o,s+=i),a.write(t,s+=4,o,"utf8"),n.requests[h]={cb:r},this.debug("DEBUG[SFTP]: Outgoing: Writing hardlink@openssh.com"),this.push(a)},O.prototype.ext_openssh_fsync=function(e,t){var r=this._state;if(this.server)throw new Error("Client-only method called in server mode");if(!r.extensions["fsync@openssh.com"]||-1===r.extensions["fsync@openssh.com"].indexOf("1"))throw new Error("Server does not support this extended request");if(!Buffer.isBuffer(e))throw new Error("handle is not a Buffer");var n=e.length,i=9,o=Buffer.allocUnsafe(34+n);g(o,o.length-4,0),o[4]=_.EXTENDED;var s=r.writeReqid=(r.writeReqid+1)%w;return g(o,s,5),g(o,17,i),o.write("fsync@openssh.com",i+=4,17,"ascii"),g(o,n,i+=17),o.write(e,i+=4,n,"utf8"),r.requests[s]={cb:t},this.debug("DEBUG[SFTP]: Outgoing: Writing fsync@openssh.com"),this.push(o)},O.prototype.status=function(e,t,r,n){if(!this.server)throw new Error("Server-only method called in client mode");if(!v[t]||"number"!=typeof t)throw new Error("Bad status code: "+t);r||(r=""),n||(n="");var i=Buffer.byteLength(r),o=Buffer.byteLength(n),s=Buffer.allocUnsafe(17+i+4+o);return g(s,s.length-4,0),s[4]=E.STATUS,g(s,e,5),g(s,t,9),g(s,i,13),i&&s.write(r,17,i,"utf8"),g(s,o,17+i),o&&s.write(n,17+i+4,o,"ascii"),this.debug("DEBUG[SFTP]: Outgoing: Writing STATUS"),this.push(s)},O.prototype.handle=function(e,t){if(!this.server)throw new Error("Server-only method called in client mode");if(!Buffer.isBuffer(t))throw new Error("handle is not a Buffer");var r=t.length;if(r>256)throw new Error("handle too large (> 256 bytes)");var n=Buffer.allocUnsafe(13+r);return g(n,n.length-4,0),n[4]=E.HANDLE,g(n,e,5),g(n,r,9),r&&t.copy(n,13),this.debug("DEBUG[SFTP]: Outgoing: Writing HANDLE"),this.push(n)},O.prototype.data=function(e,t,r){if(!this.server)throw new Error("Server-only method called in client mode");var n=Buffer.isBuffer(t);if(!n&&"string"!=typeof t)throw new Error("data is not a Buffer or string");n||r||(r="utf8");var i=n?t.length:Buffer.byteLength(t,r),o=Buffer.allocUnsafe(13+i);return g(o,o.length-4,0),o[4]=E.DATA,g(o,e,5),g(o,i,9),i&&(n?t.copy(o,13):o.write(t,13,i,r)),this.debug("DEBUG[SFTP]: Outgoing: Writing DATA"),this.push(o)},O.prototype.name=function(e,t){if(!this.server)throw new Error("Server-only method called in client mode");if(Array.isArray(t)||"object"!=typeof t){if(!Array.isArray(t))throw new Error("names is not an object or array")}else t=[t];var r,n,i,o,s,a,h,f,c,u,l,d,p=t.length,m=0,v=[];for(u=0;u<p;++u)i=(n=t[u])&&n.filename&&"string"==typeof n.filename?n.filename:"",m+=4+Buffer.byteLength(i),o=n&&n.longname&&"string"==typeof n.longname?n.longname:"",m+=4+Buffer.byteLength(o),"object"==typeof n.attrs?(m+=4+(r=x(n.attrs)).nbytes,v.push(r)):(m+=4,v.push(null));for(f=Buffer.allocUnsafe(13+m),g(f,f.length-4,0),f[4]=E.NAME,g(f,e,5),g(f,p,9),c=13,u=0;u<p;++u)if(i=(n=t[u])&&n.filename&&"string"==typeof n.filename?n.filename:"",a=Buffer.byteLength(i),g(f,a,c),c+=4,a&&(f.write(i,c,a,"utf8"),c+=a),o=n&&n.longname&&"string"==typeof n.longname?n.longname:"",a=Buffer.byteLength(o),g(f,a,c),c+=4,a&&(f.write(o,c,a,"utf8"),c+=a),s=v[u]){if(g(f,s.flags,c),c+=4,s.flags&&s.bytes){var y=s.bytes;for(l=0,a=y.length;l<a;++l)for(d=0,h=y[l].length;d<h;++d)f[c++]=y[l][d]}}else g(f,0,c),c+=4;return this.debug("DEBUG[SFTP]: Outgoing: Writing NAME"),this.push(f)},O.prototype.attrs=function(e,t){if(!this.server)throw new Error("Server-only method called in client mode");if("object"!=typeof t)throw new Error("attrs is not an object");var r=x(t),n=Buffer.allocUnsafe(13+r.nbytes),i=13;if(g(n,n.length-4,0),n[4]=E.ATTRS,g(n,e,5),g(n,r.flags,9),r.flags&&r.bytes)for(var o=r.bytes,s=0,a=o.length;s<a;++s)for(var h=0,f=o[s].length;h<f;++h)n[i++]=o[s][h];return this.debug("DEBUG[SFTP]: Outgoing: Writing ATTRS"),this.push(n)};var L,P={r:b.READ,"r+":b.READ|b.WRITE,w:b.TRUNC|b.CREAT|b.WRITE,wx:b.TRUNC|b.CREAT|b.WRITE|b.EXCL,xw:b.TRUNC|b.CREAT|b.WRITE|b.EXCL,"w+":b.TRUNC|b.CREAT|b.READ|b.WRITE,"wx+":b.TRUNC|b.CREAT|b.READ|b.WRITE|b.EXCL,"xw+":b.TRUNC|b.CREAT|b.READ|b.WRITE|b.EXCL,a:b.APPEND|b.CREAT|b.WRITE,ax:b.APPEND|b.CREAT|b.WRITE|b.EXCL,xa:b.APPEND|b.CREAT|b.WRITE|b.EXCL,"a+":b.APPEND|b.CREAT|b.READ|b.WRITE,"ax+":b.APPEND|b.CREAT|b.READ|b.WRITE|b.EXCL,"xa+":b.APPEND|b.CREAT|b.READ|b.WRITE|b.EXCL},H=Object.keys(P);function M(e){var t=P[e];return void 0!==t?t:null}function F(e){this.mode=e&&e.mode,this.permissions=this.mode,this.uid=e&&e.uid,this.gid=e&&e.gid,this.size=e&&e.size,this.atime=e&&e.atime,this.mtime=e&&e.mtime}function G(e,t,r){if(!(this instanceof G))return new G(e,t,r);var n=this;if(void 0===r)r={};else if("string"==typeof r)r={encoding:r};else{if(null===r||"object"!=typeof r)throw new TypeError('"options" argument must be a string or an object');r=Object.create(r)}if(void 0===r.highWaterMark&&(r.highWaterMark=65536),i.call(this,r),this.path=t,this.handle=void 0===r.handle?null:r.handle,this.flags=void 0===r.flags?"r":r.flags,this.mode=void 0===r.mode?438:r.mode,this.start=void 0===r.start?void 0:r.start,this.end=void 0===r.end?void 0:r.end,this.autoClose=void 0===r.autoClose||r.autoClose,this.pos=0,this.sftp=e,void 0!==this.start){if("number"!=typeof this.start)throw new TypeError("start must be a Number");if(void 0===this.end)this.end=1/0;else if("number"!=typeof this.end)throw new TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.on("end",function(){n.autoClose&&n.destroy()}),Buffer.isBuffer(this.handle)||this.open()}function K(e,t,r){if(!(this instanceof K))return new K(e,t,r);if(void 0===r)r={};else if("string"==typeof r)r={encoding:r};else{if(null===r||"object"!=typeof r)throw new TypeError('"options" argument must be a string or an object');r=Object.create(r)}if(o.call(this,r),this.path=t,this.handle=void 0===r.handle?null:r.handle,this.flags=void 0===r.flags?"w":r.flags,this.mode=void 0===r.mode?438:r.mode,this.start=void 0===r.start?void 0:r.start,this.autoClose=void 0===r.autoClose||r.autoClose,this.pos=0,this.bytesWritten=0,this.sftp=e,void 0!==this.start){if("number"!=typeof this.start)throw new TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}r.encoding&&this.setDefaultEncoding(r.encoding),Buffer.isBuffer(this.handle)||this.open(),this.once("finish",function(){this.autoClose&&this.close()})}O.stringToFlags=M,O.flagsToString=function(e){for(var t=0;t<H.length;++t){var r=H[t];if(P[r]===e)return r}return null},F.prototype._checkModeProperty=function(e){return(this.mode&s.S_IFMT)===e},F.prototype.isDirectory=function(){return this._checkModeProperty(s.S_IFDIR)},F.prototype.isFile=function(){return this._checkModeProperty(s.S_IFREG)},F.prototype.isBlockDevice=function(){return this._checkModeProperty(s.S_IFBLK)},F.prototype.isCharacterDevice=function(){return this._checkModeProperty(s.S_IFCHR)},F.prototype.isSymbolicLink=function(){return this._checkModeProperty(s.S_IFLNK)},F.prototype.isFIFO=function(){return this._checkModeProperty(s.S_IFIFO)},F.prototype.isSocket=function(){return this._checkModeProperty(s.S_IFSOCK)},O.Stats=F,h(G,i),G.prototype.open=function(){var e=this;this.sftp.open(this.path,this.flags,this.mode,function(t,r){if(t)return e.emit("error",t),this.destroyed=this.closed=!0,void e.emit("close");e.handle=r,e.emit("open",r),e.read()})},G.prototype._read=function(e){if(!Buffer.isBuffer(this.handle))return this.once("open",function(){this._read(e)});if(!this.destroyed){var t;(!L||L.length-L.used<128)&&(L=null,t=this._readableState.highWaterMark,(L=Buffer.allocUnsafe(t)).used=0);var r=L,n=Math.min(L.length-L.used,e),i=L.used;if(void 0!==this.end&&(n=Math.min(this.end-this.pos+1,n)),n<=0)return this.push(null);var o=this;this.sftp.readData(this.handle,L,L.used,n,this.pos,function(e,t){if(e)o.autoClose&&o.destroy(),o.emit("error",e);else{var n=null;t>0&&(n=r.slice(i,i+t)),o.push(n)}}),this.pos+=n,L.used+=n}},G.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,Buffer.isBuffer(this.handle)&&this.close())},G.prototype.close=function(e){var t=this;if(e&&this.once("close",e),this.closed||!Buffer.isBuffer(this.handle))return Buffer.isBuffer(this.handle)?process.nextTick(this.emit.bind(this,"close")):void this.once("open",r);function r(e){t.sftp.close(e||t.handle,function(e){e?t.emit("error",e):t.emit("close")}),t.handle=null}this.closed=!0,r()},h(K,o),K.prototype.open=function(){var e=this;this.sftp.open(this.path,this.flags,this.mode,function(t,r){if(t)return e.emit("error",t),void(e.autoClose&&(e.destroyed=e.closed=!0,e.emit("close")));e.handle=r,e.sftp.fchmod(r,e.mode,function t(n){n?e.sftp.chmod(e.path,e.mode,function(e){t()}):"a"!==e.flags[0]?e.emit("open",r):e.sftp.fstat(r,function t(n,i){n?e.sftp.stat(e.path,function(r,i){if(r)return e.destroy(),void e.emit("error",n);t(null,i)}):(e.pos=i.size,e.emit("open",r))})})})},K.prototype._write=function(e,t,r){if(!Buffer.isBuffer(e))return this.emit("error",new Error("Invalid data"));if(!Buffer.isBuffer(this.handle))return this.once("open",function(){this._write(e,t,r)});var n=this;this.sftp.writeData(this.handle,e,0,e.length,this.pos,function(e,t){if(e)return n.autoClose&&n.destroy(),r(e);n.bytesWritten+=t,r()}),this.pos+=e.length},K.prototype._writev=function(e,t){if(!Buffer.isBuffer(this.handle))return this.once("open",function(){this._writev(e,t)});for(var r=this.sftp,n=this.handle,i=e.length,o=this,s=0;s<e.length;++s){var a=e[s].chunk;r.writeData(n,a,0,a.length,this.pos,h),this.pos+=a.length}function h(e,r){if(e)return o.destroy(),t(e);o.bytesWritten+=r,0==--i&&t()}},K.prototype.destroy=G.prototype.destroy,K.prototype.close=G.prototype.close,K.prototype.destroySoon=K.prototype.end,e.exports=O},function(e,t,r){var n=r(30),i=r(31),o=r(117),s=r(118);for(var a in e.exports={Reader:o,Writer:s},i)i.hasOwnProperty(a)&&(e.exports[a]=i[a]);for(var h in n)n.hasOwnProperty(h)&&(e.exports[h]=n[h])},function(e,t,r){var n=r(15),i=r(66).Buffer,o=r(31),s=r(30).newInvalidAsn1Error;function a(e){if(!e||!i.isBuffer(e))throw new TypeError("data must be a node Buffer");this._buf=e,this._size=e.length,this._len=0,this._offset=0}Object.defineProperty(a.prototype,"length",{enumerable:!0,get:function(){return this._len}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){return this._offset}}),Object.defineProperty(a.prototype,"remain",{get:function(){return this._size-this._offset}}),Object.defineProperty(a.prototype,"buffer",{get:function(){return this._buf.slice(this._offset)}}),a.prototype.readByte=function(e){if(this._size-this._offset<1)return null;var t=255&this._buf[this._offset];return e||(this._offset+=1),t},a.prototype.peek=function(){return this.readByte(!0)},a.prototype.readLength=function(e){if(void 0===e&&(e=this._offset),e>=this._size)return null;var t=255&this._buf[e++];if(null===t)return null;if(128==(128&t)){if(0==(t&=127))throw s("Indefinite length not supported");if(t>4)throw s("encoding too long");if(this._size-e<t)return null;this._len=0;for(var r=0;r<t;r++)this._len=(this._len<<8)+(255&this._buf[e++])}else this._len=t;return e},a.prototype.readSequence=function(e){var t=this.peek();if(null===t)return null;if(void 0!==e&&e!==t)throw s("Expected 0x"+e.toString(16)+": got 0x"+t.toString(16));var r=this.readLength(this._offset+1);return null===r?null:(this._offset=r,t)},a.prototype.readInt=function(){return this._readTag(o.Integer)},a.prototype.readBoolean=function(){return 0!==this._readTag(o.Boolean)},a.prototype.readEnumeration=function(){return this._readTag(o.Enumeration)},a.prototype.readString=function(e,t){e||(e=o.OctetString);var r=this.peek();if(null===r)return null;if(r!==e)throw s("Expected 0x"+e.toString(16)+": got 0x"+r.toString(16));var n=this.readLength(this._offset+1);if(null===n)return null;if(this.length>this._size-n)return null;if(this._offset=n,0===this.length)return t?i.alloc(0):"";var a=this._buf.slice(this._offset,this._offset+this.length);return this._offset+=this.length,t?a:a.toString("utf8")},a.prototype.readOID=function(e){e||(e=o.OID);var t=this.readString(e,!0);if(null===t)return null;for(var r=[],n=0,i=0;i<t.length;i++){var s=255&t[i];n<<=7,n+=127&s,0==(128&s)&&(r.push(n),n=0)}return n=r.shift(),r.unshift(n%40),r.unshift(n/40>>0),r.join(".")},a.prototype._readTag=function(e){n.ok(void 0!==e);var t=this.peek();if(null===t)return null;if(t!==e)throw s("Expected 0x"+e.toString(16)+": got 0x"+t.toString(16));var r=this.readLength(this._offset+1);if(null===r)return null;if(this.length>4)throw s("Integer too long: "+this.length);if(this.length>this._size-r)return null;this._offset=r;for(var i=this._buf[this._offset],o=0,a=0;a<this.length;a++)o<<=8,o|=255&this._buf[this._offset++];return 128==(128&i)&&4!==a&&(o-=1<<8*a),o>>0},e.exports=a},function(e,t,r){var n=r(15),i=r(66).Buffer,o=r(31),s=r(30).newInvalidAsn1Error,a={size:1024,growthFactor:8};function h(e){var t,r;t=a,r=e||{},n.ok(t),n.equal(typeof t,"object"),n.ok(r),n.equal(typeof r,"object"),Object.getOwnPropertyNames(t).forEach(function(e){if(!r[e]){var n=Object.getOwnPropertyDescriptor(t,e);Object.defineProperty(r,e,n)}}),e=r,this._buf=i.alloc(e.size||1024),this._size=this._buf.length,this._offset=0,this._options=e,this._seq=[]}Object.defineProperty(h.prototype,"buffer",{get:function(){if(this._seq.length)throw s(this._seq.length+" unended sequence(s)");return this._buf.slice(0,this._offset)}}),h.prototype.writeByte=function(e){if("number"!=typeof e)throw new TypeError("argument must be a Number");this._ensure(1),this._buf[this._offset++]=e},h.prototype.writeInt=function(e,t){if("number"!=typeof e)throw new TypeError("argument must be a Number");"number"!=typeof t&&(t=o.Integer);for(var r=4;(0==(4286578688&e)||-8388608==(4286578688&e))&&r>1;)r--,e<<=8;if(r>4)throw s("BER ints cannot be > 0xffffffff");for(this._ensure(2+r),this._buf[this._offset++]=t,this._buf[this._offset++]=r;r-- >0;)this._buf[this._offset++]=(4278190080&e)>>>24,e<<=8},h.prototype.writeNull=function(){this.writeByte(o.Null),this.writeByte(0)},h.prototype.writeEnumeration=function(e,t){if("number"!=typeof e)throw new TypeError("argument must be a Number");return"number"!=typeof t&&(t=o.Enumeration),this.writeInt(e,t)},h.prototype.writeBoolean=function(e,t){if("boolean"!=typeof e)throw new TypeError("argument must be a Boolean");"number"!=typeof t&&(t=o.Boolean),this._ensure(3),this._buf[this._offset++]=t,this._buf[this._offset++]=1,this._buf[this._offset++]=e?255:0},h.prototype.writeString=function(e,t){if("string"!=typeof e)throw new TypeError("argument must be a string (was: "+typeof e+")");"number"!=typeof t&&(t=o.OctetString);var r=i.byteLength(e);this.writeByte(t),this.writeLength(r),r&&(this._ensure(r),this._buf.write(e,this._offset),this._offset+=r)},h.prototype.writeBuffer=function(e,t){if("number"!=typeof t)throw new TypeError("tag must be a number");if(!i.isBuffer(e))throw new TypeError("argument must be a buffer");this.writeByte(t),this.writeLength(e.length),this._ensure(e.length),e.copy(this._buf,this._offset,0,e.length),this._offset+=e.length},h.prototype.writeStringArray=function(e){if(!e instanceof Array)throw new TypeError("argument must be an Array[String]");var t=this;e.forEach(function(e){t.writeString(e)})},h.prototype.writeOID=function(e,t){if("string"!=typeof e)throw new TypeError("argument must be a string");if("number"!=typeof t&&(t=o.OID),!/^([0-9]+\.){3,}[0-9]+$/.test(e))throw new Error("argument is not a valid OID string");var r=e.split("."),n=[];n.push(40*parseInt(r[0],10)+parseInt(r[1],10)),r.slice(2).forEach(function(e){!function(e,t){t<128?e.push(t):t<16384?(e.push(t>>>7|128),e.push(127&t)):t<2097152?(e.push(t>>>14|128),e.push(255&(t>>>7|128)),e.push(127&t)):t<268435456?(e.push(t>>>21|128),e.push(255&(t>>>14|128)),e.push(255&(t>>>7|128)),e.push(127&t)):(e.push(255&(t>>>28|128)),e.push(255&(t>>>21|128)),e.push(255&(t>>>14|128)),e.push(255&(t>>>7|128)),e.push(127&t))}(n,parseInt(e,10))});var i=this;this._ensure(2+n.length),this.writeByte(t),this.writeLength(n.length),n.forEach(function(e){i.writeByte(e)})},h.prototype.writeLength=function(e){if("number"!=typeof e)throw new TypeError("argument must be a Number");if(this._ensure(4),e<=127)this._buf[this._offset++]=e;else if(e<=255)this._buf[this._offset++]=129,this._buf[this._offset++]=e;else if(e<=65535)this._buf[this._offset++]=130,this._buf[this._offset++]=e>>8,this._buf[this._offset++]=e;else{if(!(e<=16777215))throw s("Length too long (> 4 bytes)");this._buf[this._offset++]=131,this._buf[this._offset++]=e>>16,this._buf[this._offset++]=e>>8,this._buf[this._offset++]=e}},h.prototype.startSequence=function(e){"number"!=typeof e&&(e=o.Sequence|o.Constructor),this.writeByte(e),this._seq.push(this._offset),this._ensure(3),this._offset+=3},h.prototype.endSequence=function(){var e=this._seq.pop(),t=e+3,r=this._offset-t;if(r<=127)this._shift(t,r,-2),this._buf[e]=r;else if(r<=255)this._shift(t,r,-1),this._buf[e]=129,this._buf[e+1]=r;else if(r<=65535)this._buf[e]=130,this._buf[e+1]=r>>8,this._buf[e+2]=r;else{if(!(r<=16777215))throw s("Sequence too long");this._shift(t,r,1),this._buf[e]=131,this._buf[e+1]=r>>16,this._buf[e+2]=r>>8,this._buf[e+3]=r}},h.prototype._shift=function(e,t,r){n.ok(void 0!==e),n.ok(void 0!==t),n.ok(r),this._buf.copy(this._buf,e+r,e,e+t),this._offset+=r},h.prototype._ensure=function(e){if(n.ok(e),this._size-this._offset<e){var t=this._size*this._options.growthFactor;t-this._offset<e&&(t+=e);var r=i.alloc(t);this._buf.copy(r,0,0,this._offset),this._buf=r,this._size=t}},e.exports=h},function(e,t,r){"use strict";var n=r(120).lowlevel.crypto_hash,i=0,o=function(){this.S=[new Uint32Array([3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946]),new Uint32Array([1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055]),new Uint32Array([3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504]),new Uint32Array([976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462])],this.P=new Uint32Array([608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731])};function s(e,t,r){return(e[0][t[r+3]]+e[1][t[r+2]]^e[2][t[r+1]])+e[3][t[r]]}function a(e,t){var r,n=0;for(r=0;r<4;r++,i++)i>=t&&(i=0),n=n<<8|e[i];return n}o.prototype.encipher=function(e,t){void 0===t&&(t=new Uint8Array(e.buffer),0!==e.byteOffset&&(t=t.subarray(e.byteOffset))),e[0]^=this.P[0];for(var r=1;r<16;r+=2)e[1]^=s(this.S,t,0)^this.P[r],e[0]^=s(this.S,t,4)^this.P[r+1];var n=e[0];e[0]=e[1]^this.P[17],e[1]=n},o.prototype.decipher=function(e){var t=new Uint8Array(e.buffer);0!==e.byteOffset&&(t=t.subarray(e.byteOffset)),e[0]^=this.P[17];for(var r=16;r>0;r-=2)e[1]^=s(this.S,t,0)^this.P[r],e[0]^=s(this.S,t,4)^this.P[r-1];var n=e[0];e[0]=e[1]^this.P[0],e[1]=n},o.prototype.expand0state=function(e,t){var r,n,o=new Uint32Array(2),s=new Uint8Array(o.buffer);for(r=0,i=0;r<18;r++)this.P[r]^=a(e,t);for(i=0,r=0;r<18;r+=2)this.encipher(o,s),this.P[r]=o[0],this.P[r+1]=o[1];for(r=0;r<4;r++)for(n=0;n<256;n+=2)this.encipher(o,s),this.S[r][n]=o[0],this.S[r][n+1]=o[1]},o.prototype.expandstate=function(e,t,r,n){var o,s,h=new Uint32Array(2);for(o=0,i=0;o<18;o++)this.P[o]^=a(r,n);for(o=0,i=0;o<18;o+=2)h[0]^=a(e,t),h[1]^=a(e,t),this.encipher(h),this.P[o]=h[0],this.P[o+1]=h[1];for(o=0;o<4;o++)for(s=0;s<256;s+=2)h[0]^=a(e,t),h[1]^=a(e,t),this.encipher(h),this.S[o][s]=h[0],this.S[o][s+1]=h[1];i=0},o.prototype.enc=function(e,t){for(var r=0;r<t;r++)this.encipher(e.subarray(2*r))},o.prototype.dec=function(e,t){for(var r=0;r<t;r++)this.decipher(e.subarray(2*r))};var h=8;function f(e,t,r){var n,i=new o,s=new Uint32Array(h),f=new Uint8Array([79,120,121,99,104,114,111,109,97,116,105,99,66,108,111,119,102,105,115,104,83,119,97,116,68,121,110,97,109,105,116,101]);for(i.expandstate(t,64,e,64),n=0;n<64;n++)i.expand0state(t,64),i.expand0state(e,64);for(n=0;n<h;n++)s[n]=a(f,f.byteLength);for(n=0;n<64;n++)i.enc(s,s.byteLength/8);for(n=0;n<h;n++)r[4*n+3]=s[n]>>>24,r[4*n+2]=s[n]>>>16,r[4*n+1]=s[n]>>>8,r[4*n+0]=s[n]}e.exports={BLOCKS:h,HASHSIZE:32,hash:f,pbkdf:function(e,t,r,i,o,s,a){var h,c,u,l,d,p,g=new Uint8Array(64),m=new Uint8Array(64),v=new Uint8Array(32),y=new Uint8Array(32),_=new Uint8Array(i+4),E=s;if(a<1)return-1;if(0===t||0===i||0===s||s>v.byteLength*v.byteLength||i>1<<20)return-1;for(l=Math.floor((s+v.byteLength-1)/v.byteLength),u=Math.floor((s+l-1)/l),h=0;h<i;h++)_[h]=r[h];for(n(g,e,t),p=1;s>0;p++){for(_[i+0]=p>>>24,_[i+1]=p>>>16,_[i+2]=p>>>8,_[i+3]=p,n(m,_,i+4),f(g,m,y),h=v.byteLength;h--;)v[h]=y[h];for(h=1;h<a;h++)for(n(m,y,y.byteLength),f(g,m,y),c=0;c<v.byteLength;c++)v[c]^=y[c];for(u=Math.min(u,s),h=0;h<u&&!((d=h*l+(p-1))>=E);h++)o[d]=v[h];s-=h}return 0}}},function(e,t,r){!function(e){"use strict";var t=function(e){var t,r=new Float64Array(16);if(e)for(t=0;t<e.length;t++)r[t]=e[t];return r},n=function(){throw new Error("no PRNG")},i=new Uint8Array(16),o=new Uint8Array(32);o[0]=9;var s=t(),a=t([1]),h=t([56129,1]),f=t([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),c=t([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),u=t([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),l=t([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),d=t([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function p(e,t,r,n){e[t]=r>>24&255,e[t+1]=r>>16&255,e[t+2]=r>>8&255,e[t+3]=255&r,e[t+4]=n>>24&255,e[t+5]=n>>16&255,e[t+6]=n>>8&255,e[t+7]=255&n}function g(e,t,r,n,i){var o,s=0;for(o=0;o<i;o++)s|=e[t+o]^r[n+o];return(1&s-1>>>8)-1}function m(e,t,r,n){return g(e,t,r,n,16)}function v(e,t,r,n){return g(e,t,r,n,32)}function y(e,t,r,n){!function(e,t,r,n){for(var i,o=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,s=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,h=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,f=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,c=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,u=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,l=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,d=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,p=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,g=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,m=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,v=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,y=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,_=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,E=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,b=o,w=s,S=a,k=h,A=f,T=c,B=u,O=l,N=d,R=p,C=g,U=m,x=v,I=y,D=_,L=E,P=0;P<20;P+=2)b^=(i=(x^=(i=(N^=(i=(A^=(i=b+x|0)<<7|i>>>25)+b|0)<<9|i>>>23)+A|0)<<13|i>>>19)+N|0)<<18|i>>>14,T^=(i=(w^=(i=(I^=(i=(R^=(i=T+w|0)<<7|i>>>25)+T|0)<<9|i>>>23)+R|0)<<13|i>>>19)+I|0)<<18|i>>>14,C^=(i=(B^=(i=(S^=(i=(D^=(i=C+B|0)<<7|i>>>25)+C|0)<<9|i>>>23)+D|0)<<13|i>>>19)+S|0)<<18|i>>>14,L^=(i=(U^=(i=(O^=(i=(k^=(i=L+U|0)<<7|i>>>25)+L|0)<<9|i>>>23)+k|0)<<13|i>>>19)+O|0)<<18|i>>>14,b^=(i=(k^=(i=(S^=(i=(w^=(i=b+k|0)<<7|i>>>25)+b|0)<<9|i>>>23)+w|0)<<13|i>>>19)+S|0)<<18|i>>>14,T^=(i=(A^=(i=(O^=(i=(B^=(i=T+A|0)<<7|i>>>25)+T|0)<<9|i>>>23)+B|0)<<13|i>>>19)+O|0)<<18|i>>>14,C^=(i=(R^=(i=(N^=(i=(U^=(i=C+R|0)<<7|i>>>25)+C|0)<<9|i>>>23)+U|0)<<13|i>>>19)+N|0)<<18|i>>>14,L^=(i=(D^=(i=(I^=(i=(x^=(i=L+D|0)<<7|i>>>25)+L|0)<<9|i>>>23)+x|0)<<13|i>>>19)+I|0)<<18|i>>>14;b=b+o|0,w=w+s|0,S=S+a|0,k=k+h|0,A=A+f|0,T=T+c|0,B=B+u|0,O=O+l|0,N=N+d|0,R=R+p|0,C=C+g|0,U=U+m|0,x=x+v|0,I=I+y|0,D=D+_|0,L=L+E|0,e[0]=b>>>0&255,e[1]=b>>>8&255,e[2]=b>>>16&255,e[3]=b>>>24&255,e[4]=w>>>0&255,e[5]=w>>>8&255,e[6]=w>>>16&255,e[7]=w>>>24&255,e[8]=S>>>0&255,e[9]=S>>>8&255,e[10]=S>>>16&255,e[11]=S>>>24&255,e[12]=k>>>0&255,e[13]=k>>>8&255,e[14]=k>>>16&255,e[15]=k>>>24&255,e[16]=A>>>0&255,e[17]=A>>>8&255,e[18]=A>>>16&255,e[19]=A>>>24&255,e[20]=T>>>0&255,e[21]=T>>>8&255,e[22]=T>>>16&255,e[23]=T>>>24&255,e[24]=B>>>0&255,e[25]=B>>>8&255,e[26]=B>>>16&255,e[27]=B>>>24&255,e[28]=O>>>0&255,e[29]=O>>>8&255,e[30]=O>>>16&255,e[31]=O>>>24&255,e[32]=N>>>0&255,e[33]=N>>>8&255,e[34]=N>>>16&255,e[35]=N>>>24&255,e[36]=R>>>0&255,e[37]=R>>>8&255,e[38]=R>>>16&255,e[39]=R>>>24&255,e[40]=C>>>0&255,e[41]=C>>>8&255,e[42]=C>>>16&255,e[43]=C>>>24&255,e[44]=U>>>0&255,e[45]=U>>>8&255,e[46]=U>>>16&255,e[47]=U>>>24&255,e[48]=x>>>0&255,e[49]=x>>>8&255,e[50]=x>>>16&255,e[51]=x>>>24&255,e[52]=I>>>0&255,e[53]=I>>>8&255,e[54]=I>>>16&255,e[55]=I>>>24&255,e[56]=D>>>0&255,e[57]=D>>>8&255,e[58]=D>>>16&255,e[59]=D>>>24&255,e[60]=L>>>0&255,e[61]=L>>>8&255,e[62]=L>>>16&255,e[63]=L>>>24&255}(e,t,r,n)}function _(e,t,r,n){!function(e,t,r,n){for(var i,o=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,s=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,h=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,f=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,c=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,u=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,l=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,d=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,p=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,g=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,m=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,v=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,y=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,_=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,E=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,b=0;b<20;b+=2)o^=(i=(v^=(i=(d^=(i=(f^=(i=o+v|0)<<7|i>>>25)+o|0)<<9|i>>>23)+f|0)<<13|i>>>19)+d|0)<<18|i>>>14,c^=(i=(s^=(i=(y^=(i=(p^=(i=c+s|0)<<7|i>>>25)+c|0)<<9|i>>>23)+p|0)<<13|i>>>19)+y|0)<<18|i>>>14,g^=(i=(u^=(i=(a^=(i=(_^=(i=g+u|0)<<7|i>>>25)+g|0)<<9|i>>>23)+_|0)<<13|i>>>19)+a|0)<<18|i>>>14,E^=(i=(m^=(i=(l^=(i=(h^=(i=E+m|0)<<7|i>>>25)+E|0)<<9|i>>>23)+h|0)<<13|i>>>19)+l|0)<<18|i>>>14,o^=(i=(h^=(i=(a^=(i=(s^=(i=o+h|0)<<7|i>>>25)+o|0)<<9|i>>>23)+s|0)<<13|i>>>19)+a|0)<<18|i>>>14,c^=(i=(f^=(i=(l^=(i=(u^=(i=c+f|0)<<7|i>>>25)+c|0)<<9|i>>>23)+u|0)<<13|i>>>19)+l|0)<<18|i>>>14,g^=(i=(p^=(i=(d^=(i=(m^=(i=g+p|0)<<7|i>>>25)+g|0)<<9|i>>>23)+m|0)<<13|i>>>19)+d|0)<<18|i>>>14,E^=(i=(_^=(i=(y^=(i=(v^=(i=E+_|0)<<7|i>>>25)+E|0)<<9|i>>>23)+v|0)<<13|i>>>19)+y|0)<<18|i>>>14;e[0]=o>>>0&255,e[1]=o>>>8&255,e[2]=o>>>16&255,e[3]=o>>>24&255,e[4]=c>>>0&255,e[5]=c>>>8&255,e[6]=c>>>16&255,e[7]=c>>>24&255,e[8]=g>>>0&255,e[9]=g>>>8&255,e[10]=g>>>16&255,e[11]=g>>>24&255,e[12]=E>>>0&255,e[13]=E>>>8&255,e[14]=E>>>16&255,e[15]=E>>>24&255,e[16]=u>>>0&255,e[17]=u>>>8&255,e[18]=u>>>16&255,e[19]=u>>>24&255,e[20]=l>>>0&255,e[21]=l>>>8&255,e[22]=l>>>16&255,e[23]=l>>>24&255,e[24]=d>>>0&255,e[25]=d>>>8&255,e[26]=d>>>16&255,e[27]=d>>>24&255,e[28]=p>>>0&255,e[29]=p>>>8&255,e[30]=p>>>16&255,e[31]=p>>>24&255}(e,t,r,n)}var E=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function b(e,t,r,n,i,o,s){var a,h,f=new Uint8Array(16),c=new Uint8Array(64);for(h=0;h<16;h++)f[h]=0;for(h=0;h<8;h++)f[h]=o[h];for(;i>=64;){for(y(c,f,s,E),h=0;h<64;h++)e[t+h]=r[n+h]^c[h];for(a=1,h=8;h<16;h++)a=a+(255&f[h])|0,f[h]=255&a,a>>>=8;i-=64,t+=64,n+=64}if(i>0)for(y(c,f,s,E),h=0;h<i;h++)e[t+h]=r[n+h]^c[h];return 0}function w(e,t,r,n,i){var o,s,a=new Uint8Array(16),h=new Uint8Array(64);for(s=0;s<16;s++)a[s]=0;for(s=0;s<8;s++)a[s]=n[s];for(;r>=64;){for(y(h,a,i,E),s=0;s<64;s++)e[t+s]=h[s];for(o=1,s=8;s<16;s++)o=o+(255&a[s])|0,a[s]=255&o,o>>>=8;r-=64,t+=64}if(r>0)for(y(h,a,i,E),s=0;s<r;s++)e[t+s]=h[s];return 0}function S(e,t,r,n,i){var o=new Uint8Array(32);_(o,n,i,E);for(var s=new Uint8Array(8),a=0;a<8;a++)s[a]=n[a+16];return w(e,t,r,s,o)}function k(e,t,r,n,i,o,s){var a=new Uint8Array(32);_(a,o,s,E);for(var h=new Uint8Array(8),f=0;f<8;f++)h[f]=o[f+16];return b(e,t,r,n,i,h,a)}var A=function(e){var t,r,n,i,o,s,a,h;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0,t=255&e[0]|(255&e[1])<<8,this.r[0]=8191&t,r=255&e[2]|(255&e[3])<<8,this.r[1]=8191&(t>>>13|r<<3),n=255&e[4]|(255&e[5])<<8,this.r[2]=7939&(r>>>10|n<<6),i=255&e[6]|(255&e[7])<<8,this.r[3]=8191&(n>>>7|i<<9),o=255&e[8]|(255&e[9])<<8,this.r[4]=255&(i>>>4|o<<12),this.r[5]=o>>>1&8190,s=255&e[10]|(255&e[11])<<8,this.r[6]=8191&(o>>>14|s<<2),a=255&e[12]|(255&e[13])<<8,this.r[7]=8065&(s>>>11|a<<5),h=255&e[14]|(255&e[15])<<8,this.r[8]=8191&(a>>>8|h<<8),this.r[9]=h>>>5&127,this.pad[0]=255&e[16]|(255&e[17])<<8,this.pad[1]=255&e[18]|(255&e[19])<<8,this.pad[2]=255&e[20]|(255&e[21])<<8,this.pad[3]=255&e[22]|(255&e[23])<<8,this.pad[4]=255&e[24]|(255&e[25])<<8,this.pad[5]=255&e[26]|(255&e[27])<<8,this.pad[6]=255&e[28]|(255&e[29])<<8,this.pad[7]=255&e[30]|(255&e[31])<<8};function T(e,t,r,n,i,o){var s=new A(o);return s.update(r,n,i),s.finish(e,t),0}function B(e,t,r,n,i,o){var s=new Uint8Array(16);return T(s,0,r,n,i,o),m(e,t,s,0)}function O(e,t,r,n,i){var o;if(r<32)return-1;for(k(e,0,t,0,r,n,i),T(e,16,e,32,r-32,e),o=0;o<16;o++)e[o]=0;return 0}function N(e,t,r,n,i){var o,s=new Uint8Array(32);if(r<32)return-1;if(S(s,0,32,n,i),0!==B(t,16,t,32,r-32,s))return-1;for(k(e,0,t,0,r,n,i),o=0;o<32;o++)e[o]=0;return 0}function R(e,t){var r;for(r=0;r<16;r++)e[r]=0|t[r]}function C(e){var t,r,n=1;for(t=0;t<16;t++)r=e[t]+n+65535,n=Math.floor(r/65536),e[t]=r-65536*n;e[0]+=n-1+37*(n-1)}function U(e,t,r){for(var n,i=~(r-1),o=0;o<16;o++)n=i&(e[o]^t[o]),e[o]^=n,t[o]^=n}function x(e,r){var n,i,o,s=t(),a=t();for(n=0;n<16;n++)a[n]=r[n];for(C(a),C(a),C(a),i=0;i<2;i++){for(s[0]=a[0]-65517,n=1;n<15;n++)s[n]=a[n]-65535-(s[n-1]>>16&1),s[n-1]&=65535;s[15]=a[15]-32767-(s[14]>>16&1),o=s[15]>>16&1,s[14]&=65535,U(a,s,1-o)}for(n=0;n<16;n++)e[2*n]=255&a[n],e[2*n+1]=a[n]>>8}function I(e,t){var r=new Uint8Array(32),n=new Uint8Array(32);return x(r,e),x(n,t),v(r,0,n,0)}function D(e){var t=new Uint8Array(32);return x(t,e),1&t[0]}function L(e,t){var r;for(r=0;r<16;r++)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}function P(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]+r[n]}function H(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]-r[n]}function M(e,t,r){var n,i,o=0,s=0,a=0,h=0,f=0,c=0,u=0,l=0,d=0,p=0,g=0,m=0,v=0,y=0,_=0,E=0,b=0,w=0,S=0,k=0,A=0,T=0,B=0,O=0,N=0,R=0,C=0,U=0,x=0,I=0,D=0,L=r[0],P=r[1],H=r[2],M=r[3],F=r[4],G=r[5],K=r[6],z=r[7],j=r[8],q=r[9],W=r[10],X=r[11],V=r[12],Y=r[13],Q=r[14],Z=r[15];o+=(n=t[0])*L,s+=n*P,a+=n*H,h+=n*M,f+=n*F,c+=n*G,u+=n*K,l+=n*z,d+=n*j,p+=n*q,g+=n*W,m+=n*X,v+=n*V,y+=n*Y,_+=n*Q,E+=n*Z,s+=(n=t[1])*L,a+=n*P,h+=n*H,f+=n*M,c+=n*F,u+=n*G,l+=n*K,d+=n*z,p+=n*j,g+=n*q,m+=n*W,v+=n*X,y+=n*V,_+=n*Y,E+=n*Q,b+=n*Z,a+=(n=t[2])*L,h+=n*P,f+=n*H,c+=n*M,u+=n*F,l+=n*G,d+=n*K,p+=n*z,g+=n*j,m+=n*q,v+=n*W,y+=n*X,_+=n*V,E+=n*Y,b+=n*Q,w+=n*Z,h+=(n=t[3])*L,f+=n*P,c+=n*H,u+=n*M,l+=n*F,d+=n*G,p+=n*K,g+=n*z,m+=n*j,v+=n*q,y+=n*W,_+=n*X,E+=n*V,b+=n*Y,w+=n*Q,S+=n*Z,f+=(n=t[4])*L,c+=n*P,u+=n*H,l+=n*M,d+=n*F,p+=n*G,g+=n*K,m+=n*z,v+=n*j,y+=n*q,_+=n*W,E+=n*X,b+=n*V,w+=n*Y,S+=n*Q,k+=n*Z,c+=(n=t[5])*L,u+=n*P,l+=n*H,d+=n*M,p+=n*F,g+=n*G,m+=n*K,v+=n*z,y+=n*j,_+=n*q,E+=n*W,b+=n*X,w+=n*V,S+=n*Y,k+=n*Q,A+=n*Z,u+=(n=t[6])*L,l+=n*P,d+=n*H,p+=n*M,g+=n*F,m+=n*G,v+=n*K,y+=n*z,_+=n*j,E+=n*q,b+=n*W,w+=n*X,S+=n*V,k+=n*Y,A+=n*Q,T+=n*Z,l+=(n=t[7])*L,d+=n*P,p+=n*H,g+=n*M,m+=n*F,v+=n*G,y+=n*K,_+=n*z,E+=n*j,b+=n*q,w+=n*W,S+=n*X,k+=n*V,A+=n*Y,T+=n*Q,B+=n*Z,d+=(n=t[8])*L,p+=n*P,g+=n*H,m+=n*M,v+=n*F,y+=n*G,_+=n*K,E+=n*z,b+=n*j,w+=n*q,S+=n*W,k+=n*X,A+=n*V,T+=n*Y,B+=n*Q,O+=n*Z,p+=(n=t[9])*L,g+=n*P,m+=n*H,v+=n*M,y+=n*F,_+=n*G,E+=n*K,b+=n*z,w+=n*j,S+=n*q,k+=n*W,A+=n*X,T+=n*V,B+=n*Y,O+=n*Q,N+=n*Z,g+=(n=t[10])*L,m+=n*P,v+=n*H,y+=n*M,_+=n*F,E+=n*G,b+=n*K,w+=n*z,S+=n*j,k+=n*q,A+=n*W,T+=n*X,B+=n*V,O+=n*Y,N+=n*Q,R+=n*Z,m+=(n=t[11])*L,v+=n*P,y+=n*H,_+=n*M,E+=n*F,b+=n*G,w+=n*K,S+=n*z,k+=n*j,A+=n*q,T+=n*W,B+=n*X,O+=n*V,N+=n*Y,R+=n*Q,C+=n*Z,v+=(n=t[12])*L,y+=n*P,_+=n*H,E+=n*M,b+=n*F,w+=n*G,S+=n*K,k+=n*z,A+=n*j,T+=n*q,B+=n*W,O+=n*X,N+=n*V,R+=n*Y,C+=n*Q,U+=n*Z,y+=(n=t[13])*L,_+=n*P,E+=n*H,b+=n*M,w+=n*F,S+=n*G,k+=n*K,A+=n*z,T+=n*j,B+=n*q,O+=n*W,N+=n*X,R+=n*V,C+=n*Y,U+=n*Q,x+=n*Z,_+=(n=t[14])*L,E+=n*P,b+=n*H,w+=n*M,S+=n*F,k+=n*G,A+=n*K,T+=n*z,B+=n*j,O+=n*q,N+=n*W,R+=n*X,C+=n*V,U+=n*Y,x+=n*Q,I+=n*Z,E+=(n=t[15])*L,s+=38*(w+=n*H),a+=38*(S+=n*M),h+=38*(k+=n*F),f+=38*(A+=n*G),c+=38*(T+=n*K),u+=38*(B+=n*z),l+=38*(O+=n*j),d+=38*(N+=n*q),p+=38*(R+=n*W),g+=38*(C+=n*X),m+=38*(U+=n*V),v+=38*(x+=n*Y),y+=38*(I+=n*Q),_+=38*(D+=n*Z),o=(n=(o+=38*(b+=n*P))+(i=1)+65535)-65536*(i=Math.floor(n/65536)),s=(n=s+i+65535)-65536*(i=Math.floor(n/65536)),a=(n=a+i+65535)-65536*(i=Math.floor(n/65536)),h=(n=h+i+65535)-65536*(i=Math.floor(n/65536)),f=(n=f+i+65535)-65536*(i=Math.floor(n/65536)),c=(n=c+i+65535)-65536*(i=Math.floor(n/65536)),u=(n=u+i+65535)-65536*(i=Math.floor(n/65536)),l=(n=l+i+65535)-65536*(i=Math.floor(n/65536)),d=(n=d+i+65535)-65536*(i=Math.floor(n/65536)),p=(n=p+i+65535)-65536*(i=Math.floor(n/65536)),g=(n=g+i+65535)-65536*(i=Math.floor(n/65536)),m=(n=m+i+65535)-65536*(i=Math.floor(n/65536)),v=(n=v+i+65535)-65536*(i=Math.floor(n/65536)),y=(n=y+i+65535)-65536*(i=Math.floor(n/65536)),_=(n=_+i+65535)-65536*(i=Math.floor(n/65536)),E=(n=E+i+65535)-65536*(i=Math.floor(n/65536)),o=(n=(o+=i-1+37*(i-1))+(i=1)+65535)-65536*(i=Math.floor(n/65536)),s=(n=s+i+65535)-65536*(i=Math.floor(n/65536)),a=(n=a+i+65535)-65536*(i=Math.floor(n/65536)),h=(n=h+i+65535)-65536*(i=Math.floor(n/65536)),f=(n=f+i+65535)-65536*(i=Math.floor(n/65536)),c=(n=c+i+65535)-65536*(i=Math.floor(n/65536)),u=(n=u+i+65535)-65536*(i=Math.floor(n/65536)),l=(n=l+i+65535)-65536*(i=Math.floor(n/65536)),d=(n=d+i+65535)-65536*(i=Math.floor(n/65536)),p=(n=p+i+65535)-65536*(i=Math.floor(n/65536)),g=(n=g+i+65535)-65536*(i=Math.floor(n/65536)),m=(n=m+i+65535)-65536*(i=Math.floor(n/65536)),v=(n=v+i+65535)-65536*(i=Math.floor(n/65536)),y=(n=y+i+65535)-65536*(i=Math.floor(n/65536)),_=(n=_+i+65535)-65536*(i=Math.floor(n/65536)),E=(n=E+i+65535)-65536*(i=Math.floor(n/65536)),o+=i-1+37*(i-1),e[0]=o,e[1]=s,e[2]=a,e[3]=h,e[4]=f,e[5]=c,e[6]=u,e[7]=l,e[8]=d,e[9]=p,e[10]=g,e[11]=m,e[12]=v,e[13]=y,e[14]=_,e[15]=E}function F(e,t){M(e,t,t)}function G(e,r){var n,i=t();for(n=0;n<16;n++)i[n]=r[n];for(n=253;n>=0;n--)F(i,i),2!==n&&4!==n&&M(i,i,r);for(n=0;n<16;n++)e[n]=i[n]}function K(e,r,n){var i,o,s=new Uint8Array(32),a=new Float64Array(80),f=t(),c=t(),u=t(),l=t(),d=t(),p=t();for(o=0;o<31;o++)s[o]=r[o];for(s[31]=127&r[31]|64,s[0]&=248,L(a,n),o=0;o<16;o++)c[o]=a[o],l[o]=f[o]=u[o]=0;for(f[0]=l[0]=1,o=254;o>=0;--o)U(f,c,i=s[o>>>3]>>>(7&o)&1),U(u,l,i),P(d,f,u),H(f,f,u),P(u,c,l),H(c,c,l),F(l,d),F(p,f),M(f,u,f),M(u,c,d),P(d,f,u),H(f,f,u),F(c,f),H(u,l,p),M(f,u,h),P(f,f,l),M(u,u,f),M(f,l,p),M(l,c,a),F(c,d),U(f,c,i),U(u,l,i);for(o=0;o<16;o++)a[o+16]=f[o],a[o+32]=u[o],a[o+48]=c[o],a[o+64]=l[o];var g=a.subarray(32),m=a.subarray(16);return G(g,g),M(m,m,g),x(e,m),0}function z(e,t){return K(e,t,o)}function j(e,t){return n(t,32),z(e,t)}function q(e,t,r){var n=new Uint8Array(32);return K(n,r,t),_(e,i,n,E)}A.prototype.blocks=function(e,t,r){for(var n,i,o,s,a,h,f,c,u,l,d,p,g,m,v,y,_,E,b,w=this.fin?0:2048,S=this.h[0],k=this.h[1],A=this.h[2],T=this.h[3],B=this.h[4],O=this.h[5],N=this.h[6],R=this.h[7],C=this.h[8],U=this.h[9],x=this.r[0],I=this.r[1],D=this.r[2],L=this.r[3],P=this.r[4],H=this.r[5],M=this.r[6],F=this.r[7],G=this.r[8],K=this.r[9];r>=16;)l=u=0,l+=(S+=8191&(n=255&e[t+0]|(255&e[t+1])<<8))*x,l+=(k+=8191&(n>>>13|(i=255&e[t+2]|(255&e[t+3])<<8)<<3))*(5*K),l+=(A+=8191&(i>>>10|(o=255&e[t+4]|(255&e[t+5])<<8)<<6))*(5*G),l+=(T+=8191&(o>>>7|(s=255&e[t+6]|(255&e[t+7])<<8)<<9))*(5*F),u=(l+=(B+=8191&(s>>>4|(a=255&e[t+8]|(255&e[t+9])<<8)<<12))*(5*M))>>>13,l&=8191,l+=(O+=a>>>1&8191)*(5*H),l+=(N+=8191&(a>>>14|(h=255&e[t+10]|(255&e[t+11])<<8)<<2))*(5*P),l+=(R+=8191&(h>>>11|(f=255&e[t+12]|(255&e[t+13])<<8)<<5))*(5*L),l+=(C+=8191&(f>>>8|(c=255&e[t+14]|(255&e[t+15])<<8)<<8))*(5*D),d=u+=(l+=(U+=c>>>5|w)*(5*I))>>>13,d+=S*I,d+=k*x,d+=A*(5*K),d+=T*(5*G),u=(d+=B*(5*F))>>>13,d&=8191,d+=O*(5*M),d+=N*(5*H),d+=R*(5*P),d+=C*(5*L),u+=(d+=U*(5*D))>>>13,d&=8191,p=u,p+=S*D,p+=k*I,p+=A*x,p+=T*(5*K),u=(p+=B*(5*G))>>>13,p&=8191,p+=O*(5*F),p+=N*(5*M),p+=R*(5*H),p+=C*(5*P),g=u+=(p+=U*(5*L))>>>13,g+=S*L,g+=k*D,g+=A*I,g+=T*x,u=(g+=B*(5*K))>>>13,g&=8191,g+=O*(5*G),g+=N*(5*F),g+=R*(5*M),g+=C*(5*H),m=u+=(g+=U*(5*P))>>>13,m+=S*P,m+=k*L,m+=A*D,m+=T*I,u=(m+=B*x)>>>13,m&=8191,m+=O*(5*K),m+=N*(5*G),m+=R*(5*F),m+=C*(5*M),v=u+=(m+=U*(5*H))>>>13,v+=S*H,v+=k*P,v+=A*L,v+=T*D,u=(v+=B*I)>>>13,v&=8191,v+=O*x,v+=N*(5*K),v+=R*(5*G),v+=C*(5*F),y=u+=(v+=U*(5*M))>>>13,y+=S*M,y+=k*H,y+=A*P,y+=T*L,u=(y+=B*D)>>>13,y&=8191,y+=O*I,y+=N*x,y+=R*(5*K),y+=C*(5*G),_=u+=(y+=U*(5*F))>>>13,_+=S*F,_+=k*M,_+=A*H,_+=T*P,u=(_+=B*L)>>>13,_&=8191,_+=O*D,_+=N*I,_+=R*x,_+=C*(5*K),E=u+=(_+=U*(5*G))>>>13,E+=S*G,E+=k*F,E+=A*M,E+=T*H,u=(E+=B*P)>>>13,E&=8191,E+=O*L,E+=N*D,E+=R*I,E+=C*x,b=u+=(E+=U*(5*K))>>>13,b+=S*K,b+=k*G,b+=A*F,b+=T*M,u=(b+=B*H)>>>13,b&=8191,b+=O*P,b+=N*L,b+=R*D,b+=C*I,S=l=8191&(u=(u=((u+=(b+=U*x)>>>13)<<2)+u|0)+(l&=8191)|0),k=d+=u>>>=13,A=p&=8191,T=g&=8191,B=m&=8191,O=v&=8191,N=y&=8191,R=_&=8191,C=E&=8191,U=b&=8191,t+=16,r-=16;this.h[0]=S,this.h[1]=k,this.h[2]=A,this.h[3]=T,this.h[4]=B,this.h[5]=O,this.h[6]=N,this.h[7]=R,this.h[8]=C,this.h[9]=U},A.prototype.finish=function(e,t){var r,n,i,o,s=new Uint16Array(10);if(this.leftover){for(o=this.leftover,this.buffer[o++]=1;o<16;o++)this.buffer[o]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(r=this.h[1]>>>13,this.h[1]&=8191,o=2;o<10;o++)this.h[o]+=r,r=this.h[o]>>>13,this.h[o]&=8191;for(this.h[0]+=5*r,r=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=r,r=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=r,s[0]=this.h[0]+5,r=s[0]>>>13,s[0]&=8191,o=1;o<10;o++)s[o]=this.h[o]+r,r=s[o]>>>13,s[o]&=8191;for(s[9]-=8192,n=(1^r)-1,o=0;o<10;o++)s[o]&=n;for(n=~n,o=0;o<10;o++)this.h[o]=this.h[o]&n|s[o];for(this.h[0]=65535&(this.h[0]|this.h[1]<<13),this.h[1]=65535&(this.h[1]>>>3|this.h[2]<<10),this.h[2]=65535&(this.h[2]>>>6|this.h[3]<<7),this.h[3]=65535&(this.h[3]>>>9|this.h[4]<<4),this.h[4]=65535&(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14),this.h[5]=65535&(this.h[6]>>>2|this.h[7]<<11),this.h[6]=65535&(this.h[7]>>>5|this.h[8]<<8),this.h[7]=65535&(this.h[8]>>>8|this.h[9]<<5),i=this.h[0]+this.pad[0],this.h[0]=65535&i,o=1;o<8;o++)i=(this.h[o]+this.pad[o]|0)+(i>>>16)|0,this.h[o]=65535&i;e[t+0]=this.h[0]>>>0&255,e[t+1]=this.h[0]>>>8&255,e[t+2]=this.h[1]>>>0&255,e[t+3]=this.h[1]>>>8&255,e[t+4]=this.h[2]>>>0&255,e[t+5]=this.h[2]>>>8&255,e[t+6]=this.h[3]>>>0&255,e[t+7]=this.h[3]>>>8&255,e[t+8]=this.h[4]>>>0&255,e[t+9]=this.h[4]>>>8&255,e[t+10]=this.h[5]>>>0&255,e[t+11]=this.h[5]>>>8&255,e[t+12]=this.h[6]>>>0&255,e[t+13]=this.h[6]>>>8&255,e[t+14]=this.h[7]>>>0&255,e[t+15]=this.h[7]>>>8&255},A.prototype.update=function(e,t,r){var n,i;if(this.leftover){for((i=16-this.leftover)>r&&(i=r),n=0;n<i;n++)this.buffer[this.leftover+n]=e[t+n];if(r-=i,t+=i,this.leftover+=i,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(r>=16&&(i=r-r%16,this.blocks(e,t,i),t+=i,r-=i),r){for(n=0;n<r;n++)this.buffer[this.leftover+n]=e[t+n];this.leftover+=r}};var W=O,X=N,V=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Y(e,t,r,n){for(var i,o,s,a,h,f,c,u,l,d,p,g,m,v,y,_,E,b,w,S,k,A,T,B,O,N,R=new Int32Array(16),C=new Int32Array(16),U=e[0],x=e[1],I=e[2],D=e[3],L=e[4],P=e[5],H=e[6],M=e[7],F=t[0],G=t[1],K=t[2],z=t[3],j=t[4],q=t[5],W=t[6],X=t[7],Y=0;n>=128;){for(w=0;w<16;w++)S=8*w+Y,R[w]=r[S+0]<<24|r[S+1]<<16|r[S+2]<<8|r[S+3],C[w]=r[S+4]<<24|r[S+5]<<16|r[S+6]<<8|r[S+7];for(w=0;w<80;w++)if(i=U,o=x,s=I,a=D,h=L,f=P,c=H,l=F,d=G,p=K,g=z,m=j,v=q,y=W,T=65535&(A=X),B=A>>>16,O=65535&(k=M),N=k>>>16,T+=65535&(A=(j>>>14|L<<18)^(j>>>18|L<<14)^(L>>>9|j<<23)),B+=A>>>16,O+=65535&(k=(L>>>14|j<<18)^(L>>>18|j<<14)^(j>>>9|L<<23)),N+=k>>>16,T+=65535&(A=j&q^~j&W),B+=A>>>16,O+=65535&(k=L&P^~L&H),N+=k>>>16,k=V[2*w],T+=65535&(A=V[2*w+1]),B+=A>>>16,O+=65535&k,N+=k>>>16,k=R[w%16],B+=(A=C[w%16])>>>16,O+=65535&k,N+=k>>>16,O+=(B+=(T+=65535&A)>>>16)>>>16,T=65535&(A=b=65535&T|B<<16),B=A>>>16,O=65535&(k=E=65535&O|(N+=O>>>16)<<16),N=k>>>16,T+=65535&(A=(F>>>28|U<<4)^(U>>>2|F<<30)^(U>>>7|F<<25)),B+=A>>>16,O+=65535&(k=(U>>>28|F<<4)^(F>>>2|U<<30)^(F>>>7|U<<25)),N+=k>>>16,B+=(A=F&G^F&K^G&K)>>>16,O+=65535&(k=U&x^U&I^x&I),N+=k>>>16,u=65535&(O+=(B+=(T+=65535&A)>>>16)>>>16)|(N+=O>>>16)<<16,_=65535&T|B<<16,T=65535&(A=g),B=A>>>16,O=65535&(k=a),N=k>>>16,B+=(A=b)>>>16,O+=65535&(k=E),N+=k>>>16,x=i,I=o,D=s,L=a=65535&(O+=(B+=(T+=65535&A)>>>16)>>>16)|(N+=O>>>16)<<16,P=h,H=f,M=c,U=u,G=l,K=d,z=p,j=g=65535&T|B<<16,q=m,W=v,X=y,F=_,w%16==15)for(S=0;S<16;S++)k=R[S],T=65535&(A=C[S]),B=A>>>16,O=65535&k,N=k>>>16,k=R[(S+9)%16],T+=65535&(A=C[(S+9)%16]),B+=A>>>16,O+=65535&k,N+=k>>>16,E=R[(S+1)%16],T+=65535&(A=((b=C[(S+1)%16])>>>1|E<<31)^(b>>>8|E<<24)^(b>>>7|E<<25)),B+=A>>>16,O+=65535&(k=(E>>>1|b<<31)^(E>>>8|b<<24)^E>>>7),N+=k>>>16,E=R[(S+14)%16],B+=(A=((b=C[(S+14)%16])>>>19|E<<13)^(E>>>29|b<<3)^(b>>>6|E<<26))>>>16,O+=65535&(k=(E>>>19|b<<13)^(b>>>29|E<<3)^E>>>6),N+=k>>>16,N+=(O+=(B+=(T+=65535&A)>>>16)>>>16)>>>16,R[S]=65535&O|N<<16,C[S]=65535&T|B<<16;T=65535&(A=F),B=A>>>16,O=65535&(k=U),N=k>>>16,k=e[0],B+=(A=t[0])>>>16,O+=65535&k,N+=k>>>16,N+=(O+=(B+=(T+=65535&A)>>>16)>>>16)>>>16,e[0]=U=65535&O|N<<16,t[0]=F=65535&T|B<<16,T=65535&(A=G),B=A>>>16,O=65535&(k=x),N=k>>>16,k=e[1],B+=(A=t[1])>>>16,O+=65535&k,N+=k>>>16,N+=(O+=(B+=(T+=65535&A)>>>16)>>>16)>>>16,e[1]=x=65535&O|N<<16,t[1]=G=65535&T|B<<16,T=65535&(A=K),B=A>>>16,O=65535&(k=I),N=k>>>16,k=e[2],B+=(A=t[2])>>>16,O+=65535&k,N+=k>>>16,N+=(O+=(B+=(T+=65535&A)>>>16)>>>16)>>>16,e[2]=I=65535&O|N<<16,t[2]=K=65535&T|B<<16,T=65535&(A=z),B=A>>>16,O=65535&(k=D),N=k>>>16,k=e[3],B+=(A=t[3])>>>16,O+=65535&k,N+=k>>>16,N+=(O+=(B+=(T+=65535&A)>>>16)>>>16)>>>16,e[3]=D=65535&O|N<<16,t[3]=z=65535&T|B<<16,T=65535&(A=j),B=A>>>16,O=65535&(k=L),N=k>>>16,k=e[4],B+=(A=t[4])>>>16,O+=65535&k,N+=k>>>16,N+=(O+=(B+=(T+=65535&A)>>>16)>>>16)>>>16,e[4]=L=65535&O|N<<16,t[4]=j=65535&T|B<<16,T=65535&(A=q),B=A>>>16,O=65535&(k=P),N=k>>>16,k=e[5],B+=(A=t[5])>>>16,O+=65535&k,N+=k>>>16,N+=(O+=(B+=(T+=65535&A)>>>16)>>>16)>>>16,e[5]=P=65535&O|N<<16,t[5]=q=65535&T|B<<16,T=65535&(A=W),B=A>>>16,O=65535&(k=H),N=k>>>16,k=e[6],B+=(A=t[6])>>>16,O+=65535&k,N+=k>>>16,N+=(O+=(B+=(T+=65535&A)>>>16)>>>16)>>>16,e[6]=H=65535&O|N<<16,t[6]=W=65535&T|B<<16,T=65535&(A=X),B=A>>>16,O=65535&(k=M),N=k>>>16,k=e[7],B+=(A=t[7])>>>16,O+=65535&k,N+=k>>>16,N+=(O+=(B+=(T+=65535&A)>>>16)>>>16)>>>16,e[7]=M=65535&O|N<<16,t[7]=X=65535&T|B<<16,Y+=128,n-=128}return n}function Q(e,t,r){var n,i=new Int32Array(8),o=new Int32Array(8),s=new Uint8Array(256),a=r;for(i[0]=1779033703,i[1]=3144134277,i[2]=1013904242,i[3]=2773480762,i[4]=1359893119,i[5]=2600822924,i[6]=528734635,i[7]=1541459225,o[0]=4089235720,o[1]=2227873595,o[2]=4271175723,o[3]=1595750129,o[4]=2917565137,o[5]=725511199,o[6]=4215389547,o[7]=327033209,Y(i,o,t,r),r%=128,n=0;n<r;n++)s[n]=t[a-r+n];for(s[r]=128,s[(r=256-128*(r<112?1:0))-9]=0,p(s,r-8,a/536870912|0,a<<3),Y(i,o,s,r),n=0;n<8;n++)p(e,8*n,i[n],o[n]);return 0}function Z(e,r){var n=t(),i=t(),o=t(),s=t(),a=t(),h=t(),f=t(),u=t(),l=t();H(n,e[1],e[0]),H(l,r[1],r[0]),M(n,n,l),P(i,e[0],e[1]),P(l,r[0],r[1]),M(i,i,l),M(o,e[3],r[3]),M(o,o,c),M(s,e[2],r[2]),P(s,s,s),H(a,i,n),H(h,s,o),P(f,s,o),P(u,i,n),M(e[0],a,h),M(e[1],u,f),M(e[2],f,h),M(e[3],a,u)}function $(e,t,r){var n;for(n=0;n<4;n++)U(e[n],t[n],r)}function J(e,r){var n=t(),i=t(),o=t();G(o,r[2]),M(n,r[0],o),M(i,r[1],o),x(e,i),e[31]^=D(n)<<7}function ee(e,t,r){var n,i;for(R(e[0],s),R(e[1],a),R(e[2],a),R(e[3],s),i=255;i>=0;--i)$(e,t,n=r[i/8|0]>>(7&i)&1),Z(t,e),Z(e,e),$(e,t,n)}function te(e,r){var n=[t(),t(),t(),t()];R(n[0],u),R(n[1],l),R(n[2],a),M(n[3],u,l),ee(e,n,r)}function re(e,r,i){var o,s=new Uint8Array(64),a=[t(),t(),t(),t()];for(i||n(r,32),Q(s,r,32),s[0]&=248,s[31]&=127,s[31]|=64,te(a,s),J(e,a),o=0;o<32;o++)r[o+32]=e[o];return 0}var ne=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function ie(e,t){var r,n,i,o;for(n=63;n>=32;--n){for(r=0,i=n-32,o=n-12;i<o;++i)t[i]+=r-16*t[n]*ne[i-(n-32)],r=t[i]+128>>8,t[i]-=256*r;t[i]+=r,t[n]=0}for(r=0,i=0;i<32;i++)t[i]+=r-(t[31]>>4)*ne[i],r=t[i]>>8,t[i]&=255;for(i=0;i<32;i++)t[i]-=r*ne[i];for(n=0;n<32;n++)t[n+1]+=t[n]>>8,e[n]=255&t[n]}function oe(e){var t,r=new Float64Array(64);for(t=0;t<64;t++)r[t]=e[t];for(t=0;t<64;t++)e[t]=0;ie(e,r)}function se(e,r,n,i){var o,s,a=new Uint8Array(64),h=new Uint8Array(64),f=new Uint8Array(64),c=new Float64Array(64),u=[t(),t(),t(),t()];Q(a,i,32),a[0]&=248,a[31]&=127,a[31]|=64;var l=n+64;for(o=0;o<n;o++)e[64+o]=r[o];for(o=0;o<32;o++)e[32+o]=a[32+o];for(Q(f,e.subarray(32),n+32),oe(f),te(u,f),J(e,u),o=32;o<64;o++)e[o]=i[o];for(Q(h,e,n+64),oe(h),o=0;o<64;o++)c[o]=0;for(o=0;o<32;o++)c[o]=f[o];for(o=0;o<32;o++)for(s=0;s<32;s++)c[o+s]+=h[o]*a[s];return ie(e.subarray(32),c),l}function ae(e,r){var n=t(),i=t(),o=t(),h=t(),c=t(),u=t(),l=t();return R(e[2],a),L(e[1],r),F(o,e[1]),M(h,o,f),H(o,o,e[2]),P(h,e[2],h),F(c,h),F(u,c),M(l,u,c),M(n,l,o),M(n,n,h),function(e,r){var n,i=t();for(n=0;n<16;n++)i[n]=r[n];for(n=250;n>=0;n--)F(i,i),1!==n&&M(i,i,r);for(n=0;n<16;n++)e[n]=i[n]}(n,n),M(n,n,o),M(n,n,h),M(n,n,h),M(e[0],n,h),F(i,e[0]),M(i,i,h),I(i,o)&&M(e[0],e[0],d),F(i,e[0]),M(i,i,h),I(i,o)?-1:(D(e[0])===r[31]>>7&&H(e[0],s,e[0]),M(e[3],e[0],e[1]),0)}function he(e,r,n,i){var o,s=new Uint8Array(32),a=new Uint8Array(64),h=[t(),t(),t(),t()],f=[t(),t(),t(),t()];if(n<64)return-1;if(ae(f,i))return-1;for(o=0;o<n;o++)e[o]=r[o];for(o=0;o<32;o++)e[o+32]=i[o];if(Q(a,e,n),oe(a),ee(h,f,a),te(f,r.subarray(32)),Z(h,f),J(s,h),n-=64,v(r,0,s,0)){for(o=0;o<n;o++)e[o]=0;return-1}for(o=0;o<n;o++)e[o]=r[o+64];return n}var fe=32,ce=24,ue=ce;function le(e,t){if(e.length!==fe)throw new Error("bad key size");if(t.length!==ce)throw new Error("bad nonce size")}function de(){var e,t;for(t=0;t<arguments.length;t++)if("[object Uint8Array]"!==(e=Object.prototype.toString.call(arguments[t])))throw new TypeError("unexpected type "+e+", use Uint8Array")}function pe(e){for(var t=0;t<e.length;t++)e[t]=0}e.lowlevel={crypto_core_hsalsa20:_,crypto_stream_xor:k,crypto_stream:S,crypto_stream_salsa20_xor:b,crypto_stream_salsa20:w,crypto_onetimeauth:T,crypto_onetimeauth_verify:B,crypto_verify_16:m,crypto_verify_32:v,crypto_secretbox:O,crypto_secretbox_open:N,crypto_scalarmult:K,crypto_scalarmult_base:z,crypto_box_beforenm:q,crypto_box_afternm:W,crypto_box:function(e,t,r,n,i,o){var s=new Uint8Array(32);return q(s,i,o),W(e,t,r,n,s)},crypto_box_open:function(e,t,r,n,i,o){var s=new Uint8Array(32);return q(s,i,o),X(e,t,r,n,s)},crypto_box_keypair:j,crypto_hash:Q,crypto_sign:se,crypto_sign_keypair:re,crypto_sign_open:he,crypto_secretbox_KEYBYTES:fe,crypto_secretbox_NONCEBYTES:ce,crypto_secretbox_ZEROBYTES:32,crypto_secretbox_BOXZEROBYTES:16,crypto_scalarmult_BYTES:32,crypto_scalarmult_SCALARBYTES:32,crypto_box_PUBLICKEYBYTES:32,crypto_box_SECRETKEYBYTES:32,crypto_box_BEFORENMBYTES:32,crypto_box_NONCEBYTES:ue,crypto_box_ZEROBYTES:32,crypto_box_BOXZEROBYTES:16,crypto_sign_BYTES:64,crypto_sign_PUBLICKEYBYTES:32,crypto_sign_SECRETKEYBYTES:64,crypto_sign_SEEDBYTES:32,crypto_hash_BYTES:64},e.util||(e.util={},e.util.decodeUTF8=e.util.encodeUTF8=e.util.encodeBase64=e.util.decodeBase64=function(){throw new Error("nacl.util moved into separate package: https://github.com/dchest/tweetnacl-util-js")}),e.randomBytes=function(e){var t=new Uint8Array(e);return n(t,e),t},e.secretbox=function(e,t,r){de(e,t,r),le(r,t);for(var n=new Uint8Array(32+e.length),i=new Uint8Array(n.length),o=0;o<e.length;o++)n[o+32]=e[o];return O(i,n,n.length,t,r),i.subarray(16)},e.secretbox.open=function(e,t,r){de(e,t,r),le(r,t);for(var n=new Uint8Array(16+e.length),i=new Uint8Array(n.length),o=0;o<e.length;o++)n[o+16]=e[o];return!(n.length<32)&&0===N(i,n,n.length,t,r)&&i.subarray(32)},e.secretbox.keyLength=fe,e.secretbox.nonceLength=ce,e.secretbox.overheadLength=16,e.scalarMult=function(e,t){if(de(e,t),32!==e.length)throw new Error("bad n size");if(32!==t.length)throw new Error("bad p size");var r=new Uint8Array(32);return K(r,e,t),r},e.scalarMult.base=function(e){if(de(e),32!==e.length)throw new Error("bad n size");var t=new Uint8Array(32);return z(t,e),t},e.scalarMult.scalarLength=32,e.scalarMult.groupElementLength=32,e.box=function(t,r,n,i){var o=e.box.before(n,i);return e.secretbox(t,r,o)},e.box.before=function(e,t){de(e,t),function(e,t){if(32!==e.length)throw new Error("bad public key size");if(32!==t.length)throw new Error("bad secret key size")}(e,t);var r=new Uint8Array(32);return q(r,e,t),r},e.box.after=e.secretbox,e.box.open=function(t,r,n,i){var o=e.box.before(n,i);return e.secretbox.open(t,r,o)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var e=new Uint8Array(32),t=new Uint8Array(32);return j(e,t),{publicKey:e,secretKey:t}},e.box.keyPair.fromSecretKey=function(e){if(de(e),32!==e.length)throw new Error("bad secret key size");var t=new Uint8Array(32);return z(t,e),{publicKey:t,secretKey:new Uint8Array(e)}},e.box.publicKeyLength=32,e.box.secretKeyLength=32,e.box.sharedKeyLength=32,e.box.nonceLength=ue,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(e,t){if(de(e,t),64!==t.length)throw new Error("bad secret key size");var r=new Uint8Array(64+e.length);return se(r,e,e.length,t),r},e.sign.open=function(e,t){if(2!==arguments.length)throw new Error("nacl.sign.open accepts 2 arguments; did you mean to use nacl.sign.detached.verify?");if(de(e,t),32!==t.length)throw new Error("bad public key size");var r=new Uint8Array(e.length),n=he(r,e,e.length,t);if(n<0)return null;for(var i=new Uint8Array(n),o=0;o<i.length;o++)i[o]=r[o];return i},e.sign.detached=function(t,r){for(var n=e.sign(t,r),i=new Uint8Array(64),o=0;o<i.length;o++)i[o]=n[o];return i},e.sign.detached.verify=function(e,t,r){if(de(e,t,r),64!==t.length)throw new Error("bad signature size");if(32!==r.length)throw new Error("bad public key size");var n,i=new Uint8Array(64+e.length),o=new Uint8Array(64+e.length);for(n=0;n<64;n++)i[n]=t[n];for(n=0;n<e.length;n++)i[n+64]=e[n];return he(o,i,i.length,r)>=0},e.sign.keyPair=function(){var e=new Uint8Array(32),t=new Uint8Array(64);return re(e,t),{publicKey:e,secretKey:t}},e.sign.keyPair.fromSecretKey=function(e){if(de(e),64!==e.length)throw new Error("bad secret key size");for(var t=new Uint8Array(32),r=0;r<t.length;r++)t[r]=e[32+r];return{publicKey:t,secretKey:new Uint8Array(e)}},e.sign.keyPair.fromSeed=function(e){if(de(e),32!==e.length)throw new Error("bad seed size");for(var t=new Uint8Array(32),r=new Uint8Array(64),n=0;n<32;n++)r[n]=e[n];return re(t,r,!0),{publicKey:t,secretKey:r}},e.sign.publicKeyLength=32,e.sign.secretKeyLength=64,e.sign.seedLength=32,e.sign.signatureLength=64,e.hash=function(e){de(e);var t=new Uint8Array(64);return Q(t,e,e.length),t},e.hash.hashLength=64,e.verify=function(e,t){return de(e,t),0!==e.length&&0!==t.length&&e.length===t.length&&0===g(e,0,t,0,e.length)},e.setPRNG=function(e){n=e},function(){var t="undefined"!=typeof self?self.crypto||self.msCrypto:null;t&&t.getRandomValues?e.setPRNG(function(e,r){var n,i=new Uint8Array(r);for(n=0;n<r;n+=65536)t.getRandomValues(i.subarray(n,n+Math.min(r-n,65536)));for(n=0;n<r;n++)e[n]=i[n];pe(i)}):(t=r(18))&&t.randomBytes&&e.setPRNG(function(e,r){var n,i=t.randomBytes(r);for(n=0;n<r;n++)e[n]=i[n];pe(i)})}()}(e.exports?e.exports:self.nacl=self.nacl||{})},function(e,t){function r(e,t,r){null!=e&&("number"==typeof e?this.fromNumber(e,t,r):null==t&&"string"!=typeof e?this.fromString(e,256):this.fromString(e,t))}function n(){return new r(null)}r.prototype.am=function(e,t,r,n,i,o){for(var s=16383&t,a=t>>14;--o>=0;){var h=16383&this[e],f=this[e++]>>14,c=a*h+f*s;i=((h=s*h+((16383&c)<<14)+r[n]+i)>>28)+(c>>14)+a*f,r[n++]=268435455&h}return i},r.prototype.DB=28,r.prototype.DM=268435455,r.prototype.DV=1<<28,r.prototype.FV=Math.pow(2,52),r.prototype.F1=24,r.prototype.F2=4;var i,o,s="0123456789abcdefghijklmnopqrstuvwxyz",a=new Array;for(i="0".charCodeAt(0),o=0;o<=9;++o)a[i++]=o;for(i="a".charCodeAt(0),o=10;o<36;++o)a[i++]=o;for(i="A".charCodeAt(0),o=10;o<36;++o)a[i++]=o;function h(e){return s.charAt(e)}function f(e,t){var r=a[e.charCodeAt(t)];return null==r?-1:r}function c(e){var t=n();return t.fromInt(e),t}function u(e){var t,r=1;return 0!=(t=e>>>16)&&(e=t,r+=16),0!=(t=e>>8)&&(e=t,r+=8),0!=(t=e>>4)&&(e=t,r+=4),0!=(t=e>>2)&&(e=t,r+=2),0!=(t=e>>1)&&(e=t,r+=1),r}function l(e){this.m=e}function d(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function p(e,t){return e&t}function g(e,t){return e|t}function m(e,t){return e^t}function v(e,t){return e&~t}function y(e){if(0==e)return-1;var t=0;return 0==(65535&e)&&(e>>=16,t+=16),0==(255&e)&&(e>>=8,t+=8),0==(15&e)&&(e>>=4,t+=4),0==(3&e)&&(e>>=2,t+=2),0==(1&e)&&++t,t}function _(e){for(var t=0;0!=e;)e&=e-1,++t;return t}function E(){}function b(e){return e}function w(e){this.r2=n(),this.q3=n(),r.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}l.prototype.convert=function(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e},l.prototype.revert=function(e){return e},l.prototype.reduce=function(e){e.divRemTo(this.m,null,e)},l.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},l.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},d.prototype.convert=function(e){var t=n();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(r.ZERO)>0&&this.m.subTo(t,t),t},d.prototype.revert=function(e){var t=n();return e.copyTo(t),this.reduce(t),t},d.prototype.reduce=function(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var r=32767&e[t],n=r*this.mpl+((r*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(e[r=t+this.m.t]+=this.m.am(0,n,e,t,0,this.m.t);e[r]>=e.DV;)e[r]-=e.DV,e[++r]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},d.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},d.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},r.prototype.copyTo=function(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s},r.prototype.fromInt=function(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0},r.prototype.fromString=function(e,t){var n;if(16==t)n=4;else if(8==t)n=3;else if(256==t)n=8;else if(2==t)n=1;else if(32==t)n=5;else{if(4!=t)return void this.fromRadix(e,t);n=2}this.t=0,this.s=0;for(var i=e.length,o=!1,s=0;--i>=0;){var a=8==n?255&e[i]:f(e,i);a<0?"-"==e.charAt(i)&&(o=!0):(o=!1,0==s?this[this.t++]=a:s+n>this.DB?(this[this.t-1]|=(a&(1<<this.DB-s)-1)<<s,this[this.t++]=a>>this.DB-s):this[this.t-1]|=a<<s,(s+=n)>=this.DB&&(s-=this.DB))}8==n&&0!=(128&e[0])&&(this.s=-1,s>0&&(this[this.t-1]|=(1<<this.DB-s)-1<<s)),this.clamp(),o&&r.ZERO.subTo(this,this)},r.prototype.clamp=function(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t},r.prototype.dlShiftTo=function(e,t){var r;for(r=this.t-1;r>=0;--r)t[r+e]=this[r];for(r=e-1;r>=0;--r)t[r]=0;t.t=this.t+e,t.s=this.s},r.prototype.drShiftTo=function(e,t){for(var r=e;r<this.t;++r)t[r-e]=this[r];t.t=Math.max(this.t-e,0),t.s=this.s},r.prototype.lShiftTo=function(e,t){var r,n=e%this.DB,i=this.DB-n,o=(1<<i)-1,s=Math.floor(e/this.DB),a=this.s<<n&this.DM;for(r=this.t-1;r>=0;--r)t[r+s+1]=this[r]>>i|a,a=(this[r]&o)<<n;for(r=s-1;r>=0;--r)t[r]=0;t[s]=a,t.t=this.t+s+1,t.s=this.s,t.clamp()},r.prototype.rShiftTo=function(e,t){t.s=this.s;var r=Math.floor(e/this.DB);if(r>=this.t)t.t=0;else{var n=e%this.DB,i=this.DB-n,o=(1<<n)-1;t[0]=this[r]>>n;for(var s=r+1;s<this.t;++s)t[s-r-1]|=(this[s]&o)<<i,t[s-r]=this[s]>>n;n>0&&(t[this.t-r-1]|=(this.s&o)<<i),t.t=this.t-r,t.clamp()}},r.prototype.subTo=function(e,t){for(var r=0,n=0,i=Math.min(e.t,this.t);r<i;)n+=this[r]-e[r],t[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n-=e.s;r<this.t;)n+=this[r],t[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n-=e[r],t[r++]=n&this.DM,n>>=this.DB;n-=e.s}t.s=n<0?-1:0,n<-1?t[r++]=this.DV+n:n>0&&(t[r++]=n),t.t=r,t.clamp()},r.prototype.multiplyTo=function(e,t){var n=this.abs(),i=e.abs(),o=n.t;for(t.t=o+i.t;--o>=0;)t[o]=0;for(o=0;o<i.t;++o)t[o+n.t]=n.am(0,i[o],t,o,0,n.t);t.s=0,t.clamp(),this.s!=e.s&&r.ZERO.subTo(t,t)},r.prototype.squareTo=function(e){for(var t=this.abs(),r=e.t=2*t.t;--r>=0;)e[r]=0;for(r=0;r<t.t-1;++r){var n=t.am(r,t[r],e,2*r,0,1);(e[r+t.t]+=t.am(r+1,2*t[r],e,2*r+1,n,t.t-r-1))>=t.DV&&(e[r+t.t]-=t.DV,e[r+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(r,t[r],e,2*r,0,1)),e.s=0,e.clamp()},r.prototype.divRemTo=function(e,t,i){var o=e.abs();if(!(o.t<=0)){var s=this.abs();if(s.t<o.t)return null!=t&&t.fromInt(0),void(null!=i&&this.copyTo(i));null==i&&(i=n());var a=n(),h=this.s,f=e.s,c=this.DB-u(o[o.t-1]);c>0?(o.lShiftTo(c,a),s.lShiftTo(c,i)):(o.copyTo(a),s.copyTo(i));var l=a.t,d=a[l-1];if(0!=d){var p=d*(1<<this.F1)+(l>1?a[l-2]>>this.F2:0),g=this.FV/p,m=(1<<this.F1)/p,v=1<<this.F2,y=i.t,_=y-l,E=null==t?n():t;for(a.dlShiftTo(_,E),i.compareTo(E)>=0&&(i[i.t++]=1,i.subTo(E,i)),r.ONE.dlShiftTo(l,E),E.subTo(a,a);a.t<l;)a[a.t++]=0;for(;--_>=0;){var b=i[--y]==d?this.DM:Math.floor(i[y]*g+(i[y-1]+v)*m);if((i[y]+=a.am(0,b,i,_,0,l))<b)for(a.dlShiftTo(_,E),i.subTo(E,i);i[y]<--b;)i.subTo(E,i)}null!=t&&(i.drShiftTo(l,t),h!=f&&r.ZERO.subTo(t,t)),i.t=l,i.clamp(),c>0&&i.rShiftTo(c,i),h<0&&r.ZERO.subTo(i,i)}}},r.prototype.invDigit=function(){if(this.t<1)return 0;var e=this[0];if(0==(1&e))return 0;var t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t},r.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},r.prototype.exp=function(e,t){if(e>4294967295||e<1)return r.ONE;var i=n(),o=n(),s=t.convert(this),a=u(e)-1;for(s.copyTo(i);--a>=0;)if(t.sqrTo(i,o),(e&1<<a)>0)t.mulTo(o,s,i);else{var h=i;i=o,o=h}return t.revert(i)},r.prototype.toString=function(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)return this.toRadix(e);t=2}var r,n=(1<<t)-1,i=!1,o="",s=this.t,a=this.DB-s*this.DB%t;if(s-- >0)for(a<this.DB&&(r=this[s]>>a)>0&&(i=!0,o=h(r));s>=0;)a<t?(r=(this[s]&(1<<a)-1)<<t-a,r|=this[--s]>>(a+=this.DB-t)):(r=this[s]>>(a-=t)&n,a<=0&&(a+=this.DB,--s)),r>0&&(i=!0),i&&(o+=h(r));return i?o:"0"},r.prototype.negate=function(){var e=n();return r.ZERO.subTo(this,e),e},r.prototype.abs=function(){return this.s<0?this.negate():this},r.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var r=this.t;if(0!=(t=r-e.t))return this.s<0?-t:t;for(;--r>=0;)if(0!=(t=this[r]-e[r]))return t;return 0},r.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+u(this[this.t-1]^this.s&this.DM)},r.prototype.mod=function(e){var t=n();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(r.ZERO)>0&&e.subTo(t,t),t},r.prototype.modPowInt=function(e,t){var r;return r=e<256||t.isEven()?new l(t):new d(t),this.exp(e,r)},r.ZERO=c(0),r.ONE=c(1),E.prototype.convert=b,E.prototype.revert=b,E.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r)},E.prototype.sqrTo=function(e,t){e.squareTo(t)},w.prototype.convert=function(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=n();return e.copyTo(t),this.reduce(t),t},w.prototype.revert=function(e){return e},w.prototype.reduce=function(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)},w.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},w.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)};var S=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],k=(1<<26)/S[S.length-1];r.prototype.chunkSize=function(e){return Math.floor(Math.LN2*this.DB/Math.log(e))},r.prototype.toRadix=function(e){if(null==e&&(e=10),0==this.signum()||e<2||e>36)return"0";var t=this.chunkSize(e),r=Math.pow(e,t),i=c(r),o=n(),s=n(),a="";for(this.divRemTo(i,o,s);o.signum()>0;)a=(r+s.intValue()).toString(e).substr(1)+a,o.divRemTo(i,o,s);return s.intValue().toString(e)+a},r.prototype.fromRadix=function(e,t){this.fromInt(0),null==t&&(t=10);for(var n=this.chunkSize(t),i=Math.pow(t,n),o=!1,s=0,a=0,h=0;h<e.length;++h){var c=f(e,h);c<0?"-"==e.charAt(h)&&0==this.signum()&&(o=!0):(a=t*a+c,++s>=n&&(this.dMultiply(i),this.dAddOffset(a,0),s=0,a=0))}s>0&&(this.dMultiply(Math.pow(t,s)),this.dAddOffset(a,0)),o&&r.ZERO.subTo(this,this)},r.prototype.fromNumber=function(e,t,n){if("number"==typeof t)if(e<2)this.fromInt(1);else for(this.fromNumber(e,n),this.testBit(e-1)||this.bitwiseTo(r.ONE.shiftLeft(e-1),g,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(t);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(r.ONE.shiftLeft(e-1),this);else{var i=new Array,o=7&e;i.length=1+(e>>3),t.nextBytes(i),o>0?i[0]&=(1<<o)-1:i[0]=0,this.fromString(i,256)}},r.prototype.bitwiseTo=function(e,t,r){var n,i,o=Math.min(e.t,this.t);for(n=0;n<o;++n)r[n]=t(this[n],e[n]);if(e.t<this.t){for(i=e.s&this.DM,n=o;n<this.t;++n)r[n]=t(this[n],i);r.t=this.t}else{for(i=this.s&this.DM,n=o;n<e.t;++n)r[n]=t(i,e[n]);r.t=e.t}r.s=t(this.s,e.s),r.clamp()},r.prototype.changeBit=function(e,t){var n=r.ONE.shiftLeft(e);return this.bitwiseTo(n,t,n),n},r.prototype.addTo=function(e,t){for(var r=0,n=0,i=Math.min(e.t,this.t);r<i;)n+=this[r]+e[r],t[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n+=e.s;r<this.t;)n+=this[r],t[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n+=e[r],t[r++]=n&this.DM,n>>=this.DB;n+=e.s}t.s=n<0?-1:0,n>0?t[r++]=n:n<-1&&(t[r++]=this.DV+n),t.t=r,t.clamp()},r.prototype.dMultiply=function(e){this[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()},r.prototype.dAddOffset=function(e,t){if(0!=e){for(;this.t<=t;)this[this.t++]=0;for(this[t]+=e;this[t]>=this.DV;)this[t]-=this.DV,++t>=this.t&&(this[this.t++]=0),++this[t]}},r.prototype.multiplyLowerTo=function(e,t,r){var n,i=Math.min(this.t+e.t,t);for(r.s=0,r.t=i;i>0;)r[--i]=0;for(n=r.t-this.t;i<n;++i)r[i+this.t]=this.am(0,e[i],r,i,0,this.t);for(n=Math.min(e.t,t);i<n;++i)this.am(0,e[i],r,i,0,t-i);r.clamp()},r.prototype.multiplyUpperTo=function(e,t,r){--t;var n=r.t=this.t+e.t-t;for(r.s=0;--n>=0;)r[n]=0;for(n=Math.max(t-this.t,0);n<e.t;++n)r[this.t+n-t]=this.am(t-n,e[n],r,0,0,this.t+n-t);r.clamp(),r.drShiftTo(1,r)},r.prototype.modInt=function(e){if(e<=0)return 0;var t=this.DV%e,r=this.s<0?e-1:0;if(this.t>0)if(0==t)r=this[0]%e;else for(var n=this.t-1;n>=0;--n)r=(t*r+this[n])%e;return r},r.prototype.millerRabin=function(e){var t=this.subtract(r.ONE),i=t.getLowestSetBit();if(i<=0)return!1;var o=t.shiftRight(i);(e=e+1>>1)>S.length&&(e=S.length);for(var s=n(),a=0;a<e;++a){s.fromInt(S[Math.floor(Math.random()*S.length)]);var h=s.modPow(o,this);if(0!=h.compareTo(r.ONE)&&0!=h.compareTo(t)){for(var f=1;f++<i&&0!=h.compareTo(t);)if(0==(h=h.modPowInt(2,this)).compareTo(r.ONE))return!1;if(0!=h.compareTo(t))return!1}}return!0},r.prototype.clone=function(){var e=n();return this.copyTo(e),e},r.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},r.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},r.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},r.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},r.prototype.toByteArray=function(){var e=this.t,t=new Array;t[0]=this.s;var r,n=this.DB-e*this.DB%8,i=0;if(e-- >0)for(n<this.DB&&(r=this[e]>>n)!=(this.s&this.DM)>>n&&(t[i++]=r|this.s<<this.DB-n);e>=0;)n<8?(r=(this[e]&(1<<n)-1)<<8-n,r|=this[--e]>>(n+=this.DB-8)):(r=this[e]>>(n-=8)&255,n<=0&&(n+=this.DB,--e)),0!=(128&r)&&(r|=-256),0==i&&(128&this.s)!=(128&r)&&++i,(i>0||r!=this.s)&&(t[i++]=r);return t},r.prototype.equals=function(e){return 0==this.compareTo(e)},r.prototype.min=function(e){return this.compareTo(e)<0?this:e},r.prototype.max=function(e){return this.compareTo(e)>0?this:e},r.prototype.and=function(e){var t=n();return this.bitwiseTo(e,p,t),t},r.prototype.or=function(e){var t=n();return this.bitwiseTo(e,g,t),t},r.prototype.xor=function(e){var t=n();return this.bitwiseTo(e,m,t),t},r.prototype.andNot=function(e){var t=n();return this.bitwiseTo(e,v,t),t},r.prototype.not=function(){for(var e=n(),t=0;t<this.t;++t)e[t]=this.DM&~this[t];return e.t=this.t,e.s=~this.s,e},r.prototype.shiftLeft=function(e){var t=n();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t},r.prototype.shiftRight=function(e){var t=n();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t},r.prototype.getLowestSetBit=function(){for(var e=0;e<this.t;++e)if(0!=this[e])return e*this.DB+y(this[e]);return this.s<0?this.t*this.DB:-1},r.prototype.bitCount=function(){for(var e=0,t=this.s&this.DM,r=0;r<this.t;++r)e+=_(this[r]^t);return e},r.prototype.testBit=function(e){var t=Math.floor(e/this.DB);return t>=this.t?0!=this.s:0!=(this[t]&1<<e%this.DB)},r.prototype.setBit=function(e){return this.changeBit(e,g)},r.prototype.clearBit=function(e){return this.changeBit(e,v)},r.prototype.flipBit=function(e){return this.changeBit(e,m)},r.prototype.add=function(e){var t=n();return this.addTo(e,t),t},r.prototype.subtract=function(e){var t=n();return this.subTo(e,t),t},r.prototype.multiply=function(e){var t=n();return this.multiplyTo(e,t),t},r.prototype.divide=function(e){var t=n();return this.divRemTo(e,t,null),t},r.prototype.remainder=function(e){var t=n();return this.divRemTo(e,null,t),t},r.prototype.divideAndRemainder=function(e){var t=n(),r=n();return this.divRemTo(e,t,r),new Array(t,r)},r.prototype.modPow=function(e,t){var r,i,o=e.bitLength(),s=c(1);if(o<=0)return s;r=o<18?1:o<48?3:o<144?4:o<768?5:6,i=o<8?new l(t):t.isEven()?new w(t):new d(t);var a=new Array,h=3,f=r-1,p=(1<<r)-1;if(a[1]=i.convert(this),r>1){var g=n();for(i.sqrTo(a[1],g);h<=p;)a[h]=n(),i.mulTo(g,a[h-2],a[h]),h+=2}var m,v,y=e.t-1,_=!0,E=n();for(o=u(e[y])-1;y>=0;){for(o>=f?m=e[y]>>o-f&p:(m=(e[y]&(1<<o+1)-1)<<f-o,y>0&&(m|=e[y-1]>>this.DB+o-f)),h=r;0==(1&m);)m>>=1,--h;if((o-=h)<0&&(o+=this.DB,--y),_)a[m].copyTo(s),_=!1;else{for(;h>1;)i.sqrTo(s,E),i.sqrTo(E,s),h-=2;h>0?i.sqrTo(s,E):(v=s,s=E,E=v),i.mulTo(E,a[m],s)}for(;y>=0&&0==(e[y]&1<<o);)i.sqrTo(s,E),v=s,s=E,E=v,--o<0&&(o=this.DB-1,--y)}return i.revert(s)},r.prototype.modInverse=function(e){var t=e.isEven();if(this.isEven()&&t||0==e.signum())return r.ZERO;for(var n=e.clone(),i=this.clone(),o=c(1),s=c(0),a=c(0),h=c(1);0!=n.signum();){for(;n.isEven();)n.rShiftTo(1,n),t?(o.isEven()&&s.isEven()||(o.addTo(this,o),s.subTo(e,s)),o.rShiftTo(1,o)):s.isEven()||s.subTo(e,s),s.rShiftTo(1,s);for(;i.isEven();)i.rShiftTo(1,i),t?(a.isEven()&&h.isEven()||(a.addTo(this,a),h.subTo(e,h)),a.rShiftTo(1,a)):h.isEven()||h.subTo(e,h),h.rShiftTo(1,h);n.compareTo(i)>=0?(n.subTo(i,n),t&&o.subTo(a,o),s.subTo(h,s)):(i.subTo(n,i),t&&a.subTo(o,a),h.subTo(s,h))}return 0!=i.compareTo(r.ONE)?r.ZERO:h.compareTo(e)>=0?h.subtract(e):h.signum()<0?(h.addTo(e,h),h.signum()<0?h.add(e):h):h},r.prototype.pow=function(e){return this.exp(e,new E)},r.prototype.gcd=function(e){var t=this.s<0?this.negate():this.clone(),r=e.s<0?e.negate():e.clone();if(t.compareTo(r)<0){var n=t;t=r,r=n}var i=t.getLowestSetBit(),o=r.getLowestSetBit();if(o<0)return t;for(i<o&&(o=i),o>0&&(t.rShiftTo(o,t),r.rShiftTo(o,r));t.signum()>0;)(i=t.getLowestSetBit())>0&&t.rShiftTo(i,t),(i=r.getLowestSetBit())>0&&r.rShiftTo(i,r),t.compareTo(r)>=0?(t.subTo(r,t),t.rShiftTo(1,t)):(r.subTo(t,r),r.rShiftTo(1,r));return o>0&&r.lShiftTo(o,r),r},r.prototype.isProbablePrime=function(e){var t,r=this.abs();if(1==r.t&&r[0]<=S[S.length-1]){for(t=0;t<S.length;++t)if(r[0]==S[t])return!0;return!1}if(r.isEven())return!1;for(t=1;t<S.length;){for(var n=S[t],i=t+1;i<S.length&&n<k;)n*=S[i++];for(n=r.modInt(n);t<i;)if(n%S[t++]==0)return!1}return r.millerRabin(e)},r.prototype.square=function(){var e=n();return this.squareTo(e),e},r.prototype.Barrett=w,e.exports=r},function(e,t,r){var n=r(18),i=r(123),o=r(6).Transform,s=r(4).inherits,a=r(4).inspect,h=r(124),f=r(11).readUInt32BE,c=r(11).writeUInt32BE,u=r(32),l=r(7),d=l.iv_inc,p=l.readString,g=l.readInt,m=l.DSASigBERToBare,v=l.ECDSASigASN1ToSSH,y=l.sigSSHToASN1,_=r(67).parseDERKey,E=u.CIPHER_INFO,b=u.HMAC_INFO,w=u.MESSAGE,S=u.DYNAMIC_KEXDH_MESSAGE,k=u.KEXDH_MESSAGE,A=u.ALGORITHMS,T=u.DISCONNECT_REASON,B=u.CHANNEL_OPEN_FAILURE,O=u.SSH_TO_OPENSSL,N=u.TERMINAL_MODE,R=u.SIGNALS,C=(u.EDDSA_SUPPORTED,u.BUGS),U=u.BUGGY_IMPLS,x=U.length,I=r(125).version,D=0,L=D++,P=D++,H=D++,M=D++,F=D++,G=D++,K=D++,z=D++,j=D++,q=D++,W=D++,X=4294967295,V=35e3,Y=2,Q=i.Z_PARTIAL_FLUSH,Z={flush:Q},$=/-(.+)$/,J=/^gex-/,ee=/\x00/g,te=Buffer.from("SSH-"),re=Buffer.allocUnsafe(0),ne=Buffer.allocUnsafe(9),ie=Buffer.from([w.GLOBAL_REQUEST,0,0,0,21,107,101,101,112,97,108,105,118,101,64,111,112,101,110,115,115,104,46,99,111,109,1]),oe=Buffer.from([w.NEWKEYS]),se=Buffer.from([w.USERAUTH_SUCCESS]),ae=Buffer.from([w.REQUEST_SUCCESS]),he=Buffer.from([w.REQUEST_FAILURE]),fe=Buffer.from([N.TTY_OP_END]),ce=Buffer.from([w.KEXDH_GEX_REQUEST,0,0,4,0,0,0,16,0,0,0,32,0]);function ue(e){}function le(e){"object"==typeof e&&null!==e||(e={}),o.call(this,{highWaterMark:"number"==typeof e.highWaterMark?e.highWaterMark:32768}),this._needContinue=!1,this.bytesSent=this.bytesReceived=0,this.debug="function"==typeof e.debug?e.debug:ue,this.server=!0===e.server,this.maxPacketSize="number"==typeof e.maxPacketSize?e.maxPacketSize:V,this.remoteBugs=0,this.server&&(this.remoteBugs=C.BAD_DHGEX),this.readable=!0;var t=this,r=e.hostKeys;if(this.server&&("object"!=typeof r||null===r))throw new Error("hostKeys must be an object keyed on host key type");if(this.config={hostKeys:r,ident:"SSH-2.0-"+(e.ident||"ssh2js"+I+(this.server?"srv":"")),algorithms:{kex:A.KEX,kexBuf:A.KEX_BUF,serverHostKey:A.SERVER_HOST_KEY,serverHostKeyBuf:A.SERVER_HOST_KEY_BUF,cipher:A.CIPHER,cipherBuf:A.CIPHER_BUF,hmac:A.HMAC,hmacBuf:A.HMAC_BUF,compress:A.COMPRESS,compressBuf:A.COMPRESS_BUF}},this.config.ident.replace(ee,""),this.config.ident.length+2>255)throw new Error("ident too long");if("object"==typeof e.algorithms&&null!==e.algorithms){var i=e.algorithms;Array.isArray(i.kex)&&i.kex.length>0&&(this.config.algorithms.kex=i.kex,Buffer.isBuffer(i.kexBuf)||(i.kexBuf=Buffer.from(i.kex.join(","),"ascii")),this.config.algorithms.kexBuf=i.kexBuf),Array.isArray(i.serverHostKey)&&i.serverHostKey.length>0&&(this.config.algorithms.serverHostKey=i.serverHostKey,Buffer.isBuffer(i.serverHostKeyBuf)||(i.serverHostKeyBuf=Buffer.from(i.serverHostKey.join(","),"ascii")),this.config.algorithms.serverHostKeyBuf=i.serverHostKeyBuf),Array.isArray(i.cipher)&&i.cipher.length>0&&(this.config.algorithms.cipher=i.cipher,Buffer.isBuffer(i.cipherBuf)||(i.cipherBuf=Buffer.from(i.cipher.join(","),"ascii")),this.config.algorithms.cipherBuf=i.cipherBuf),Array.isArray(i.hmac)&&i.hmac.length>0&&(this.config.algorithms.hmac=i.hmac,Buffer.isBuffer(i.hmacBuf)||(i.hmacBuf=Buffer.from(i.hmac.join(","),"ascii")),this.config.algorithms.hmacBuf=i.hmacBuf),Array.isArray(i.compress)&&i.compress.length>0&&(this.config.algorithms.compress=i.compress,Buffer.isBuffer(i.compressBuf)||(i.compressBuf=Buffer.from(i.compress.join(","),"ascii")),this.config.algorithms.compressBuf=i.compressBuf)}this.reset(!0),this.on("end",function(){t.readable=!1,t._state=void 0,t.reset(),t._state.outgoing.bufSeqno=void 0}),this.on("DISCONNECT",function(e,r,n,i){!function(e,t,r,n,i){if(r!==T.BY_APPLICATION){var o=new Error(n||t);o.code=r,e.emit("error",o)}e.reset()}(t,e,r,n)}),this.on("KEXINIT",function(e,r){!function(e,t,r){var i=e._state,o=i.outgoing;function s(){if(!0===function(e,t,r){var i,o,s,a,h=e._state,f=h.incoming,c=h.outgoing,u=e.debug;u("DEBUG: Comparing KEXINITs ...");var l=e.config.algorithms,d=l.kex;if(e.remoteBugs&C.BAD_DHGEX)for(var p=!1,g=d.length-1;g>=0;--g)-1!==d[g].indexOf("group-exchange")&&(p||(d=d.slice(),p=!0),d.splice(g,1));for(u("DEBUG: (local) KEX algorithms: "+d),u("DEBUG: (remote) KEX algorithms: "+t.algorithms.kex),e.server?(i=d,o=t.algorithms.kex):(i=t.algorithms.kex,o=d),a=0,s=o.length;a<s&&-1===i.indexOf(o[a]);++a);if(a===s)return u("DEBUG: No matching key exchange algorithm"),(m=new Error("Handshake failed: no matching key exchange algorithm")).level="handshake",e.emit("error",m),e.disconnect(T.KEY_EXCHANGE_FAILED),!1;var m,v=o[a];for(u("DEBUG: KEX algorithm: "+v),!r||t.algorithms.kex.length&&v===t.algorithms.kex[0]||(f.ignoreNext=!0),u("DEBUG: (local) Host key formats: "+l.serverHostKey),u("DEBUG: (remote) Host key formats: "+t.algorithms.srvHostKey),e.server?(i=l.serverHostKey,o=t.algorithms.srvHostKey):(i=t.algorithms.srvHostKey,o=l.serverHostKey),a=0,s=o.length;a<s&&-1===i.indexOf(o[a]);++a);if(a===s)return u("DEBUG: No matching host key format"),(m=new Error("Handshake failed: no matching host key format")).level="handshake",e.emit("error",m),e.disconnect(T.KEY_EXCHANGE_FAILED),!1;for(h.hostkeyFormat=o[a],u("DEBUG: Host key format: "+h.hostkeyFormat),u("DEBUG: (local) Client->Server ciphers: "+l.cipher),u("DEBUG: (remote) Client->Server ciphers: "+t.algorithms.cs.encrypt),e.server?(i=l.cipher,o=t.algorithms.cs.encrypt):(i=t.algorithms.cs.encrypt,o=l.cipher),a=0,s=o.length;a<s&&-1===i.indexOf(o[a]);++a);if(a===s)return u("DEBUG: No matching Client->Server cipher"),(m=new Error("Handshake failed: no matching client->server cipher")).level="handshake",e.emit("error",m),e.disconnect(T.KEY_EXCHANGE_FAILED),!1;for(u("DEBUG: Client->Server Cipher: "+(e.server?f.decrypt.type=o[a]:c.encrypt.type=o[a])),u("DEBUG: (local) Server->Client ciphers: "+l.cipher),u("DEBUG: (remote) Server->Client ciphers: "+t.algorithms.sc.encrypt),e.server?(i=l.cipher,o=t.algorithms.sc.encrypt):(i=t.algorithms.sc.encrypt,o=l.cipher),a=0,s=o.length;a<s&&-1===i.indexOf(o[a]);++a);if(a===s)return u("DEBUG: No matching Server->Client cipher"),(m=new Error("Handshake failed: no matching server->client cipher")).level="handshake",e.emit("error",m),e.disconnect(T.KEY_EXCHANGE_FAILED),!1;for(u("DEBUG: Server->Client Cipher: "+(e.server?c.encrypt.type=o[a]:f.decrypt.type=o[a])),u("DEBUG: (local) Client->Server HMAC algorithms: "+l.hmac),u("DEBUG: (remote) Client->Server HMAC algorithms: "+t.algorithms.cs.mac),e.server?(i=l.hmac,o=t.algorithms.cs.mac):(i=t.algorithms.cs.mac,o=l.hmac),a=0,s=o.length;a<s&&-1===i.indexOf(o[a]);++a);if(a===s)return u("DEBUG: No matching Client->Server HMAC algorithm"),(m=new Error("Handshake failed: no matching client->server HMAC")).level="handshake",e.emit("error",m),e.disconnect(T.KEY_EXCHANGE_FAILED),!1;for(u("DEBUG: Client->Server HMAC algorithm: "+(e.server?f.hmac.type=o[a]:c.hmac.type=o[a])),u("DEBUG: (local) Server->Client HMAC algorithms: "+l.hmac),u("DEBUG: (remote) Server->Client HMAC algorithms: "+t.algorithms.sc.mac),e.server?(i=l.hmac,o=t.algorithms.sc.mac):(i=t.algorithms.sc.mac,o=l.hmac),a=0,s=o.length;a<s&&-1===i.indexOf(o[a]);++a);if(a===s)return u("DEBUG: No matching Server->Client HMAC algorithm"),(m=new Error("Handshake failed: no matching server->client HMAC")).level="handshake",e.emit("error",m),e.disconnect(T.KEY_EXCHANGE_FAILED),!1;for(u("DEBUG: Server->Client HMAC algorithm: "+(e.server?c.hmac.type=o[a]:f.hmac.type=o[a])),u("DEBUG: (local) Client->Server compression algorithms: "+l.compress),u("DEBUG: (remote) Client->Server compression algorithms: "+t.algorithms.cs.compress),e.server?(i=l.compress,o=t.algorithms.cs.compress):(i=t.algorithms.cs.compress,o=l.compress),a=0,s=o.length;a<s&&-1===i.indexOf(o[a]);++a);if(a===s)return u("DEBUG: No matching Client->Server compression algorithm"),(m=new Error("Handshake failed: no matching client->server compression algorithm")).level="handshake",e.emit("error",m),e.disconnect(T.KEY_EXCHANGE_FAILED),!1;for(u("DEBUG: Client->Server compression algorithm: "+(e.server?f.decompress.type=o[a]:c.compress.type=o[a])),u("DEBUG: (local) Server->Client compression algorithms: "+l.compress),u("DEBUG: (remote) Server->Client compression algorithms: "+t.algorithms.sc.compress),e.server?(i=l.compress,o=t.algorithms.sc.compress):(i=t.algorithms.sc.compress,o=l.compress),a=0,s=o.length;a<s&&-1===i.indexOf(o[a]);++a);if(a===s)return u("DEBUG: No matching Server->Client compression algorithm"),(m=new Error("Handshake failed: no matching server->client compression algorithm")).level="handshake",e.emit("error",m),e.disconnect(T.KEY_EXCHANGE_FAILED),!1;switch(u("DEBUG: Server->Client compression algorithm: "+(e.server?c.compress.type=o[a]:f.decompress.type=o[a])),v){case"diffie-hellman-group1-sha1":h.kexdh="group",h.kex=n.getDiffieHellman("modp2");break;case"diffie-hellman-group14-sha1":h.kexdh="group",h.kex=n.getDiffieHellman("modp14");break;case"ecdh-sha2-nistp256":h.kexdh="ec-sha256",h.kex=n.createECDH(O[v]);break;case"ecdh-sha2-nistp384":h.kexdh="ec-sha384",h.kex=n.createECDH(O[v]);break;case"ecdh-sha2-nistp521":h.kexdh="ec-sha512",h.kex=n.createECDH(O[v]);break;default:"diffie-hellman-group-exchange-sha1"===v?h.kexdh="gex-sha1":"diffie-hellman-group-exchange-sha256"===v&&(h.kexdh="gex-sha256"),h.kex=void 0}if(h.kex){c.pubkey=h.kex.generateKeys();var y=0;for(s=c.pubkey.length;0===c.pubkey[y];)++y,--s;if(128&c.pubkey[y]){var _=Buffer.allocUnsafe(s+1);_[0]=0,c.pubkey.copy(_,1,y),c.pubkey=_}}return!0}(e,t,r)){var o=J.test(i.kexdh);e.server?i.incoming.expectedPacket=o?"KEXDH_GEX_REQ":"KEXDH_INIT":o?function(e){e._state.incoming.expectedPacket="KEXDH_GEX_GROUP",e.debug("DEBUG: Outgoing: Writing KEXDH_GEX_REQUEST"),we(e,ce,void 0,!0)}(e):be(e)}}o.status===q?(e.debug("DEBUG: Received re-key request"),o.status=W,o.kexinit=void 0,Ee(e,s)):s()}(t,e,r)}),this.on("NEWKEYS",function(){de(t)}),this.server?this.on("KEXDH_INIT",function(e){!function(e,t){!function(e,t){var r=e._state,i=r.outgoing,o=r.incoming,s=e.config.hostKeys[r.hostkeyFormat];Array.isArray(s)&&(s=s[0]);for(var a=s.getPublicSSH(),h=s.type,f=-1,u=0,l=t.length;u<l&&0===t[u];++u)++f;f>-1&&(t=t.slice(f+1));var d,p=ke(r.kex,t);if(p instanceof Error)return p.message="Error while computing DH secret ("+r.kexdh+"): "+p.message,p.level="handshake",e.emit("error",p),e.disconnect(T.KEY_EXCHANGE_FAILED),!1;d="group"===r.kexdh?"sha1":$.exec(r.kexdh)[1];for(var g=n.createHash(d),m=Buffer.byteLength(o.identRaw),v=Buffer.byteLength(e.config.ident),y=o.kexinit.length,_=i.kexinit.length,E=a.length,b=t.length,S=i.pubkey.length,k=p.length,A=0,B=0;0===i.pubkey[A];)++A,--S;for(;0===p[B];)++B,--k;128&t[0]&&++b,128&i.pubkey[A]&&++S,128&p[B]&&++k;var O,N,R=m+v+y+_+E+b+S+k+32,C=J.test(r.kexdh),U=0,x=0,I=0,D=0;if(C){for(O=r.kex.getPrime(),N=r.kex.getGenerator(),U=O.length,x=N.length;0===O[I];)++I,--U;for(;0===N[D];)++D,--x;128&O[I]&&++U,128&N[D]&&++x,R+=12,R+=8,R+=U,R+=x}var L=0,P=Buffer.allocUnsafe(R);c(P,m,L),L+=4,P.write(o.identRaw,L,"utf8"),c(P,v,L+=m),L+=4,P.write(e.config.ident,L,"utf8"),c(P,y,L+=v),L+=4,o.kexinit.copy(P,L),L+=y,o.kexinit=void 0,c(P,_,L),L+=4,i.kexinit.copy(P,L),L+=_,i.kexinit=void 0,c(P,E,L),L+=4,a.copy(P,L),L+=E,C&&(ce.slice(1).copy(P,L),c(P,U,L+=12),L+=4,128&O[I]&&(P[L++]=0),O.copy(P,L,I),L+=U-(128&O[I]?1:0),c(P,x,L),L+=4,128&N[D]&&(P[L++]=0),N.copy(P,L,D),L+=x-(128&N[D]?1:0)),c(P,b,L),L+=4,128&t[0]&&(P[L++]=0),t.copy(P,L),L+=b-(128&t[0]?1:0),c(P,S,L),L+=4,128&i.pubkey[A]&&(P[L++]=0),i.pubkey.copy(P,L,A),L+=S-(128&i.pubkey[A]?1:0),c(P,k,L),L+=4,128&p[B]&&(P[L++]=0),p.copy(P,L,B),i.exchangeHash=g.update(P).digest(),void 0===i.sessionId&&(i.sessionId=i.exchangeHash),i.kexsecret=p;var H=s.sign(i.exchangeHash);if(H instanceof Error)return H.message="Error while signing data with host key ("+h+"): "+H.message,H.level="handshake",e.emit("error",H),e.disconnect(T.KEY_EXCHANGE_FAILED),!1;if(!1===(H=Ae(H,h)))return H.message="Error while converting handshake signature",H.level="handshake",e.emit("error",H),e.disconnect(T.KEY_EXCHANGE_FAILED),!1;var M=4+h.length+4+H.length,F=Buffer.allocUnsafe(5+E+4+S+4+M);F[L=0]=C?w.KEXDH_GEX_REPLY:w.KEXDH_REPLY,c(F,E,++L),L+=4,a.copy(F,L),c(F,S,L+=E),L+=4,128&i.pubkey[A]&&(F[L++]=0),i.pubkey.copy(F,L,A),L+=S-(128&i.pubkey[A]?1:0),c(F,M,L),L+=4,c(F,h.length,L),L+=4,F.write(h,L,h.length,"ascii"),L+=h.length,c(F,H.length,L),L+=4,H.copy(F,L),r.incoming.expectedPacket="NEWKEYS",C?e.debug("DEBUG: Outgoing: Writing KEXDH_GEX_REPLY"):"group"!==r.kexdh?e.debug("DEBUG: Outgoing: Writing KEXECDH_REPLY"):e.debug("DEBUG: Outgoing: Writing KEXDH_REPLY"),we(e,F,void 0,!0),i.sentNEWKEYS=!0,e.debug("DEBUG: Outgoing: Writing NEWKEYS"),we(e,oe,void 0,!0)}(e,t)}(t,e)}):this.on("KEXDH_REPLY",function(e){!function e(t,r,i){var o,s,a=t._state,h=a.incoming,f=a.outgoing,u=t.debug;if(void 0===i){h.expectedPacket="NEWKEYS",f.sentNEWKEYS=!1,u("DEBUG: Checking host key format");var l=p(r.hostkey,0,"ascii",t);if(!1===l)return!1;if(r.hostkey_format!==a.hostkeyFormat||r.hostkey_format!==l)return u("DEBUG: Host key format mismatch"),t.disconnect(T.KEY_EXCHANGE_FAILED),t.reset(),(X=new Error("Handshake failed: host key format mismatch")).level="handshake",t.emit("error",X),!1;u("DEBUG: Checking signature format");var d=p(r.sig,0,"ascii",t);if(!1===d)return!1;if(r.sig_format!==d)return u("DEBUG: Signature format mismatch"),t.disconnect(T.KEY_EXCHANGE_FAILED),t.reset(),(X=new Error("Handshake failed: signature format mismatch")).level="handshake",t.emit("error",X),!1}if(f.status===j){if(void 0===i){u("DEBUG: Verifying host fingerprint");var g=!0,m=t.emit("fingerprint",r.hostkey,function(n){void 0===i&&(i=!!n,g||e(t,r,i))});if(g=!1,m&&void 0===i)return}if(void 0===i)u("DEBUG: Host accepted by default (no verification)");else{if(!0!==i)return u("DEBUG: Host denied via fingerprint verification"),t.disconnect(T.KEY_EXCHANGE_FAILED),t.reset(),(X=new Error("Handshake failed: host fingerprint verification failed")).level="handshake",t.emit("error",X),!1;u("DEBUG: Host accepted (verified)")}}var v,E=-1;for(s=0,o=r.pubkey.length;s<o&&0===r.pubkey[s];++s)++E;if(E>-1&&(r.pubkey=r.pubkey.slice(E+1)),r.secret=ke(a.kex,r.pubkey),r.secret instanceof Error)return r.secret.message="Error while computing DH secret ("+a.kexdh+"): "+r.secret.message,r.secret.level="handshake",t.emit("error",r.secret),t.disconnect(T.KEY_EXCHANGE_FAILED),!1;v="group"===a.kexdh?"sha1":$.exec(a.kexdh)[1];for(var b=n.createHash(v),w=Buffer.byteLength(t.config.ident),S=Buffer.byteLength(h.identRaw),k=f.kexinit.length,A=h.kexinit.length,B=r.hostkey.length,O=f.pubkey.length,N=r.pubkey.length,R=r.secret.length,C=0,U=0,x=0;0===f.pubkey[C];)++C,--O;for(;0===r.pubkey[U];)++U,--N;for(;0===r.secret[x];)++x,--R;128&f.pubkey[C]&&++O,128&r.pubkey[U]&&++N,128&r.secret[x]&&++R;var I,D,L=w+S+k+A+B+O+N+R+32,P=J.test(a.kexdh),H=0,M=0,F=0,G=0;if(P){for(I=a.kex.getPrime(),D=a.kex.getGenerator(),H=I.length,M=D.length;0===I[F];)++F,--H;for(;0===D[G];)++G,--M;128&I[F]&&++H,128&D[G]&&++M,L+=12,L+=8,L+=H,L+=M}var K=0,z=Buffer.allocUnsafe(L);c(z,w,K),K+=4,z.write(t.config.ident,K,"utf8"),c(z,S,K+=w),K+=4,z.write(h.identRaw,K,"utf8"),c(z,k,K+=S),K+=4,f.kexinit.copy(z,K),K+=k,f.kexinit=void 0,c(z,A,K),K+=4,h.kexinit.copy(z,K),K+=A,h.kexinit=void 0,c(z,B,K),K+=4,r.hostkey.copy(z,K),K+=B,P&&(ce.slice(1).copy(z,K),c(z,H,K+=12),K+=4,128&I[F]&&(z[K++]=0),I.copy(z,K,F),K+=H-(128&I[F]?1:0),c(z,M,K),K+=4,128&D[G]&&(z[K++]=0),D.copy(z,K,G),K+=M-(128&D[G]?1:0)),c(z,O,K),K+=4,128&f.pubkey[C]&&(z[K++]=0),f.pubkey.copy(z,K,C),K+=O-(128&f.pubkey[C]?1:0),c(z,N,K),K+=4,128&r.pubkey[U]&&(z[K++]=0),r.pubkey.copy(z,K,U),K+=N-(128&r.pubkey[U]?1:0),c(z,R,K),K+=4,128&r.secret[x]&&(z[K++]=0),r.secret.copy(z,K,x),f.exchangeHash=b.update(z).digest();var q=p(r.sig,r.sig._pos,t);if(!1===q||!(q=y(q,r.sig_format,t)))return!1;var X,V=_(r.hostkey,r.sig_format);return!(V instanceof Error)&&(u("DEBUG: Verifying signature"),V.verify(f.exchangeHash,q)?(void 0===f.sessionId&&(f.sessionId=f.exchangeHash),f.kexsecret=r.secret,u("DEBUG: Outgoing: Writing NEWKEYS"),f.status===W?we(t,oe,void 0,!0):we(t,oe),f.sentNEWKEYS=!0,void(void 0!==i&&void 0===h.expectedPacket&&de(t))):(u("DEBUG: Signature verification failed"),t.disconnect(T.KEY_EXCHANGE_FAILED),t.reset(),(X=new Error("Handshake failed: signature verification failed")).level="handshake",t.emit("error",X),!1))}(t,e)}).on("KEXDH_GEX_GROUP",function(e,r){!function(e,t,r){var i=e._state,o=i.outgoing;i.kex=n.createDiffieHellman(t,r),o.pubkey=i.kex.generateKeys();for(var s=0,a=o.pubkey.length;0===o.pubkey[s];)++s,--a;if(128&o.pubkey[s]){var h=Buffer.allocUnsafe(a+1);h[0]=0,o.pubkey.copy(h,1,s),o.pubkey=h}be(e)}(t,e,r)}),this.server&&("string"==typeof e.greeting&&e.greeting.length&&("\r\n"===e.greeting.slice(-2)?this.push(e.greeting):this.push(e.greeting+"\r\n")),"string"==typeof e.banner&&e.banner.length&&("\r\n"===e.banner.slice(-2)?this.banner=e.banner:this.banner=e.banner+"\r\n")),this.debug("DEBUG: Local ident: "+a(this.config.ident)),this.push(this.config.ident+"\r\n"),this._state.incoming.expectedPacket="KEXINIT"}function de(e){var t=e._state,r=t.outgoing,o=t.incoming;if(o.expectedPacket=void 0,r.sentNEWKEYS){for(var s=0,a=r.kexsecret.length;0===r.kexsecret[s];)++s,--a;var h,f=r.encrypt.info=E[r.encrypt.type],u=0;h="group"===t.kexdh?"sha1":$.exec(t.kexdh)[1];var l,d,p=(128&r.kexsecret[s]?1:0)+a,g=Buffer.allocUnsafe(4+p);if(t.authsQueue=[],c(g,p,u),u+=4,128&r.kexsecret[s]&&(g[u++]=0),r.kexsecret.copy(g,u,s),r.kexsecret=void 0,f.stream)l=re;else{for(l=n.createHash(h).update(g).update(r.exchangeHash).update(e.server?"B":"A","ascii").update(r.sessionId).digest();l.length<f.ivLen;)l=Buffer.concat([l,n.createHash(h).update(g).update(r.exchangeHash).update(l).digest()]);l.length>f.ivLen&&(l=l.slice(0,f.ivLen))}for(d=n.createHash(h).update(g).update(r.exchangeHash).update(e.server?"D":"C","ascii").update(r.sessionId).digest();d.length<f.keyLen;)d=Buffer.concat([d,n.createHash(h).update(g).update(r.exchangeHash).update(d).digest()]);if(d.length>f.keyLen&&(d=d.slice(0,f.keyLen)),f.authLen>0)r.encrypt.iv=l,r.encrypt.key=d,r.encrypt.instance=!0;else{var m=O[r.encrypt.type];r.encrypt.instance=n.createCipheriv(m,d,l),r.encrypt.instance.setAutoPadding(!1)}var v=o.decrypt.info=E[o.decrypt.type];if(v.stream)l=re;else{for(l=n.createHash(h).update(g).update(r.exchangeHash).update(e.server?"A":"B","ascii").update(r.sessionId).digest();l.length<v.ivLen;)l=Buffer.concat([l,n.createHash(h).update(g).update(r.exchangeHash).update(l).digest()]);l.length>v.ivLen&&(l=l.slice(0,v.ivLen))}for(o.decrypt.buf=Buffer.allocUnsafe(v.blockLen),d=n.createHash(h).update(g).update(r.exchangeHash).update(e.server?"C":"D","ascii").update(r.sessionId).digest();d.length<v.keyLen;)d=Buffer.concat([d,n.createHash(h).update(g).update(r.exchangeHash).update(d).digest()]);d.length>v.keyLen&&(d=d.slice(0,v.keyLen));var y,_=O[o.decrypt.type];o.decrypt.instance=n.createDecipheriv(_,d,l),o.decrypt.instance.setAutoPadding(!1),o.decrypt.iv=l,o.decrypt.key=d,f.discardLen>0&&(y=Buffer.alloc(f.discardLen),r.encrypt.instance.update(y)),v.discardLen>0&&(y&&y.length===v.discardLen||(y=Buffer.alloc(f.discardLen)),o.decrypt.instance.update(y));var w=r.hmac.info=b[r.hmac.type],S=o.hmac.info=b[o.hmac.type];if(0===f.authLen){for(d=n.createHash(h).update(g).update(r.exchangeHash).update(e.server?"F":"E","ascii").update(r.sessionId).digest();d.length<w.len;)d=Buffer.concat([d,n.createHash(h).update(g).update(r.exchangeHash).update(d).digest()]);d.length>w.len&&(d=d.slice(0,w.len)),r.hmac.key=d}else r.hmac.key=void 0;if(0===v.authLen){for(d=n.createHash(h).update(g).update(r.exchangeHash).update(e.server?"E":"F","ascii").update(r.sessionId).digest();d.length<S.len;)d=Buffer.concat([d,n.createHash(h).update(g).update(r.exchangeHash).update(d).digest()]);d.length>S.len&&(d=d.slice(0,S.len)),o.hmac.key=d}else o.hmac.key=void 0;var k=v.authLen||o.hmac.info.actualLen;if(o.hmac.buf&&o.hmac.buf.length===k||(o.hmac.buf=Buffer.allocUnsafe(k)),r.exchangeHash=void 0,"zlib"===r.compress.type?r.compress.instance=i.createDeflate(Z):"none"===r.compress.type&&(r.compress.instance=!1),"zlib"===o.decompress.type?o.decompress.instance=i.createInflate(Z):"none"===o.decompress.type&&(o.decompress.instance=!1),e.bytesSent=e.bytesReceived=0,r.status===W){r.status=q;var A=r.rekeyQueue,T=A.length,B=0;for(r.rekeyQueue=[];B<T;++B)Buffer.isBuffer(A[B])?we(e,A[B]):we(e,A[B][0],A[B][1]);T=(A=o.rekeyQueue).length,B=0,o.rekeyQueue=[];for(var N=o.seqno;B<T;++B){if(o.seqno=A[B][0],o.payload=A[B][1],!1===pe(e))return;if(o.status===L)return}o.seqno=N}else r.status=q,o.status===F&&(e.debug("DEBUG: Parser: IN_PACKETBEFORE (update) (expecting "+v.blockLen+")"),ye(e,Y,v.blockLen,o.decrypt.buf)),e.emit("ready")}}function pe(e,t){var r,n,o,s,a,h,u,l,d,m,v,_,E,b,A=e._state.incoming,O=e._state.outgoing,R=A.payload,U=A.seqno;if(++A.seqno>X&&(A.seqno=0),A.ignoreNext)return e.debug("DEBUG: Parser: Packet ignored"),void(A.ignoreNext=!1);var x=R[0];if(void 0===x)return!1;if(O.status!==q&&w[x]!==A.expectedPacket&&x<1&&x>4){e.debug("DEBUG: Parser: IN_PACKETDATAAFTER, expected: "+A.expectedPacket+" but got: "+w[x]),e.disconnect(T.PROTOCOL_ERROR);var I=new Error("Received unexpected packet");return I.level="protocol",e.emit("error",I),!1}if(x===w.CHANNEL_DATA){if(!1===(a=g(R,1,e,t)))return!1;if(!1===(h=p(R,5,e,t,32768)))return!1;e.debug("DEBUG: Parser: IN_PACKETDATAAFTER, packet: CHANNEL_DATA ("+a+")"),e.emit("CHANNEL_DATA:"+a,h)}else if(x===w.CHANNEL_EXTENDED_DATA){if(!1===(a=g(R,1,e,t)))return!1;var D=g(R,5,e,t);if(!1===D)return!1;if(!1===(h=p(R,9,e,t)))return!1;e.debug("DEBUG: Parser: IN_PACKETDATAAFTER, packet: CHANNEL_EXTENDED_DATA ("+a+")"),e.emit("CHANNEL_EXTENDED_DATA:"+a,D,h)}else if(x===w.CHANNEL_WINDOW_ADJUST){if(!1===(a=g(R,1,e,t)))return!1;var L=g(R,5,e,t);if(!1===L)return!1;e.debug("DEBUG: Parser: IN_PACKETDATAAFTER, packet: CHANNEL_WINDOW_ADJUST ("+a+", "+L+")"),e.emit("CHANNEL_WINDOW_ADJUST:"+a,L)}else if(x===w.CHANNEL_SUCCESS){if(!1===(a=g(R,1,e,t)))return!1;e.debug("DEBUG: Parser: IN_PACKETDATAAFTER, packet: CHANNEL_SUCCESS ("+a+")"),e.emit("CHANNEL_SUCCESS:"+a)}else if(x===w.CHANNEL_FAILURE){if(!1===(a=g(R,1,e,t)))return!1;e.debug("DEBUG: Parser: IN_PACKETDATAAFTER, packet: CHANNEL_FAILURE ("+a+")"),e.emit("CHANNEL_FAILURE:"+a)}else if(x===w.CHANNEL_EOF){if(!1===(a=g(R,1,e,t)))return!1;e.debug("DEBUG: Parser: IN_PACKETDATAAFTER, packet: CHANNEL_EOF ("+a+")"),e.emit("CHANNEL_EOF:"+a)}else if(x===w.CHANNEL_OPEN){var P,H=p(R,1,"ascii",e,t);if(!1===H)return!1;if(!1===(d=g(R,R._pos,e,t)))return!1;if(!1===(m=g(R,R._pos+=4,e,t)))return!1;if(!1===(v=g(R,R._pos+=4,e,t)))return!1;if(e.debug("DEBUG: Parser: IN_PACKETDATAAFTER, packet: CHANNEL_OPEN ("+d+", "+H+")"),"forwarded-tcpip"===H||"direct-tcpip"===H){var M=p(R,R._pos+=4,"ascii",e,t);if(!1===M)return!1;var F=g(R,R._pos,e,t);if(!1===F)return!1;if(!1===(u=p(R,R._pos+=4,"ascii",e,t)))return!1;if(!1===(l=g(R,R._pos,e,t)))return!1;P={type:H,sender:d,window:m,packetSize:v,data:{destIP:M,destPort:F,srcIP:u,srcPort:l}}}else if("forwarded-streamlocal@openssh.com"===H||"direct-streamlocal@openssh.com"===H){if(!1===(b=p(R,R._pos+=4,"utf8",e,t)))return!1;P={type:H,sender:d,window:m,packetSize:v,data:{socketPath:b}}}else if("x11"===H){if(!1===(u=p(R,R._pos+=4,"ascii",e,t)))return!1;if(!1===(l=g(R,R._pos,e,t)))return!1;P={type:H,sender:d,window:m,packetSize:v,data:{srcIP:u,srcPort:l}}}else P={type:H,sender:d,window:m,packetSize:v,data:{}};e.emit("CHANNEL_OPEN",P)}else if(x===w.CHANNEL_OPEN_CONFIRMATION){if(!1===(_=g(R,1,e,t)))return!1;if(!1===(d=g(R,5,e,t)))return!1;if(!1===(m=g(R,9,e,t)))return!1;if(!1===(v=g(R,13,e,t)))return!1;s={recipient:_,sender:d,window:m,packetSize:v},R.length>17&&(s.data=R.slice(17)),e.emit("CHANNEL_OPEN_CONFIRMATION:"+s.recipient,s)}else if(x===w.CHANNEL_OPEN_FAILURE){if(!1===(_=g(R,1,e,t)))return!1;var G=g(R,5,e,t);if(!1===G)return!1;if(!1===(E=p(R,9,"utf8",e,t)))return!1;if(!1===(n=p(R,R._pos,"utf8",e,t)))return!1;R._pos=9,s={recipient:_,reasonCode:G,reason:B[G],description:E,lang:n},e.emit("CHANNEL_OPEN_FAILURE:"+s.recipient,s)}else if(x===w.CHANNEL_CLOSE){if(!1===(a=g(R,1,e,t)))return!1;e.debug("DEBUG: Parser: IN_PACKETDATAAFTER, packet: CHANNEL_CLOSE ("+a+")"),e.emit("CHANNEL_CLOSE:"+a)}else if(x===w.IGNORE);else if(x===w.DISCONNECT){var K=g(R,1,e,t);if(!1===K)return!1;var z=T[K];if(!1===(E=p(R,5,"utf8",e,t)))return!1;R._pos<R.length&&(n=p(R,R._pos,"ascii",e,t)),e.debug("DEBUG: Parser: IN_PACKETDATAAFTER, packet: DISCONNECT ("+z+")"),e.emit("DISCONNECT",z,K,E,n)}else if(x===w.DEBUG){if(!1===(o=p(R,2,"utf8",e,t)))return!1;if(!1===(n=p(R,R._pos,"ascii",e,t)))return!1;e.emit("DEBUG",o,n)}else if(x===w.NEWKEYS)e.emit("NEWKEYS");else if(x===w.SERVICE_REQUEST){if(!1===(r=p(R,1,"ascii",e,t)))return!1;e.emit("SERVICE_REQUEST",r)}else if(x===w.SERVICE_ACCEPT){if(!1===(r=p(R,1,"ascii",e,t)))return!1;e.emit("SERVICE_ACCEPT",r)}else if(x===w.USERAUTH_REQUEST){var j=p(R,1,"utf8",e,t);if(!1===j)return!1;var W=p(R,R._pos,"ascii",e,t);if(!1===W)return!1;var V,Y=p(R,R._pos,"ascii",e,t);if(!1===Y)return!1;if("password"===Y){if(!1===(V=p(R,R._pos+1,"utf8",e,t)))return!1}else if("publickey"===Y||"hostbased"===Y){var Q,$,ee,te,re,ne,ie;if("publickey"===Y){if(void 0===(Q=R[R._pos++]))return!1;Q=0!==Q}if(!1===($=p(R,R._pos,"ascii",e,t)))return!1;if(!1===(ee=p(R,R._pos,e,t)))return!1;if(Q||"hostbased"===Y){if("hostbased"===Y){if(!1===(ne=p(R,R._pos,"ascii",e,t)))return!1;if(!1===(ie=p(R,R._pos,"utf8",e,t)))return!1}var oe=R._pos;if(!1===(te=p(R,oe,e,t)))return!1;if(te.length>4+$.length+4&&te.toString("ascii",4,4+$.length)===$&&(te=te.slice(4+$.length+4)),!1===(te=y(te,$,e,t)))return!1;re=Buffer.allocUnsafe(4+O.sessionId.length+oe),c(re,O.sessionId.length,0),O.sessionId.copy(re,4),R.copy(re,4+O.sessionId.length,0,oe)}V={keyAlgo:$,key:ee,signature:te,blob:re,localHostname:ne,localUsername:ie}}else if("keyboard-interactive"===Y){var se=g(R,R._pos,e,t);if(!1===se)return!1;if(!1===(V=p(R,R._pos+4+se,"utf8",e,t)))return!1}else"none"!==Y&&(V=R.slice(R._pos));e.debug("DEBUG: Parser: IN_PACKETDATAAFTER, packet: USERAUTH_REQUEST ("+Y+")"),e._state.authsQueue.push(Y),e.emit("USERAUTH_REQUEST",j,W,Y,V)}else if(x===w.USERAUTH_SUCCESS)"zlib@openssh.com"===O.compress.type&&(O.compress.instance=i.createDeflate(Z)),"zlib@openssh.com"===A.decompress.type&&(A.decompress.instance=i.createInflate(Z)),e._state.authsQueue.shift(),e.emit("USERAUTH_SUCCESS");else if(x===w.USERAUTH_FAILURE){var ae=p(R,1,"ascii",e,t);if(!1===ae)return!1;var he=R[R._pos];if(void 0===he)return!1;he=0!==he,ae=ae.split(","),e._state.authsQueue.shift(),e.emit("USERAUTH_FAILURE",ae,he)}else if(x===w.USERAUTH_BANNER){if(!1===(o=p(R,1,"utf8",e,t)))return!1;if(!1===(n=p(R,R._pos,"utf8",e,t)))return!1;e.emit("USERAUTH_BANNER",o,n)}else if(x===w.GLOBAL_REQUEST){var fe=p(R,1,"ascii",e,t);if(!1===fe)return e.debug("DEBUG: Parser: IN_PACKETDATAAFTER, packet: GLOBAL_REQUEST"),!1;e.debug("DEBUG: Parser: IN_PACKETDATAAFTER, packet: GLOBAL_REQUEST ("+fe+")");var ce,ue=R[R._pos++];if(void 0===ue)return!1;if(ue=0!==ue,"tcpip-forward"===fe||"cancel-tcpip-forward"===fe){var le=p(R,R._pos,"ascii",e,t);if(!1===le)return!1;var de=g(R,R._pos,e,t);if(!1===de)return!1;ce={bindAddr:le,bindPort:de}}else if("streamlocal-forward@openssh.com"===fe||"cancel-streamlocal-forward@openssh.com"===fe){if(!1===(b=p(R,R._pos,"utf8",e,t)))return!1;ce={socketPath:b}}else"no-more-sessions@openssh.com"===fe||(ce=R.slice(R._pos));e.emit("GLOBAL_REQUEST",fe,ue,ce)}else if(x===w.REQUEST_SUCCESS)R.length>1?e.emit("REQUEST_SUCCESS",R.slice(1)):e.emit("REQUEST_SUCCESS");else if(x===w.REQUEST_FAILURE)e.emit("REQUEST_FAILURE");else if(x===w.UNIMPLEMENTED);else{if(x===w.KEXINIT)return function(e,t){var r,n=e._state.incoming,i=n.payload,o={algorithms:{kex:void 0,srvHostKey:void 0,cs:{encrypt:void 0,mac:void 0,compress:void 0},sc:{encrypt:void 0,mac:void 0,compress:void 0}},languages:{cs:void 0,sc:void 0}};if(!1===(r=_e(i,17,e,t)))return!1;if(o.algorithms.kex=r,!1===(r=_e(i,i._pos,e,t)))return!1;if(o.algorithms.srvHostKey=r,!1===(r=_e(i,i._pos,e,t)))return!1;if(o.algorithms.cs.encrypt=r,!1===(r=_e(i,i._pos,e,t)))return!1;if(o.algorithms.sc.encrypt=r,!1===(r=_e(i,i._pos,e,t)))return!1;if(o.algorithms.cs.mac=r,!1===(r=_e(i,i._pos,e,t)))return!1;if(o.algorithms.sc.mac=r,!1===(r=_e(i,i._pos,e,t)))return!1;if(o.algorithms.cs.compress=r,!1===(r=_e(i,i._pos,e,t)))return!1;if(o.algorithms.sc.compress=r,!1===(r=_e(i,i._pos,e,t)))return!1;if(o.languages.cs=r,!1===(r=_e(i,i._pos,e,t)))return!1;o.languages.sc=r;var s=i._pos<i.length&&1===i[i._pos];n.kexinit=i,e.emit("KEXINIT",o,s)}(e,t);if(x===w.CHANNEL_REQUEST)return function(e,t){var r,n,i,o,s,a,h,c=e._state.incoming.payload,u=g(c,1,e,t);if(!1===u)return!1;var l=p(c,5,"ascii",e,t);if(!1===l)return!1;if("exit-status"===l){var d=g(c,++c._pos,e,t);if(!1===d)return!1;r={recipient:u,request:l,wantReply:!1,code:d}}else if("exit-signal"===l){var m;if(e.remoteBugs&C.OLD_EXIT){if(!1===(h=g(c,++c._pos,e,t)))return!1;switch(h){case 1:h="HUP";break;case 2:h="INT";break;case 3:h="QUIT";break;case 6:h="ABRT";break;case 9:h="KILL";break;case 14:h="ALRM";break;case 15:h="TERM";break;default:h="UNKNOWN ("+h+")"}m=!1}else{if(!1===(h=p(c,++c._pos,"ascii",e,t)))return!1;if(void 0===(m=c[c._pos++]))return!1;m=0!==m}var v=p(c,c._pos,"utf8",e,t);if(!1===v)return!1;var y=p(c,c._pos,"utf8",e,t);if(!1===y)return!1;r={recipient:u,request:l,wantReply:!1,signal:h,coredump:m,description:v,lang:y}}else if("pty-req"===l){if(void 0===(a=c[c._pos++]))return!1;a=0!==a;var _=p(c,c._pos,"ascii",e,t);if(!1===_)return!1;if(!1===(n=g(c,c._pos,e,t)))return!1;if(!1===(i=g(c,c._pos+=4,e,t)))return!1;if(!1===(o=g(c,c._pos+=4,e,t)))return!1;if(!1===(s=g(c,c._pos+=4,e,t)))return!1;var E=p(c,c._pos+=4,e,t);if(!1===E)return!1;E=function(e){for(var t,r={},n=0,i=e.length;n<i&&!((t=e[n])===N.TTY_OP_END||void 0===N[t]||n+5>i);n+=5)r[N[t]]=f(e,n+1);return r}(E),r={recipient:u,request:l,wantReply:a,term:_,cols:n,rows:i,width:o,height:s,modes:E}}else if("window-change"===l){if(!1===(n=g(c,++c._pos,e,t)))return!1;if(!1===(i=g(c,c._pos+=4,e,t)))return!1;if(!1===(o=g(c,c._pos+=4,e,t)))return!1;if(!1===(s=g(c,c._pos+=4,e,t)))return!1;r={recipient:u,request:l,wantReply:!1,cols:n,rows:i,width:o,height:s}}else if("x11-req"===l){if(void 0===(a=c[c._pos++]))return!1;a=0!==a;var b=c[c._pos++];if(void 0===b)return!1;b=0!==b;var w=p(c,c._pos,"ascii",e,t);if(!1===w)return!1;var S=p(c,c._pos,"binary",e,t);if(!1===S)return!1;var k=g(c,c._pos,e,t);if(!1===k)return!1;r={recipient:u,request:l,wantReply:a,single:b,protocol:w,cookie:S,screen:k}}else if("env"===l){if(void 0===(a=c[c._pos++]))return!1;a=0!==a;var A=p(c,c._pos,"utf8",e,t);if(!1===A)return!1;var T=p(c,c._pos,"utf8",e,t);if(!1===T)return!1;r={recipient:u,request:l,wantReply:a,key:A,val:T}}else if("shell"===l){if(void 0===(a=c[c._pos]))return!1;r={recipient:u,request:l,wantReply:a=0!==a}}else if("exec"===l){if(void 0===(a=c[c._pos++]))return!1;a=0!==a;var B=p(c,c._pos,"utf8",e,t);if(!1===B)return!1;r={recipient:u,request:l,wantReply:a,command:B}}else if("subsystem"===l){if(void 0===(a=c[c._pos++]))return!1;a=0!==a;var O=p(c,c._pos,"utf8",e,t);if(!1===O)return!1;r={recipient:u,request:l,wantReply:a,subsystem:O}}else if("signal"===l){if(!1===(h=p(c,++c._pos,"ascii",e,t)))return!1;r={recipient:u,request:l,wantReply:!1,signal:"SIG"+h}}else if("xon-xoff"===l){var R=c[++c._pos];if(void 0===R)return!1;r={recipient:u,request:l,wantReply:!1,clientControl:R=0!==R}}else if("auth-agent-req@openssh.com"===l){if(void 0===(a=c[c._pos]))return!1;r={recipient:u,request:l,wantReply:a=0!==a}}else{if(void 0===(a=c[c._pos]))return!1;r={recipient:u,request:l,wantReply:a=0!==a}}e.debug("DEBUG: Parser: IN_PACKETDATAAFTER, packet: CHANNEL_REQUEST ("+u+", "+l+")"),e.emit("CHANNEL_REQUEST:"+u,r)}(e,t);if(x>=30&&x<=49)return function(e,t,r){var n=e._state,i=n.incoming,o=i.payload,s=J.test(n.kexdh)?S[t]:k[t];if(n.outgoing.status===q||i.expectedPacket!==s)return e.debug("DEBUG: Parser: IN_PACKETDATAAFTER, expected: "+i.expectedPacket+" but got: "+s),e.disconnect(T.PROTOCOL_ERROR),(a=new Error("Received unexpected packet")).level="protocol",e.emit("error",a),!1;if(J.test(n.kexdh)){var a;if(e.server)return e.disconnect(T.PROTOCOL_ERROR),(a=new Error("DH group exchange not supported by server")).level="handshake",e.emit("error",a),!1;if(t===w.KEXDH_GEX_GROUP){var h=p(o,1,e,r);if(!1===h)return!1;var f=p(o,o._pos,e,r);if(!1===f)return!1;e.emit("KEXDH_GEX_GROUP",h,f)}else if(t===w.KEXDH_GEX_REPLY)return ge(e,r)}else if(t===w.KEXDH_INIT){var c=p(o,1,e,r);if(!1===c)return!1;e.emit("KEXDH_INIT",c)}else if(t===w.KEXDH_REPLY)return ge(e,r)}(e,x,t);if(x>=60&&x<=70)return function(e,t,r){var n,i,o,s=e._state,a=s.authsQueue[0],h=s.incoming.payload;if("password"===a){if(t===w.USERAUTH_PASSWD_CHANGEREQ){if(!1===(n=p(h,1,"utf8",e,r)))return!1;if(!1===(i=p(h,h._pos,"utf8",e,r)))return!1;e.emit("USERAUTH_PASSWD_CHANGEREQ",n,i)}}else if("keyboard-interactive"===a){if(t===w.USERAUTH_INFO_REQUEST){var f,c,u;if(!1===(f=p(h,1,"utf8",e,r)))return!1;if(!1===(c=p(h,h._pos,"utf8",e,r)))return!1;if(!1===(i=p(h,h._pos,"utf8",e,r)))return!1;if(!1===(u=g(h,h._pos,e,r)))return!1;h._pos+=4;for(var l=[],d=0;d<u;++d){if(!1===(o=p(h,h._pos,"utf8",e,r)))return!1;var m=h[h._pos++];if(void 0===m)return!1;m=0!==m,l.push({prompt:o,echo:m})}e.emit("USERAUTH_INFO_REQUEST",f,c,i,l)}else if(t===w.USERAUTH_INFO_RESPONSE){var v=g(h,1,e,r);if(!1===v)return!1;h._pos=5;for(var y=[],_=0;_<v;++_){if(!1===(o=p(h,h._pos,"utf8",e,r)))return!1;y.push(o)}e.emit("USERAUTH_INFO_RESPONSE",y)}}else if("publickey"===a){if(t===w.USERAUTH_PK_OK){var E=e._state.authsQueue;if(!E.length||"publickey"!==E[0])return;E.shift(),e.emit("USERAUTH_PK_OK")}}else if(void 0!==a){e.disconnect(T.PROTOCOL_ERROR);var b=new Error("Invalid authentication method: "+a);b.level="protocol",e.emit("error",b)}}(e,x,t);var pe=Buffer.allocUnsafe(5);pe[0]=w.UNIMPLEMENTED,c(pe,U,1),we(e,pe)}}function ge(e,t){var r=e._state.incoming.payload,n=p(r,1,e,t);if(!1===n)return!1;var i=p(r,r._pos,e,t);if(!1===i)return!1;var o=p(r,r._pos,e,t);if(!1===o)return!1;var s={hostkey:n,hostkey_format:void 0,pubkey:i,sig:o,sig_format:void 0},a=p(n,0,"ascii",e,t);if(!1===a)return!1;s.hostkey_format=a;var h=p(o,0,"ascii",e,t);if(!1===h)return!1;s.sig_format=h,e.emit("KEXDH_REPLY",s)}function me(e,t){var r=e._state.incoming,i=r.hmac;if(e.debug("DEBUG: Parser: Verifying MAC"),r.decrypt.info.authLen>0){var o=r.decrypt,s=o.instance;s.setAuthTag(t);var a=s.update(r.packet);return r.payload=a.slice(1,r.packet.length+4-a[0]),d(o.iv),o.instance=n.createDecipheriv(O[o.type],o.key,o.iv),o.instance.setAutoPadding(!1),!0}var h=n.createHmac(O[i.type],i.key);c(ne,r.seqno,0),c(ne,r.pktLen,4),ne[8]=r.padLen,h.update(ne),h.update(r.packet);var f=h.digest();return f.length>r.hmac.info.actualLen&&(f=f.slice(0,r.hmac.info.actualLen)),Te(f,t)}function ve(e,t){var r=e._state.incoming.decrypt.instance;return e.debug("DEBUG: Parser: Decrypting"),r.update(t)}function ye(e,t,r,n){var i=e._state.incoming.expect;i.amount=r,i.type=t,i.ptr=0,n?i.buf=n:r&&(i.buf=Buffer.allocUnsafe(r))}function _e(e,t,r,n){var i=p(e,t,"ascii",r,n);return!1!==i&&(i.length?i.split(","):[])}function Ee(e,t){return function(e,t){n.randomBytes(16,function e(r,i){if(r)return n.randomBytes(16,e);t&&t(i)})}(0,function(r){var n=e.config.algorithms,i=n.kexBuf;if(e.remoteBugs&C.BAD_DHGEX){for(var o=!1,s=n.kex,a=s.length-1;a>=0;--a)-1!==s[a].indexOf("group-exchange")&&(o||(s=s.slice(),o=!0),s.splice(a,1));o&&(i=Buffer.from(s.join(",")))}var h=n.serverHostKeyBuf,f=21+i.length+4+h.length+2*(4+n.cipherBuf.length)+2*(4+n.hmacBuf.length)+2*(4+n.compressBuf.length)+8+1+4,u=Buffer.allocUnsafe(f),l=17;u[0]=w.KEXINIT,!1!==r&&r.copy(u,1),c(u,i.length,l),l+=4,i.copy(u,l),l+=i.length,c(u,h.length,l),l+=4,h.copy(u,l),l+=h.length,c(u,n.cipherBuf.length,l),l+=4,n.cipherBuf.copy(u,l),l+=n.cipherBuf.length,c(u,n.cipherBuf.length,l),l+=4,n.cipherBuf.copy(u,l),l+=n.cipherBuf.length,c(u,n.hmacBuf.length,l),l+=4,n.hmacBuf.copy(u,l),l+=n.hmacBuf.length,c(u,n.hmacBuf.length,l),l+=4,n.hmacBuf.copy(u,l),l+=n.hmacBuf.length,c(u,n.compressBuf.length,l),l+=4,n.compressBuf.copy(u,l),l+=n.compressBuf.length,c(u,n.compressBuf.length,l),l+=4,n.compressBuf.copy(u,l),l+=n.compressBuf.length,u.fill(0,u.length-13),e.debug("DEBUG: Outgoing: Writing KEXINIT"),e._state.incoming.expectedPacket="KEXINIT";var d=e._state.outgoing;d.kexinit=u,d.status===q&&(d.status=W),we(e,u,t,!0)}),!0}function be(e){var t=e._state,r=t.outgoing,n=Buffer.allocUnsafe(5+r.pubkey.length);return J.test(t.kexdh)?(t.incoming.expectedPacket="KEXDH_GEX_REPLY",n[0]=w.KEXDH_GEX_INIT,e.debug("DEBUG: Outgoing: Writing KEXDH_GEX_INIT")):(t.incoming.expectedPacket="KEXDH_REPLY",n[0]=w.KEXDH_INIT,"group"!==t.kexdh?e.debug("DEBUG: Outgoing: Writing KEXECDH_INIT"):e.debug("DEBUG: Outgoing: Writing KEXDH_INIT")),c(n,r.pubkey.length,1),r.pubkey.copy(n,5),we(e,n,void 0,!0)}function we(e,t,r,n){var i=e._state;if(!i)return!1;var o=i.outgoing;if(o.status===W&&!n)return"function"==typeof r?o.rekeyQueue.push([t,r]):o.rekeyQueue.push(t),!1;if(e._readableState.ended||e._writableState.ended)return!1;var s=o.compress.instance;return s?(s.write(t),s.flush(Q,function(){e._readableState.ended||e._writableState.ended||Se(e,s.read(),r)}),!0):Se(e,t,r)}function Se(e,t,r){var i,o,s,a,h,f=e._state.outgoing,u=f.encrypt,l=f.hmac;if(i=t.length+9,!1!==u.instance)if(u.info.authLen>0){for(var p=1+t.length+4;p%u.info.blockLen!=0;)++p;o=p-1-t.length,i=4+p}else{var g=u.info.blockLen;o=(i+=(g-1)*i%g)-t.length-5}else o=(i+=7*i%8)-t.length-5;s=Buffer.allocUnsafe(i),c(s,i-4,0),s[4]=o,t.copy(s,5),n.randomBytes(o).copy(s,5+t.length),!1!==l.type&&l.key&&(a=n.createHmac(O[l.type],l.key),c(f.bufSeqno,f.seqno,0),a.update(f.bufSeqno),a.update(s),(a=a.digest()).length>l.info.actualLen&&(a=a.slice(0,l.info.actualLen)));var m,v=0;if(!1!==u.instance)if(u.info.authLen>0){var y=n.createCipheriv(O[u.type],u.key,u.iv);y.setAutoPadding(!1);var _=s.slice(0,4);y.setAAD(_),e.push(_),v+=_,m=y.update(s.slice(4)),e.push(m),v+=m.length;var E=y.final();E.length&&(e.push(E),v+=E.length);var b=y.getAuthTag();h=e.push(b),v+=b.length,d(u.iv)}else m=u.instance.update(s),e.push(m),v+=m.length,h=e.push(a),v+=a.length;else h=e.push(s),v=s.length;return e.bytesSent+=v,++f.seqno>X&&(f.seqno=0),r&&r(),h}function ke(e,t){try{return e.computeSecret(t)}catch(e){return e}}function Ae(e,t){switch(t){case"ssh-dss":return m(e);case"ecdsa-sha2-nistp256":case"ecdsa-sha2-nistp384":case"ecdsa-sha2-nistp521":return v(e)}return e}s(le,o),le.prototype.__read=o.prototype._read,le.prototype._read=function(e){return this._needContinue&&(this._needContinue=!1,this.emit("continue")),this.__read(e)},le.prototype.__push=o.prototype.push,le.prototype.push=function(e,t){var r=this.__push(e,t);return this._needContinue=!1===r,r},le.prototype._cleanup=function(e){this.reset(),this.debug("DEBUG: Parser: Malformed packet"),e&&e(new Error("Malformed packet"))},le.prototype._transform=function(e,t,r,n){var i,o,s,f,c=!1,u=!1,l=this._state,d=l.incoming,p=l.outgoing,m=d.expect,v=d.decrypt,y=d.decompress,_=e.length,E=0,b=this.debug,S=this,k=0,A=k;for(this.bytesReceived+=_;;){if(void 0!==m.type){if(k>=_)break;if(m.type===Y){E=_-k;var B=m.buf.length-m.ptr;B<=E?(e.copy(m.buf,m.ptr,k,k+B),k+=B,o=m.buf,m.buf=void 0,m.ptr=0,m.type=void 0):(e.copy(m.buf,m.ptr,k),m.ptr+=E,k+=E);continue}if(0===m.type){if(k+=d.search.push(e),void 0!==m.type)continue}else if(1===m.type){if(++m.ptr+4>255)return this.reset(),b("DEBUG: Parser: Identification string exceeded 255 characters"),r(new Error("Max identification string size exceeded"));if(10!==e[k]){++k===_&&A<k&&(void 0===m.buf?m.buf=e.toString("ascii",A,k):m.buf+=e.toString("ascii",A,k));continue}m.type=void 0,A<k&&(void 0===m.buf?m.buf=e.toString("ascii",A,k):m.buf+=e.toString("ascii",A,k)),o=m.buf,m.buf=void 0,++k}}if(d.status===L){if(!this.readable)return r();if(this.server)if(o){if(83!==o[0]||83!==o[1]||72!==o[2]||45!==o[3])return this.reset(),b("DEBUG: Parser: Bad identification start"),r(new Error("Bad identification start"));d.status=P,b("DEBUG: Parser: IN_INIT (waiting for rest of identification)")}else b("DEBUG: Parser: IN_INIT (waiting for identification begin)"),ye(this,Y,4);else{b("DEBUG: Parser: IN_INIT");var O=d.search=new h(te);O.on("info",function e(t,r,n,i){r&&(void 0===d.greeting?d.greeting=r.toString("binary",n,i):d.greeting+=r.toString("binary",n,i)),t&&(m.type=void 0,d.search.removeListener("info",e))}),O.maxMatches=1,ye(this,0),d.status=P}}else if(d.status===P)b("DEBUG: Parser: IN_GREETING"),d.search=void 0,A=k,ye(this,1),d.status=H;else{if(d.status===H){b("DEBUG: Parser: IN_HEADER"),13===o.charCodeAt(o.length-1)&&(o=o.slice(0,-1));var N=o.indexOf("-"),R=o.indexOf(" "),C={greeting:d.greeting,identRaw:"SSH-"+o,versions:{protocol:o.substr(0,N),software:-1===R?o.substring(N+1):o.substring(N+1,R)},comments:R>-1?o.substring(R+1):void 0};if(d.greeting=void 0,"1.99"!==C.versions.protocol&&"2.0"!==C.versions.protocol)return this.reset(),b("DEBUG: Parser: protocol version not supported: "+C.versions.protocol),r(new Error("Protocol version not supported"));if(this.emit("header",C),d.status===L)return;var I=C.identRaw,D=C.versions.software;this.debug("DEBUG: Remote ident: "+a(I));for(var j,V=0;V<x;++V)"string"==typeof(j=U[V])[0]?D===j[0]&&(this.remoteBugs|=j[1]):j[0].test(D)&&(this.remoteBugs|=j[1]);return d.identRaw=I,this.bytesReceived-=_-k,Ee(this,function(){k===_?r():S._transform(e.slice(k),t,r)}),void(d.status=M)}if(d.status===M)b("DEBUG: Parser: IN_PACKETBEFORE (expecting "+(i=v.instance?v.info.blockLen:8)+")"),ye(this,Y,i,v.buf),d.status=F;else if(d.status===F){if(b("DEBUG: Parser: IN_PACKET"),v.instance?((u=v.info.authLen>0)||(o=ve(this,o)),i=v.info.blockLen):(u=!1,i=8),!1===(f=g(o,0,this,r)))return;var Z,$=d.hmac.info,J=f+4+(Z=$?$.actualLen:0),ee=this.maxPacketSize;if(y.instance&&(ee+=5*(this.maxPacketSize/16384+1)+6),f>ee||J<16+Z||(f+(u?0:4))%i!=0)return this.disconnect(T.PROTOCOL_ERROR),b("DEBUG: Parser: Bad packet length ("+J+")"),r(new Error("Bad packet length"));d.pktLen=f;var ne=d.pktLen+4-i;if(u?(v.instance.setAAD(o.slice(0,4)),b("DEBUG: Parser: pktLen:"+d.pktLen+",remainLen:"+ne)):(d.padLen=o[4],b("DEBUG: Parser: pktLen:"+d.pktLen+",padLen:"+d.padLen+",remainLen:"+ne)),ne>0)d.pktExtra=u?o.slice(4):o.slice(5),ye(this,Y,ne),d.status=G;else{if(!(ne<0)){c=!0,d.status=G;continue}d.status=M}}else if(d.status===G){b("DEBUG: Parser: IN_PACKETDATA"),v.instance?(u=v.info.authLen>0,c?c=!1:u||(o=ve(this,o))):(u=!1,c=!1);var ie=d.pktLen-d.padLen-1;if(d.pktExtra?(s=Buffer.allocUnsafe(d.pktExtra.length+o.length),d.pktExtra.copy(s),o.copy(s,d.pktExtra.length),d.payload=s.slice(0,ie)):(s=u?o.slice(4):o.slice(5),d.payload=o.slice(5,5+ie)),void 0!==d.hmac.info){var oe=v.info.authLen||d.hmac.info.actualLen;b("DEBUG: Parser: HMAC size:"+oe),ye(this,Y,oe,d.hmac.buf),d.status=K,d.packet=s}else d.status=z;d.pktExtra=void 0,s=void 0}else if(d.status===K){if(b("DEBUG: Parser: IN_PACKETDATAVERIFY"),!me(this,o))return this.reset(),b("DEBUG: Parser: IN_PACKETDATAVERIFY (Invalid HMAC)"),r(new Error("Invalid HMAC"));b("DEBUG: Parser: IN_PACKETDATAVERIFY (Valid HMAC)"),d.status=z,d.packet=void 0}else if(d.status===z){if(y.instance){if(!n){b("DEBUG: Parser: Decompressing"),y.instance.write(d.payload);var se=[],ae=0;return void y.instance.on("readable",function(){for(var e;e=this.read();)se.push(e),ae+=e.length}).flush(Q,function(){var n;y.instance.removeAllListeners("readable"),1===se.length?d.payload=se[0]:d.payload=Buffer.concat(se,ae),se=null,n=k===_?re:e.slice(k),S._transform(n,t,r,!0)})}n=!1}this.emit("packet");var he=d.payload[0];if(b!==ue){var fe="DEBUG: Parser: IN_PACKETDATAAFTER, packet: ",ce=l.kexdh,le=l.authsQueue[0],de=null;p.status!==W||he<=4||he>=20&&he<=49||(fe+="(enqueued) "),he===w.KEXDH_INIT?de="group"===ce?"KEXDH_INIT":"e"===ce[0]?"KEXECDH_INIT":"KEXDH_GEX_REQUEST":he===w.KEXDH_REPLY?de="group"===ce?"KEXDH_REPLY":"e"===ce[0]?"KEXECDH_REPLY":"KEXDH_GEX_GROUP":he===w.KEXDH_GEX_GROUP?de="KEXDH_GEX_GROUP":he===w.KEXDH_GEX_REPLY?de="KEXDH_GEX_REPLY":60===he?de="password"===le?"USERAUTH_PASSWD_CHANGEREQ":"keyboard-interactive"===le?"USERAUTH_INFO_REQUEST":"publickey"===le?"USERAUTH_PK_OK":"UNKNOWN PACKET 60":61===he&&(de="keyboard-interactive"===le?"USERAUTH_INFO_RESPONSE":"UNKNOWN PACKET 61"),null===de&&(de=w[he]),he!==w.CHANNEL_OPEN&&he!==w.CHANNEL_REQUEST&&he!==w.CHANNEL_SUCCESS&&he!==w.CHANNEL_FAILURE&&he!==w.CHANNEL_EOF&&he!==w.CHANNEL_CLOSE&&he!==w.CHANNEL_DATA&&he!==w.CHANNEL_EXTENDED_DATA&&he!==w.CHANNEL_WINDOW_ADJUST&&he!==w.DISCONNECT&&he!==w.USERAUTH_REQUEST&&he!==w.GLOBAL_REQUEST&&b(fe+de)}if(p.status===q||he<=4||he>=20&&he<=49){if(!1===pe(this,r))return;if(d.status===L)return}else if(p.status===W){if(50===d.rekeyQueue.length)return b("DEBUG: Parser: Max incoming re-key queue length reached"),this.disconnect(T.PROTOCOL_ERROR),r(new Error("Incoming re-key queue length limit reached"));var ge=d.seqno;++d.seqno>X&&(d.seqno=0),d.rekeyQueue.push(ge,d.payload)}d.status=M,d.payload=void 0}}void 0!==o&&(o=void 0)}r()},le.prototype.reset=function(e){if(this._state){var t=this._state;t.incoming.status=L,t.outgoing.status=j}else this._state={authsQueue:[],hostkeyFormat:void 0,kex:void 0,kexdh:void 0,incoming:{status:L,expectedPacket:void 0,search:void 0,greeting:void 0,seqno:0,pktLen:void 0,padLen:void 0,pktExtra:void 0,payload:void 0,packet:void 0,kexinit:void 0,identRaw:void 0,rekeyQueue:[],ignoreNext:!1,expect:{amount:void 0,type:void 0,ptr:0,buf:void 0},decrypt:{instance:!1,info:void 0,iv:void 0,key:void 0,buf:void 0,type:void 0},hmac:{info:void 0,key:void 0,buf:void 0,type:!1},decompress:{instance:!1,type:!1}},outgoing:{status:j,seqno:0,bufSeqno:Buffer.allocUnsafe(4),rekeyQueue:[],kexinit:void 0,kexsecret:void 0,pubkey:void 0,exchangeHash:void 0,sessionId:void 0,sentNEWKEYS:!1,encrypt:{instance:!1,info:void 0,iv:void 0,key:void 0,type:void 0},hmac:{info:void 0,key:void 0,buf:void 0,type:!1},compress:{instance:!1,type:!1}}};e||this.readable&&this.push(null)},le.prototype.disconnect=function(e){var t=Buffer.alloc(13);return t[0]=w.DISCONNECT,void 0===T[e]&&(e=T.BY_APPLICATION),c(t,e,1),this.debug("DEBUG: Outgoing: Writing DISCONNECT ("+T[e]+")"),we(this,t),this.reset(),!1},le.prototype.ping=function(){return this.debug("DEBUG: Outgoing: Writing ping (GLOBAL_REQUEST: keepalive@openssh.com)"),we(this,ie)},le.prototype.rekey=function(){var e=this._state.outgoing.status;if(e===W)throw new Error("A re-key is already in progress");if(e!==q)throw new Error("Cannot re-key yet");return this.debug("DEBUG: Outgoing: Starting re-key"),Ee(this)},le.prototype.requestSuccess=function(e){var t;return Buffer.isBuffer(e)?((t=Buffer.allocUnsafe(1+e.length))[0]=w.REQUEST_SUCCESS,e.copy(t,1)):t=ae,this.debug("DEBUG: Outgoing: Writing REQUEST_SUCCESS"),we(this,t)},le.prototype.requestFailure=function(){return this.debug("DEBUG: Outgoing: Writing REQUEST_FAILURE"),we(this,he)},le.prototype.channelSuccess=function(e){var t=Buffer.allocUnsafe(5);return t[0]=w.CHANNEL_SUCCESS,c(t,e,1),this.debug("DEBUG: Outgoing: Writing CHANNEL_SUCCESS ("+e+")"),we(this,t)},le.prototype.channelFailure=function(e){var t=Buffer.allocUnsafe(5);return t[0]=w.CHANNEL_FAILURE,c(t,e,1),this.debug("DEBUG: Outgoing: Writing CHANNEL_FAILURE ("+e+")"),we(this,t)},le.prototype.channelEOF=function(e){var t=Buffer.allocUnsafe(5);return t[0]=w.CHANNEL_EOF,c(t,e,1),this.debug("DEBUG: Outgoing: Writing CHANNEL_EOF ("+e+")"),we(this,t)},le.prototype.channelClose=function(e){var t=Buffer.allocUnsafe(5);return t[0]=w.CHANNEL_CLOSE,c(t,e,1),this.debug("DEBUG: Outgoing: Writing CHANNEL_CLOSE ("+e+")"),we(this,t)},le.prototype.channelWindowAdjust=function(e,t){var r=Buffer.allocUnsafe(9);return r[0]=w.CHANNEL_WINDOW_ADJUST,c(r,e,1),c(r,t,5),this.debug("DEBUG: Outgoing: Writing CHANNEL_WINDOW_ADJUST ("+e+", "+t+")"),we(this,r)},le.prototype.channelData=function(e,t){var r=Buffer.isBuffer(t),n=r?t.length:Buffer.byteLength(t),i=Buffer.allocUnsafe(9+n);return i[0]=w.CHANNEL_DATA,c(i,e,1),c(i,n,5),r?t.copy(i,9):i.write(t,9,n,"utf8"),this.debug("DEBUG: Outgoing: Writing CHANNEL_DATA ("+e+")"),we(this,i)},le.prototype.channelExtData=function(e,t,r){var n=Buffer.isBuffer(t),i=n?t.length:Buffer.byteLength(t),o=Buffer.allocUnsafe(13+i);return o[0]=w.CHANNEL_EXTENDED_DATA,c(o,e,1),c(o,r,5),c(o,i,9),n?t.copy(o,13):o.write(t,13,i,"utf8"),this.debug("DEBUG: Outgoing: Writing CHANNEL_EXTENDED_DATA ("+e+")"),we(this,o)},le.prototype.channelOpenConfirm=function(e,t,r,n){var i=Buffer.allocUnsafe(17);return i[0]=w.CHANNEL_OPEN_CONFIRMATION,c(i,e,1),c(i,t,5),c(i,r,9),c(i,n,13),this.debug("DEBUG: Outgoing: Writing CHANNEL_OPEN_CONFIRMATION (r:"+e+", l:"+t+")"),we(this,i)},le.prototype.channelOpenFail=function(e,t,r,n){"string"!=typeof r&&(r=""),"string"!=typeof n&&(n="");var i=Buffer.byteLength(r),o=Buffer.byteLength(n),s=9,a=Buffer.allocUnsafe(13+i+4+o);return a[0]=w.CHANNEL_OPEN_FAILURE,c(a,e,1),c(a,t,5),c(a,i,s),s+=4,i&&(a.write(r,s,i,"utf8"),s+=i),c(a,o,s),o&&a.write(n,s+=4,o,"ascii"),this.debug("DEBUG: Outgoing: Writing CHANNEL_OPEN_FAILURE ("+e+")"),we(this,a)},le.prototype.service=function(e){if(this.server)throw new Error("Client-only method called in server mode");var t=Buffer.byteLength(e),r=Buffer.allocUnsafe(5+t);return r[0]=w.SERVICE_REQUEST,c(r,t,1),r.write(e,5,t,"ascii"),this.debug("DEBUG: Outgoing: Writing SERVICE_REQUEST ("+e+")"),we(this,r)},le.prototype.tcpipForward=function(e,t,r){if(this.server)throw new Error("Client-only method called in server mode");var n=Buffer.byteLength(e),i=Buffer.allocUnsafe(23+n+4);return i[0]=w.GLOBAL_REQUEST,c(i,13,1),i.write("tcpip-forward",5,13,"ascii"),i[18]=void 0===r||!0===r?1:0,c(i,n,19),i.write(e,23,n,"ascii"),c(i,t,23+n),this.debug("DEBUG: Outgoing: Writing GLOBAL_REQUEST (tcpip-forward)"),we(this,i)},le.prototype.cancelTcpipForward=function(e,t,r){if(this.server)throw new Error("Client-only method called in server mode");var n=Buffer.byteLength(e),i=Buffer.allocUnsafe(30+n+4);return i[0]=w.GLOBAL_REQUEST,c(i,20,1),i.write("cancel-tcpip-forward",5,20,"ascii"),i[25]=void 0===r||!0===r?1:0,c(i,n,26),i.write(e,30,n,"ascii"),c(i,t,30+n),this.debug("DEBUG: Outgoing: Writing GLOBAL_REQUEST (cancel-tcpip-forward)"),we(this,i)},le.prototype.openssh_streamLocalForward=function(e,t){if(this.server)throw new Error("Client-only method called in server mode");var r=Buffer.byteLength(e),n=Buffer.allocUnsafe(41+r);return n[0]=w.GLOBAL_REQUEST,c(n,31,1),n.write("streamlocal-forward@openssh.com",5,31,"ascii"),n[36]=void 0===t||!0===t?1:0,c(n,r,37),n.write(e,41,r,"utf8"),this.debug("DEBUG: Outgoing: Writing GLOBAL_REQUEST (streamlocal-forward@openssh.com)"),we(this,n)},le.prototype.openssh_cancelStreamLocalForward=function(e,t){if(this.server)throw new Error("Client-only method called in server mode");var r=Buffer.byteLength(e),n=Buffer.allocUnsafe(48+r);return n[0]=w.GLOBAL_REQUEST,c(n,38,1),n.write("cancel-streamlocal-forward@openssh.com",5,38,"ascii"),n[43]=void 0===t||!0===t?1:0,c(n,r,44),n.write(e,48,r,"utf8"),this.debug("DEBUG: Outgoing: Writing GLOBAL_REQUEST (cancel-streamlocal-forward@openssh.com)"),we(this,n)},le.prototype.directTcpip=function(e,t,r,n){if(this.server)throw new Error("Client-only method called in server mode");var i=Buffer.byteLength(n.srcIP),o=Buffer.byteLength(n.dstIP),s=29,a=Buffer.allocUnsafe(33+i+4+4+o+4);return a[0]=w.CHANNEL_OPEN,c(a,12,1),a.write("direct-tcpip",5,12,"ascii"),c(a,e,17),c(a,t,21),c(a,r,25),c(a,o,s),a.write(n.dstIP,s+=4,o,"ascii"),c(a,n.dstPort,s+=o),c(a,i,s+=4),a.write(n.srcIP,s+=4,i,"ascii"),c(a,n.srcPort,s+=i),this.debug("DEBUG: Outgoing: Writing CHANNEL_OPEN ("+e+", direct-tcpip)"),we(this,a)},le.prototype.openssh_directStreamLocal=function(e,t,r,n){if(this.server)throw new Error("Client-only method called in server mode");var i=Buffer.byteLength(n.socketPath),o=47,s=Buffer.allocUnsafe(51+i+4+4);return s[0]=w.CHANNEL_OPEN,c(s,30,1),s.write("direct-streamlocal@openssh.com",5,30,"ascii"),c(s,e,35),c(s,t,39),c(s,r,43),c(s,i,o),s.write(n.socketPath,o+=4,i,"utf8"),s.fill(0,s.length-8),this.debug("DEBUG: Outgoing: Writing CHANNEL_OPEN ("+e+", direct-streamlocal@openssh.com)"),we(this,s)},le.prototype.openssh_noMoreSessions=function(e){if(this.server)throw new Error("Client-only method called in server mode");var t=Buffer.allocUnsafe(34);return t[0]=w.GLOBAL_REQUEST,c(t,28,1),t.write("no-more-sessions@openssh.com",5,28,"ascii"),t[33]=void 0===e||!0===e?1:0,this.debug("DEBUG: Outgoing: Writing GLOBAL_REQUEST (no-more-sessions@openssh.com)"),we(this,t)},le.prototype.session=function(e,t,r){if(this.server)throw new Error("Client-only method called in server mode");var n=Buffer.allocUnsafe(24);return n[0]=w.CHANNEL_OPEN,c(n,7,1),n.write("session",5,7,"ascii"),c(n,e,12),c(n,t,16),c(n,r,20),this.debug("DEBUG: Outgoing: Writing CHANNEL_OPEN ("+e+", session)"),we(this,n)},le.prototype.windowChange=function(e,t,r,n,i){if(this.server)throw new Error("Client-only method called in server mode");var o=Buffer.allocUnsafe(39);return o[0]=w.CHANNEL_REQUEST,c(o,e,1),c(o,13,5),o.write("window-change",9,13,"ascii"),o[22]=0,c(o,r,23),c(o,t,27),c(o,i,31),c(o,n,35),this.debug("DEBUG: Outgoing: Writing CHANNEL_REQUEST ("+e+", window-change)"),we(this,o)},le.prototype.pty=function(e,t,r,n,i,o,s,a){if(this.server)throw new Error("Client-only method called in server mode");o&&o.length||(o="vt100"),!s||Buffer.isBuffer(s)||Array.isArray(s)||"object"!=typeof s||(s=function(e){for(var t,r,n,i=/^\d+$/,o=Object.keys(e),s=0,a=[],h=0,f=o.length;h<f;++h)t=o[h],(r=N[t])&&!i.test(t)&&"number"==typeof e[t]&&"TTY_OP_END"!==t&&(n=e[t],a[s++]=r,a[s++]=n>>>24&255,a[s++]=n>>>16&255,a[s++]=n>>>8&255,a[s++]=255&n);return a[s]=N.TTY_OP_END,a}(s)),s&&s.length||(s=fe);var h=o.length,f=s.length,u=21,l=Buffer.allocUnsafe(21+h+4+4+4+4+4+f);if(l[0]=w.CHANNEL_REQUEST,c(l,e,1),c(l,7,5),l.write("pty-req",9,7,"ascii"),l[16]=void 0===a||!0===a?1:0,c(l,h,17),l.write(o,21,h,"utf8"),c(l,r,u+=h),c(l,t,u+=4),c(l,i,u+=4),c(l,n,u+=4),c(l,f,u+=4),u+=4,Array.isArray(s))for(var d=0;d<f;++d)l[u++]=s[d];else Buffer.isBuffer(s)&&s.copy(l,u);return this.debug("DEBUG: Outgoing: Writing CHANNEL_REQUEST ("+e+", pty-req)"),we(this,l)},le.prototype.shell=function(e,t){if(this.server)throw new Error("Client-only method called in server mode");var r=Buffer.allocUnsafe(15);return r[0]=w.CHANNEL_REQUEST,c(r,e,1),c(r,5,5),r.write("shell",9,5,"ascii"),r[14]=void 0===t||!0===t?1:0,this.debug("DEBUG: Outgoing: Writing CHANNEL_REQUEST ("+e+", shell)"),we(this,r)},le.prototype.exec=function(e,t,r){if(this.server)throw new Error("Client-only method called in server mode");var n=Buffer.isBuffer(t)?t.length:Buffer.byteLength(t),i=Buffer.allocUnsafe(18+n);return i[0]=w.CHANNEL_REQUEST,c(i,e,1),c(i,4,5),i.write("exec",9,4,"ascii"),i[13]=void 0===r||!0===r?1:0,c(i,n,14),Buffer.isBuffer(t)?t.copy(i,18):i.write(t,18,n,"utf8"),this.debug("DEBUG: Outgoing: Writing CHANNEL_REQUEST ("+e+", exec)"),we(this,i)},le.prototype.signal=function(e,t){if(this.server)throw new Error("Client-only method called in server mode");if("SIG"===(t=t.toUpperCase()).slice(0,3)&&(t=t.substring(3)),-1===R.indexOf(t))throw new Error("Invalid signal: "+t);var r=t.length,n=Buffer.allocUnsafe(20+r);return n[0]=w.CHANNEL_REQUEST,c(n,e,1),c(n,6,5),n.write("signal",9,6,"ascii"),n[15]=0,c(n,r,16),n.write(t,20,r,"ascii"),this.debug("DEBUG: Outgoing: Writing CHANNEL_REQUEST ("+e+", signal)"),we(this,n)},le.prototype.env=function(e,t,r,n){if(this.server)throw new Error("Client-only method called in server mode");var i=Buffer.byteLength(t),o=Buffer.isBuffer(r)?r.length:Buffer.byteLength(r),s=Buffer.allocUnsafe(17+i+4+o);return s[0]=w.CHANNEL_REQUEST,c(s,e,1),c(s,3,5),s.write("env",9,3,"ascii"),s[12]=void 0===n||!0===n?1:0,c(s,i,13),s.write(t,17,i,"ascii"),c(s,o,17+i),Buffer.isBuffer(r)?r.copy(s,17+i+4):s.write(r,17+i+4,o,"utf8"),this.debug("DEBUG: Outgoing: Writing CHANNEL_REQUEST ("+e+", env)"),we(this,s)},le.prototype.x11Forward=function(e,t,r){if(this.server)throw new Error("Client-only method called in server mode");var n=Buffer.byteLength(t.protocol),i=Buffer.byteLength(t.cookie),o=Buffer.allocUnsafe(22+n+4+i+4);o[0]=w.CHANNEL_REQUEST,c(o,e,1),c(o,7,5),o.write("x11-req",9,7,"ascii"),o[16]=void 0===r||!0===r?1:0,o[17]=t.single?1:0,c(o,n,18);var s=22;return Buffer.isBuffer(t.protocol)?t.protocol.copy(o,s):o.write(t.protocol,s,n,"utf8"),c(o,i,s+=n),s+=4,Buffer.isBuffer(t.cookie)?t.cookie.copy(o,s):o.write(t.cookie,s,i,"binary"),s+=i,c(o,t.screen||0,s),this.debug("DEBUG: Outgoing: Writing CHANNEL_REQUEST ("+e+", x11-req)"),we(this,o)},le.prototype.subsystem=function(e,t,r){if(this.server)throw new Error("Client-only method called in server mode");var n=Buffer.byteLength(t),i=Buffer.allocUnsafe(23+n);return i[0]=w.CHANNEL_REQUEST,c(i,e,1),c(i,9,5),i.write("subsystem",9,9,"ascii"),i[18]=void 0===r||!0===r?1:0,c(i,n,19),i.write(t,23,n,"ascii"),this.debug("DEBUG: Outgoing: Writing CHANNEL_REQUEST ("+e+", subsystem: "+t+")"),we(this,i)},le.prototype.openssh_agentForward=function(e,t){if(this.server)throw new Error("Client-only method called in server mode");var r=Buffer.allocUnsafe(36);return r[0]=w.CHANNEL_REQUEST,c(r,e,1),c(r,26,5),r.write("auth-agent-req@openssh.com",9,26,"ascii"),r[35]=void 0===t||!0===t?1:0,this.debug("DEBUG: Outgoing: Writing CHANNEL_REQUEST ("+e+", auth-agent-req@openssh.com)"),we(this,r)},le.prototype.authPassword=function(e,t){if(this.server)throw new Error("Client-only method called in server mode");var r=Buffer.byteLength(e),n=Buffer.byteLength(t),i=0,o=Buffer.allocUnsafe(5+r+4+14+4+8+1+4+n);return o[i]=w.USERAUTH_REQUEST,c(o,r,++i),o.write(e,i+=4,r,"utf8"),c(o,14,i+=r),o.write("ssh-connection",i+=4,14,"ascii"),c(o,8,i+=14),o.write("password",i+=4,8,"ascii"),o[i+=8]=0,c(o,n,++i),o.write(t,i+=4,n,"utf8"),this._state.authsQueue.push("password"),this.debug("DEBUG: Outgoing: Writing USERAUTH_REQUEST (password)"),we(this,o)},le.prototype.authPK=function(e,t,r){if(this.server)throw new Error("Client-only method called in server mode");var n,i=this,o=this._state.outgoing;"function"==typeof t.getPublicSSH?(n=t.type,t=t.getPublicSSH()):n=t.toString("ascii",4,4+f(t,0));var s=Buffer.byteLength(e),a=Buffer.byteLength(n),h=t.length,u=o.sessionId.length,l=0,d=Buffer.allocUnsafe((r?4+u:0)+1+4+s+4+14+4+9+1+4+a+4+h);return r?(c(d,u,l),o.sessionId.copy(d,l+=4),d[l+=u]=w.USERAUTH_REQUEST):d[l]=w.USERAUTH_REQUEST,c(d,s,++l),d.write(e,l+=4,s,"utf8"),c(d,14,l+=s),d.write("ssh-connection",l+=4,14,"ascii"),c(d,9,l+=14),d.write("publickey",l+=4,9,"ascii"),d[l+=9]=r?1:0,c(d,a,++l),d.write(n,l+=4,a,"ascii"),c(d,h,l+=a),t.copy(d,l+=4),r?(r(d,function(r){if(!1===(r=Ae(r,n)))throw new Error("Error while converting handshake signature");var o=r.length,f=Buffer.allocUnsafe(5+s+4+14+4+9+1+4+a+4+h+4+4+a+4+o);return f[l=0]=w.USERAUTH_REQUEST,c(f,s,++l),f.write(e,l+=4,s,"utf8"),c(f,14,l+=s),f.write("ssh-connection",l+=4,14,"ascii"),c(f,9,l+=14),f.write("publickey",l+=4,9,"ascii"),f[l+=9]=1,c(f,a,++l),f.write(n,l+=4,a,"ascii"),c(f,h,l+=a),t.copy(f,l+=4),c(f,4+a+4+o,l+=h),c(f,a,l+=4),f.write(n,l+=4,a,"ascii"),c(f,o,l+=a),r.copy(f,l+=4),i._state.authsQueue.push("publickey"),i.debug("DEBUG: Outgoing: Writing USERAUTH_REQUEST (publickey)"),we(i,f)}),!0):(this._state.authsQueue.push("publickey"),this.debug("DEBUG: Outgoing: Writing USERAUTH_REQUEST (publickey -- check)"),we(this,d))},le.prototype.authHostbased=function(e,t,r,n,i){if(this.server)throw new Error("Client-only method called in server mode");var o,s=this,a=this._state.outgoing;"function"==typeof t.getPublicSSH?(o=t.type,t=t.getPublicSSH()):o=t.toString("ascii",4,4+f(t,0));var h=Buffer.byteLength(e),u=Buffer.byteLength(o),l=t.length,d=a.sessionId.length,p=Buffer.byteLength(r),g=Buffer.byteLength(n),m=0,v=Buffer.allocUnsafe(4+d+1+4+h+4+14+4+9+4+u+4+l+4+p+4+g);return c(v,d,m),a.sessionId.copy(v,m+=4),v[m+=d]=w.USERAUTH_REQUEST,c(v,h,++m),v.write(e,m+=4,h,"utf8"),c(v,14,m+=h),v.write("ssh-connection",m+=4,14,"ascii"),c(v,9,m+=14),v.write("hostbased",m+=4,9,"ascii"),c(v,u,m+=9),v.write(o,m+=4,u,"ascii"),c(v,l,m+=u),t.copy(v,m+=4),c(v,p,m+=l),v.write(r,m+=4,p,"ascii"),c(v,g,m+=p),v.write(n,m+=4,g,"utf8"),i(v,function(e){if(!1===(e=Ae(e,o)))throw new Error("Error while converting handshake signature");var t=e.length,r=Buffer.allocUnsafe(v.length-d+t);return v.copy(r,0,4+d),c(r,t,r.length-t-4),e.copy(r,r.length-t),s._state.authsQueue.push("hostbased"),s.debug("DEBUG: Outgoing: Writing USERAUTH_REQUEST (hostbased)"),we(s,r)}),!0},le.prototype.authKeyboard=function(e){if(this.server)throw new Error("Client-only method called in server mode");var t=Buffer.byteLength(e),r=0,n=Buffer.allocUnsafe(5+t+4+14+4+20+4+4);return n[r]=w.USERAUTH_REQUEST,c(n,t,++r),n.write(e,r+=4,t,"utf8"),c(n,14,r+=t),n.write("ssh-connection",r+=4,14,"ascii"),c(n,20,r+=14),n.write("keyboard-interactive",r+=4,20,"ascii"),c(n,0,r+=20),c(n,0,r+=4),this._state.authsQueue.push("keyboard-interactive"),this.debug("DEBUG: Outgoing: Writing USERAUTH_REQUEST (keyboard-interactive)"),we(this,n)},le.prototype.authNone=function(e){if(this.server)throw new Error("Client-only method called in server mode");var t=Buffer.byteLength(e),r=0,n=Buffer.allocUnsafe(5+t+4+14+4+4);return n[r]=w.USERAUTH_REQUEST,c(n,t,++r),n.write(e,r+=4,t,"utf8"),c(n,14,r+=t),n.write("ssh-connection",r+=4,14,"ascii"),c(n,4,r+=14),n.write("none",r+=4,4,"ascii"),this._state.authsQueue.push("none"),this.debug("DEBUG: Outgoing: Writing USERAUTH_REQUEST (none)"),we(this,n)},le.prototype.authInfoRes=function(e){if(this.server)throw new Error("Client-only method called in server mode");var t,r,n,i=0,o=0;if(e)for(n=0,r=e.length;n<r;++n)i+=4+Buffer.byteLength(e[n]);var s=Buffer.allocUnsafe(5+i);if(s[o++]=w.USERAUTH_INFO_RESPONSE,c(s,e?e.length:0,o),e)for(o+=4,n=0,r=e.length;n<r;++n)t=Buffer.byteLength(e[n]),c(s,t,o),o+=4,t&&(s.write(e[n],o,t,"utf8"),o+=t);return this.debug("DEBUG: Outgoing: Writing USERAUTH_INFO_RESPONSE"),we(this,s)},le.prototype.serviceAccept=function(e){if(!this.server)throw new Error("Server-only method called in client mode");var t=e.length,r=Buffer.allocUnsafe(5+t);if(r[0]=w.SERVICE_ACCEPT,c(r,t,1),r.write(e,5,t,"ascii"),this.debug("DEBUG: Outgoing: Writing SERVICE_ACCEPT ("+e+")"),we(this,r),this.server&&this.banner&&"ssh-userauth"===e){var n=Buffer.byteLength(this.banner),i=5+n+4,o=Buffer.allocUnsafe(i);o[0]=w.USERAUTH_BANNER,c(o,n,1),o.write(this.banner,5,n,"utf8"),o.fill(0,i-4),this.debug("DEBUG: Outgoing: Writing USERAUTH_BANNER"),we(this,o),this.banner=void 0}},le.prototype.forwardedTcpip=function(e,t,r,n){if(!this.server)throw new Error("Server-only method called in client mode");var i=Buffer.byteLength(n.boundAddr),o=Buffer.byteLength(n.remoteAddr),s=36+i,a=Buffer.allocUnsafe(36+i+4+4+o+4);return a[0]=w.CHANNEL_OPEN,c(a,15,1),a.write("forwarded-tcpip",5,15,"ascii"),c(a,e,20),c(a,t,24),c(a,r,28),c(a,i,32),a.write(n.boundAddr,36,i,"ascii"),c(a,n.boundPort,s),c(a,o,s+=4),a.write(n.remoteAddr,s+=4,o,"ascii"),c(a,n.remotePort,s+=o),this.debug("DEBUG: Outgoing: Writing CHANNEL_OPEN ("+e+", forwarded-tcpip)"),we(this,a)},le.prototype.x11=function(e,t,r,n){if(!this.server)throw new Error("Server-only method called in client mode");var i=Buffer.byteLength(n.originAddr),o=24+i,s=Buffer.allocUnsafe(24+i+4);return s[0]=w.CHANNEL_OPEN,c(s,3,1),s.write("x11",5,3,"ascii"),c(s,e,8),c(s,t,12),c(s,r,16),c(s,i,20),s.write(n.originAddr,24,i,"ascii"),c(s,n.originPort,o),this.debug("DEBUG: Outgoing: Writing CHANNEL_OPEN ("+e+", x11)"),we(this,s)},le.prototype.openssh_forwardedStreamLocal=function(e,t,r,n){if(!this.server)throw new Error("Server-only method called in client mode");var i=Buffer.byteLength(n.socketPath),o=Buffer.allocUnsafe(54+i+4);return o[0]=w.CHANNEL_OPEN,c(o,33,1),o.write("forwarded-streamlocal@openssh.com",5,33,"ascii"),c(o,e,38),c(o,t,42),c(o,r,46),c(o,i,50),o.write(n.socketPath,54,i,"utf8"),c(o,0,54+i),this.debug("DEBUG: Outgoing: Writing CHANNEL_OPEN ("+e+", forwarded-streamlocal@openssh.com)"),we(this,o)},le.prototype.exitStatus=function(e,t){if(!this.server)throw new Error("Server-only method called in client mode");var r=Buffer.allocUnsafe(25);return r[0]=w.CHANNEL_REQUEST,c(r,e,1),c(r,11,5),r.write("exit-status",9,11,"ascii"),r[20]=0,c(r,t,21),this.debug("DEBUG: Outgoing: Writing CHANNEL_REQUEST ("+e+", exit-status)"),we(this,r)},le.prototype.exitSignal=function(e,t,r,n){if(!this.server)throw new Error("Server-only method called in client mode");var i=Buffer.byteLength(t),o=n?Buffer.byteLength(n):0,s=25+i,a=Buffer.allocUnsafe(25+i+1+4+o+4);return a[0]=w.CHANNEL_REQUEST,c(a,e,1),c(a,11,5),a.write("exit-signal",9,11,"ascii"),a[20]=0,c(a,i,21),a.write(t,25,i,"utf8"),a[s++]=r?1:0,c(a,o,s),s+=4,o&&(a.write(n,s,o,"utf8"),s+=o),c(a,0,s),this.debug("DEBUG: Outgoing: Writing CHANNEL_REQUEST ("+e+", exit-signal)"),we(this,a)},le.prototype.authFailure=function(e,t){if(!this.server)throw new Error("Server-only method called in client mode");var r;if(!this._state.authsQueue.length)throw new Error("No auth in progress");if("boolean"==typeof e&&(t=e,e=void 0),e){r=[];for(var n=0,i=e.length;n<i;++n)"none"!==e[n].toLowerCase()&&r.push(e[n]);r=r.join(",")}else r="";var o=r.length,s=Buffer.allocUnsafe(5+o+1);return s[0]=w.USERAUTH_FAILURE,c(s,o,1),s.write(r,5,o,"ascii"),s[5+o]=!0===t?1:0,this._state.authsQueue.shift(),this.debug("DEBUG: Outgoing: Writing USERAUTH_FAILURE"),we(this,s)},le.prototype.authSuccess=function(){if(!this.server)throw new Error("Server-only method called in client mode");if(!this._state.authsQueue.length)throw new Error("No auth in progress");return this._state.authsQueue.shift(),this.debug("DEBUG: Outgoing: Writing USERAUTH_SUCCESS"),we(this,se)},le.prototype.authPKOK=function(e,t){if(!this.server)throw new Error("Server-only method called in client mode");var r=this._state.authsQueue;if(!r.length||"publickey"!==r[0])throw new Error('"publickey" auth not in progress');var n=e.length,i=t.length,o=Buffer.allocUnsafe(5+n+4+i);return o[0]=w.USERAUTH_PK_OK,c(o,n,1),o.write(e,5,n,"ascii"),c(o,i,5+n),t.copy(o,5+n+4),this._state.authsQueue.shift(),this.debug("DEBUG: Outgoing: Writing USERAUTH_PK_OK"),we(this,o)},le.prototype.authPasswdChg=function(e,t){if(!this.server)throw new Error("Server-only method called in client mode");var r=Buffer.byteLength(e),n=t?t.length:0,i=0,o=Buffer.allocUnsafe(5+r+4+n);return o[i]=w.USERAUTH_PASSWD_CHANGEREQ,c(o,r,++i),o.write(e,i+=4,r,"utf8"),c(o,n,i+=r),n&&o.write(t,i+=4,n,"ascii"),this.debug("DEBUG: Outgoing: Writing USERAUTH_PASSWD_CHANGEREQ"),we(this,o)},le.prototype.authInfoReq=function(e,t,r){if(!this.server)throw new Error("Server-only method called in client mode");var n,i,o,s,a=0,h=e?Buffer.byteLength(e):0,f=t?Buffer.byteLength(t):0,u=0;for(s=0,o=r.length;s<o;++s)a+=4+Buffer.byteLength(r[s].prompt)+1;var l=Buffer.allocUnsafe(5+h+4+f+4+4+a);for(l[u++]=w.USERAUTH_INFO_REQUEST,c(l,h,u),u+=4,e&&(l.write(e,u,h,"utf8"),u+=h),c(l,f,u),u+=4,t&&(l.write(t,u,f,"utf8"),u+=f),c(l,0,u),u+=4,c(l,r.length,u),u+=4,s=0,o=r.length;s<o;++s)i=r[s],n=Buffer.byteLength(i.prompt),c(l,n,u),u+=4,n&&(l.write(i.prompt,u,n,"utf8"),u+=n),l[u++]=i.echo?1:0;return this.debug("DEBUG: Outgoing: Writing USERAUTH_INFO_REQUEST"),we(this,l)};var Te="function"==typeof n.timingSafeEqual?function(e,t){return e.length!==t.length?(n.timingSafeEqual(e,e),!1):n.timingSafeEqual(e,t)}:function(e,t){var r;e.length===t.length?r=0:(r=1,t=e);for(var n=0,i=e.length;n<i;++n)r|=e[n]^t[n];return 0===r};e.exports=le,e.exports._send=we},function(e,t){e.exports=require("zlib")},function(e,t,r){var n=r(8).EventEmitter;function i(e,t,r,n,i){for(var o=0;o<i;++o,++t,++n)if(e[t]!==r[n])return!1;return!0}function o(e){"string"==typeof e&&(e=new Buffer(e));var t,r,n=e.length;for(this.maxMatches=1/0,this.matches=0,this._occ=new Array(256),this._lookbehind_size=0,this._needle=e,this._bufpos=0,this._lookbehind=new Buffer(n),r=0;r<256;++r)this._occ[r]=n;if(n>=1)for(t=0;t<n-1;++t)this._occ[e[t]]=n-1-t}(0,r(4).inherits)(o,n),o.prototype.reset=function(){this._lookbehind_size=0,this.matches=0,this._bufpos=0},o.prototype.push=function(e,t){var r,n;for(Buffer.isBuffer(e)||(e=new Buffer(e,"binary")),n=e.length,this._bufpos=t||0;r!==n&&this.matches<this.maxMatches;)r=this._sbmh_feed(e);return r},o.prototype._sbmh_feed=function(e){var t=e.length,r=this._needle,n=r.length,o=-this._lookbehind_size,s=r[n-1],a=this._occ,h=this._lookbehind;if(o<0){for(;o<0&&o<=t-n;){if((c=this._sbmh_lookup_char(e,o+n-1))===s&&this._sbmh_memcmp(e,o,n-1))return this._lookbehind_size=0,++this.matches,o>-this._lookbehind_size?this.emit("info",!0,h,0,this._lookbehind_size+o):this.emit("info",!0),this._bufpos=o+n,o+n;o+=a[c]}if(o<0)for(;o<0&&!this._sbmh_memcmp(e,o,t-o);)o++;if(!(o>=0)){var f=this._lookbehind_size+o;return f>0&&this.emit("info",!1,h,0,f),h.copy(h,0,f,this._lookbehind_size-f),this._lookbehind_size-=f,e.copy(h,this._lookbehind_size),this._lookbehind_size+=t,this._bufpos=t,t}this.emit("info",!1,h,0,this._lookbehind_size),this._lookbehind_size=0}for(o>=0&&(o+=this._bufpos);o<=t-n;){var c;if((c=e[o+n-1])===s&&e[o]===r[0]&&i(r,0,e,o,n-1))return++this.matches,o>0?this.emit("info",!0,e,this._bufpos,o):this.emit("info",!0),this._bufpos=o+n,o+n;o+=a[c]}if(o<t){for(;o<t&&(e[o]!==r[0]||!i(e,o,r,0,t-o));)++o;o<t&&(e.copy(h,0,o,o+(t-o)),this._lookbehind_size=t-o)}return o>0&&this.emit("info",!1,e,this._bufpos,o<t?o:t),this._bufpos=t,t},o.prototype._sbmh_lookup_char=function(e,t){return t<0?this._lookbehind[this._lookbehind_size+t]:e[t]},o.prototype._sbmh_memcmp=function(e,t,r){for(var n=0;n<r;){if(this._sbmh_lookup_char(e,t+n)!==this._needle[n])return!1;++n}return!0},e.exports=o},function(e){e.exports={_args:[["ssh2-streams@0.4.4","C:\\Users\\aarato\\Documents\\node\\gssh"]],_from:"ssh2-streams@0.4.4",_id:"ssh2-streams@0.4.4",_inBundle:!1,_integrity:"sha512-yNfPZgJO/N69TvYkpDHZBkXAXQzTpfzRkOphQu3PeUpZnrjp9VNa8RKDZkZDpjsWItay+I4NMAbZZ7DqHRt0AQ==",_location:"/ssh2-streams",_phantomChildren:{},_requested:{type:"version",registry:!0,raw:"ssh2-streams@0.4.4",name:"ssh2-streams",escapedName:"ssh2-streams",rawSpec:"0.4.4",saveSpec:null,fetchSpec:"0.4.4"},_requiredBy:["/ssh2"],_resolved:"https://registry.npmjs.org/ssh2-streams/-/ssh2-streams-0.4.4.tgz",_spec:"0.4.4",_where:"C:\\Users\\aarato\\Documents\\node\\gssh",author:{name:"Brian White",email:"mscdex@mscdex.net"},bugs:{url:"https://github.com/mscdex/ssh2-streams/issues"},dependencies:{asn1:"~0.2.0","bcrypt-pbkdf":"^1.0.2",streamsearch:"~0.1.2"},description:"SSH2 and SFTP(v3) client/server protocol streams for node.js",engines:{node:">=5.2.0"},homepage:"https://github.com/mscdex/ssh2-streams#readme",keywords:["ssh","ssh2","sftp","secure","protocol","streams","client","server"],licenses:[{type:"MIT",url:"http://github.com/mscdex/ssh2-streams/raw/master/LICENSE"}],main:"./index",name:"ssh2-streams",repository:{type:"git",url:"git+ssh://git@github.com/mscdex/ssh2-streams.git"},scripts:{test:"node test/test.js"},version:"0.4.4"}},function(e,t,r){var n,i=r(127).Agent,o=r(33).Agent,s=r(4).inherits;function a(e,t){var i=e&&e.localAddress||this._defaultSrcIP,o=e&&e.localPort||0,s=e.host,a=e.port;void 0===n&&(n=r(64).Client);var f=new n,c=!1;f.on("ready",()=>{f.forwardOut(i,o,s,a,(e,r)=>{if(c=!0,e)return f.end(),t(e);r.once("close",()=>{f.end()}),t(null,function(e){return e.setKeepAlive=h,e.setNoDelay=h,e.setTimeout=h,e.ref=h,e.unref=h,e.destroySoon=e.destroy,e}(r))})}).on("error",t).on("close",()=>{c||t(new Error("Unexpected connection loss"))}).connect(this._connectCfg)}function h(){}[i,o].forEach(e=>{function r(t,n){if(!(this instanceof r))return new r(t,n);e.call(this,n),this._connectCfg=t,this._defaultSrcIP=n&&n.srcIP||"localhost"}s(r,e),r.prototype.createConnection=a,t[e===i?"SSHTTPAgent":"SSHTTPSAgent"]=r})},function(e,t){e.exports=require("http")},function(e,t,r){var n=r(28).Socket,i=r(8).EventEmitter,o=r(4).inherits,s=r(3),a=r(0),h=r(129),f=r(19).readUInt32BE,c=r(19).writeUInt32BE,u=r(19).writeUInt32LE,l=11,d=12,p=13,g=14,m=5,v=/^\!<socket >(\d+) s ([A-Z0-9]{8}\-[A-Z0-9]{8}\-[A-Z0-9]{8}\-[A-Z0-9]{8})/,y=/^[\/\\][\/\\]\.[\/\\]pipe[\/\\].+/;if(e.exports=function(e,t,r,i,o){var s,_,E,w,S,k,A,T,B=0,O=Buffer.isBuffer(t),N=0,R=0,C=0,U=0,x=!1;function I(){var e;if(O){var r=9;e=Buffer.allocUnsafe(9+B+4+w+4),c(e,e.length-4,0),e[4]=p,c(e,B,5),t.copy(e,r),c(e,w,r+=B),i.copy(e,r+=4),c(e,0,r+=w),s.write(e)}else s.write(Buffer.from([0,0,0,1,l]))}function D(e){for(var r=0,n=e.length;r<n;++r)if(void 0===S)5==++N&&(S=e[r],N=0);else if(S===g)if(E){if(E[N]=e[r],++N===R)return s.removeAllListeners("data"),s.destroy()}else R<<=8,R+=e[r],4==++N&&(E=Buffer.allocUnsafe(R),N=0);else if(S===d)if(void 0===k){if(C<<=8,C+=e[r],4==++N&&(k=new Array(C),N=0,0===C))return s.removeAllListeners("data"),s.destroy()}else if(t)if(!1===x){if(t[N]=e[r],++N===B&&(k[C-1]=t,B=0,N=0,x=!0,0==--C))return t=void 0,s.removeAllListeners("data"),s.destroy()}else!0===x?(U<<=8,U+=e[r],4==++N&&(N=0,U>0?x=U:(t=void 0,x=!1),U=0)):++N===x&&(x=!1,N=0,t=void 0);else B<<=8,B+=e[r],4==++N&&(t=Buffer.allocUnsafe(B),N=0);else if(S===m)return _=O?new Error("Agent unable to sign data"):new Error("Unable to retrieve list of keys from agent"),s.removeAllListeners("data"),s.destroy()}function L(e){_=e}function P(){_?o(_):O&&!E||!O&&!k?o(new Error("Unexpected disconnection from agent")):O&&E?o(void 0,E):!O&&k&&o(void 0,k)}if("function"==typeof t&&"function"==typeof r?(A=t,T=r):O?(B=t.length,w=i.length):(o=t,t=void 0),"win32"!==process.platform||y.test(e))s=new n;else{if("pageant"!==e){var H=!1;return void a.readFile(e,function t(r,i){if(r)return H?o(new Error("Invalid cygwin unix socket path")):void h.exec('cygpath -w "'+e+'"',function(r,n,i){if(r||0===n.length)return o(new Error("Invalid cygwin unix socket path"));H=!0,e=n.toString().replace(/[\r\n]/g,""),a.readFile(e,t)});var c;if(c=v.exec(i.toString("ascii"))){var l,d,p,g,m,y,_=0,E=!1,b=[],w=Buffer.allocUnsafe(12);for(w.fill(0),l=parseInt(c[1],10),d=c[2].replace(/\-/g,""),p=Buffer.allocUnsafe(16),m=0,y=0;y<32;++m,y+=2)p[m]=parseInt(d.substring(y,y+2),16);for(m=0;m<16;m+=4)u(p,f(p,m),m);function S(){_=0,g="secret",s.write(p)}function k(e){_+=e.length,"secret"===g?16===_&&(_=0,g="creds",s.write(w)):"creds"===g&&(E||b.push(e),12===_&&(s.removeListener("connect",S),s.removeListener("data",k),s.removeListener("close",A),E?(M(),s.emit("connect")):(E=!0,w=Buffer.concat(b),u(w,process.pid,0),s.destroy(),T())))}function A(){o(new Error("Problem negotiating cygwin unix socket security"))}function T(){(s=new n).once("connect",S),s.on("data",k),s.once("close",A),s.connect(l)}T()}else o(new Error("Malformed cygwin unix socket file"))})}s=new b}function M(){var e;A||T?(s.once("connect",function(){e=A();var t=!1;function r(){t||(s.destroy(),t=!0)}e.once("end",r).once("close",r).on("data",function(e){s.write(e)}),s.on("data",function(t){e.write(t)})}),s.once("close",function(){e||T()})):(s.once("connect",I),s.on("data",D),s.once("error",L),s.once("close",P))}M(),s.connect(e)},"win32"===process.platform){var _={},E=s.resolve(__dirname,"..","util/pagent.exe");function b(){this.proc=void 0,this.buffer=null}_[10]=new Error("Invalid pagent.exe arguments"),_[11]=new Error("Pageant is not running"),_[12]=new Error("pagent.exe could not create an mmap"),_[13]=new Error("pagent.exe could not set mode for stdin"),_[14]=new Error("pagent.exe could not set mode for stdout"),_[15]=new Error("pagent.exe did not get expected input payload"),o(b,i),b.prototype.write=function(e){if(null===this.buffer?this.buffer=e:this.buffer=Buffer.concat([this.buffer,e],this.buffer.length+e.length),!(this.buffer.length<4)){var t=f(this.buffer,0);if(!(this.buffer.length-4<t)){e=this.buffer.slice(0,4+t),this.buffer.length>4+t?this.buffer=this.buffer.slice(4+t):this.buffer=null;var r,n=this,i=!1;(r=this.proc=h.spawn(E,[e.length])).stdout.on("data",function(e){n.emit("data",e)}),r.once("error",function(e){i||(i=!0,n.emit("error",e))}),r.once("close",function(e){n.proc=void 0,_[e]&&!i&&(i=!0,n.emit("error",_[e])),n.emit("close",i)}),r.stdin.end(e)}}},b.prototype.end=b.prototype.destroy=function(){this.buffer=null,this.proc&&(this.proc.kill(),this.proc=void 0)},b.prototype.connect=function(){this.emit("connect")}}},function(e,t){e.exports=require("child_process")},function(e,t,r){var n=r(4).inherits,i=r(8).EventEmitter;function o(e){var t=this;i.call(this),this._stream=e,e.on("error",function(e){t.emit("error",e)}).on("end",function(){t.emit("end")}).on("close",function(){t.emit("close")}).on("continue",function(){t.emit("continue")})}n(o,i),o.prototype.end=function(){return this._stream.end()},o.prototype.createReadStream=function(e,t){return this._stream.createReadStream(e,t)},o.prototype.createWriteStream=function(e,t){return this._stream.createWriteStream(e,t)},o.prototype.open=function(e,t,r,n){return this._stream.open(e,t,r,n)},o.prototype.close=function(e,t){return this._stream.close(e,t)},o.prototype.read=function(e,t,r,n,i,o){return this._stream.readData(e,t,r,n,i,o)},o.prototype.write=function(e,t,r,n,i,o){return this._stream.writeData(e,t,r,n,i,o)},o.prototype.fastGet=function(e,t,r,n){return this._stream.fastGet(e,t,r,n)},o.prototype.fastPut=function(e,t,r,n){return this._stream.fastPut(e,t,r,n)},o.prototype.readFile=function(e,t,r){return this._stream.readFile(e,t,r)},o.prototype.writeFile=function(e,t,r,n){return this._stream.writeFile(e,t,r,n)},o.prototype.appendFile=function(e,t,r,n){return this._stream.appendFile(e,t,r,n)},o.prototype.exists=function(e,t){return this._stream.exists(e,t)},o.prototype.unlink=function(e,t){return this._stream.unlink(e,t)},o.prototype.rename=function(e,t,r){return this._stream.rename(e,t,r)},o.prototype.mkdir=function(e,t,r){return this._stream.mkdir(e,t,r)},o.prototype.rmdir=function(e,t){return this._stream.rmdir(e,t)},o.prototype.readdir=function(e,t,r){return this._stream.readdir(e,t,r)},o.prototype.fstat=function(e,t){return this._stream.fstat(e,t)},o.prototype.stat=function(e,t){return this._stream.stat(e,t)},o.prototype.lstat=function(e,t){return this._stream.lstat(e,t)},o.prototype.opendir=function(e,t){return this._stream.opendir(e,t)},o.prototype.setstat=function(e,t,r){return this._stream.setstat(e,t,r)},o.prototype.fsetstat=function(e,t,r){return this._stream.fsetstat(e,t,r)},o.prototype.futimes=function(e,t,r,n){return this._stream.futimes(e,t,r,n)},o.prototype.utimes=function(e,t,r,n){return this._stream.utimes(e,t,r,n)},o.prototype.fchown=function(e,t,r,n){return this._stream.fchown(e,t,r,n)},o.prototype.chown=function(e,t,r,n){return this._stream.chown(e,t,r,n)},o.prototype.fchmod=function(e,t,r){return this._stream.fchmod(e,t,r)},o.prototype.chmod=function(e,t,r){return this._stream.chmod(e,t,r)},o.prototype.readlink=function(e,t){return this._stream.readlink(e,t)},o.prototype.symlink=function(e,t,r){return this._stream.symlink(e,t,r)},o.prototype.realpath=function(e,t){return this._stream.realpath(e,t)},o.prototype.ext_openssh_rename=function(e,t,r){return this._stream.ext_openssh_rename(e,t,r)},o.prototype.ext_openssh_statvfs=function(e,t){return this._stream.ext_openssh_statvfs(e,t)},o.prototype.ext_openssh_fstatvfs=function(e,t){return this._stream.ext_openssh_fstatvfs(e,t)},o.prototype.ext_openssh_hardlink=function(e,t,r){return this._stream.ext_openssh_hardlink(e,t,r)},o.prototype.ext_openssh_fsync=function(e,t){return this._stream.ext_openssh_fsync(e,t)},e.exports=o},function(e,t,r){var n,i=r(28),o=r(8).EventEmitter,s=o.listenerCount,a=r(4).inherits,h=r(29),f=h.utils.parseKey,c=h.SSH2Stream,u=h.SFTPStream,l=h.constants,d=l.DISCONNECT_REASON,p=l.CHANNEL_OPEN_FAILURE,g=l.ALGORITHMS,m=r(68),v=r(132),y=r(19).writeUInt32BE,_=Math.pow(2,32)-1,E=10;function b(e,t){if(!(this instanceof b))return new b(e,t);var r,a={"ssh-rsa":null,"ssh-dss":null,"ssh-ed25519":null,"ecdsa-sha2-nistp256":null,"ecdsa-sha2-nistp384":null,"ecdsa-sha2-nistp521":null},h=e.hostKeys;if(!Array.isArray(h))throw new Error("hostKeys must be an array");for(r=0;r<h.length;++r){var u;if((u=Buffer.isBuffer(h[r])||"string"==typeof h[r]?f(h[r]):f(h[r].key,h[r].passphrase))instanceof Error)throw new Error("Cannot parse privateKey: "+u.message);if(Array.isArray(u)&&(u=u[0]),null===u.getPrivatePEM())throw new Error("privateKey value contains an invalid private key");a[u.type]||(a[u.type]=u)}var l={kex:void 0,kexBuf:void 0,cipher:void 0,cipherBuf:void 0,serverHostKey:void 0,serverHostKeyBuf:void 0,hmac:void 0,hmacBuf:void 0,compress:void 0,compressBuf:void 0};if("object"==typeof e.algorithms&&null!==e.algorithms){var p,m;if(m=e.algorithms.kex,Array.isArray(m)&&m.length>0){for(p=g.SUPPORTED_KEX,r=0;r<m.length;++r)if(-1===p.indexOf(m[r]))throw new Error("Unsupported key exchange algorithm: "+m[r]);l.kex=m}if(m=e.algorithms.cipher,Array.isArray(m)&&m.length>0){for(p=g.SUPPORTED_CIPHER,r=0;r<m.length;++r)if(-1===p.indexOf(m[r]))throw new Error("Unsupported cipher algorithm: "+m[r]);l.cipher=m}m=e.algorithms.serverHostKey;var y=!1;if(Array.isArray(m)&&m.length>0){for(p=g.SUPPORTED_SERVER_HOST_KEY,r=m.length-1;r>=0;--r){if(-1===p.indexOf(m[r]))throw new Error("Unsupported server host key algorithm: "+m[r]);a[m[r]]||(y||(m=m.slice(),y=!0),m.splice(r,1))}m.length>0&&(l.serverHostKey=m)}if(m=e.algorithms.hmac,Array.isArray(m)&&m.length>0){for(p=g.SUPPORTED_HMAC,r=0;r<m.length;++r)if(-1===p.indexOf(m[r]))throw new Error("Unsupported HMAC algorithm: "+m[r]);l.hmac=m}if(m=e.algorithms.compress,Array.isArray(m)&&m.length>0){for(p=g.SUPPORTED_COMPRESS,r=0;r<m.length;++r)if(-1===p.indexOf(m[r]))throw new Error("Unsupported compression algorithm: "+m[r]);l.compress=m}}if(void 0===l.serverHostKey){var _=Object.keys(a);for(r=_.length-1;r>=0;--r)a[_[r]]||_.splice(r,1);l.serverHostKey=_}!n&&b.KEEPALIVE_INTERVAL>0&&b.KEEPALIVE_CLIENT_INTERVAL>0&&b.KEEPALIVE_CLIENT_COUNT_MAX>=0&&(n=new v(b.KEEPALIVE_INTERVAL,b.KEEPALIVE_CLIENT_INTERVAL,b.KEEPALIVE_CLIENT_COUNT_MAX));var E=this;o.call(this),"function"==typeof t&&E.on("connection",t);var S,k,A={algorithms:l,hostKeys:a,server:!0};for(r=0,k=(S=Object.keys(e)).length;r<k;++r){var T=S[r];"privateKey"!==T&&"publicKey"!==T&&"passphrase"!==T&&"algorithms"!==T&&"hostKeys"!==T&&"server"!==T&&(A[T]=e[T])}if("function"==typeof A.debug)var B=A.debug,O=Object.keys(A);this._srv=new i.Server(function(e){if(E._connections>=E.maxConnections)e.destroy();else{++E._connections,e.once("close",function(e){--E._connections,o.read()}).on("error",function(e){o.reset(),o.emit("error",e)});var t=A;if(B){t={};for(var r,n=0;n<O.length;++n)t[r=O[n]]=A[r];var i="["+process.hrtime().join(".")+"] ";t.debug=function(e){B(i+e)}}var o=new c(t),a=new w(o,e);e.pipe(o).pipe(e),a.on("error",h),o.once("header",function(t){if(!o._readableState.ended){if(!s(E,"connection"))return o.disconnect(d.BY_APPLICATION);a.removeListener("error",h),E.emit("connection",a,{ip:e.remoteAddress,family:e.remoteFamily,port:e.remotePort,header:t})}})}function h(e){}}).on("error",function(e){E.emit("error",e)}).on("listening",function(){E.emit("listening")}).on("close",function(){E.emit("close")}),this._connections=0,this.maxConnections=1/0}function w(e,t){o.call(this);var r=this;this._sshstream=e;var i=this._channels={};this._curChan=-1,this._sock=t,this.noMoreSessions=!1,this.authenticated=!1,e.on("end",function(){t.resume(),r.emit("end")}).on("close",function(e){r.emit("close",e)}).on("error",function(e){r.emit("error",e)}).on("drain",function(){r.emit("drain")}).on("continue",function(){r.emit("continue")});var a,h=0,f=!1,c=[];function u(t,n,i,o){if(0===h||a&&(a.username!==t||a.service!==n)||"password"!==i&&"publickey"!==i&&"hostbased"!==i&&"keyboard-interactive"!==i&&"none"!==i||c.length===E)return e.disconnect(d.PROTOCOL_ERROR);if("ssh-connection"!==n)return e.disconnect(d.SERVICE_NOT_AVAILABLE);var f;if(e._state.authMethod=i,"keyboard-interactive"===i?f=new T(e,t,n,i,o,l):"publickey"===i?f=new B(e,t,n,i,o,l):"hostbased"===i?f=new O(e,t,n,i,o,l):"password"===i?f=new N(e,t,n,i,o,l):"none"===i&&(f=new k(e,t,n,i,l)),a){if(!a._initialResponse)return c.push(f);a._multistep&&!this._finalResponse&&(a._cleanup&&a._cleanup(),a.emit("abort"))}a=f,s(r,"authentication")?r.emit("authentication",a):a.reject()}function l(t,n,i,o){a!==t||r.authenticated||(n?(e.removeListener("USERAUTH_REQUEST",u),a=void 0,r.authenticated=!0,e.authSuccess(),c=[],r.emit("ready")):(e.authFailure(i,o),c.length&&(a=c.pop(),s(r,"authentication")?r.emit("authentication",a):a.reject())))}e.on("SERVICE_REQUEST",function(t){if(0===h||f||r.authenticated||"ssh-userauth"!==t)return e.disconnect(d.SERVICE_NOT_AVAILABLE);f=!0,e.serviceAccept(t)}).on("USERAUTH_REQUEST",u);var g=[];e.on("GLOBAL_REQUEST",function(t,n,i){var o={type:null,buf:null};function a(t,r){o.type=t,o.buf=r,function(){for(var t;g.length>0&&g[0].type;)"SUCCESS"===(t=g.shift()).type&&e.requestSuccess(t.buf),"FAILURE"===t.type&&e.requestFailure()}()}if(n&&g.push(o),("tcpip-forward"===t||"cancel-tcpip-forward"===t||"no-more-sessions@openssh.com"===t||"streamlocal-forward@openssh.com"===t||"cancel-streamlocal-forward@openssh.com"===t)&&s(r,"request")&&r.authenticated){var h,f;if(n){var c=!1;h=function(e){var r;c||(c=!0,"tcpip-forward"===t&&0===i.bindPort&&"number"==typeof e&&(r=Buffer.allocUnsafe(4),y(r,e,0)),a("SUCCESS",r))},f=function(){c||(c=!0,a("FAILURE"))}}if("no-more-sessions@openssh.com"===t)return r.noMoreSessions=!0,void(h&&h());r.emit("request",h,f,t,i)}else n&&a("FAILURE")}),e.on("CHANNEL_OPEN",function(t){if("session"===t.type&&r.noMoreSessions||!r.authenticated){var n=p.ADMINISTRATIVELY_PROHIBITED;return e.channelOpenFail(t.sender,n)}var o,a,h=C(r),f=!1;if(!1===h)return e.channelOpenFail(t.sender,p.RESOURCE_SHORTAGE);switch(i[h]=!0,a=function(){if(!f){f=!0,delete i[h];var r=p.ADMINISTRATIVELY_PROHIBITED;return e.channelOpenFail(t.sender,r)}},t.type){case"session":s(r,"session")?(o=function(){if(!f)return f=!0,e.channelOpenConfirm(t.sender,h,m.MAX_WINDOW,m.PACKET_SIZE),new S(r,t,h)},r.emit("session",o,a)):a();break;case"direct-tcpip":s(r,"tcpip")?(o=function(){if(!f){f=!0,e.channelOpenConfirm(t.sender,h,m.MAX_WINDOW,m.PACKET_SIZE);var n={type:void 0,incoming:{id:h,window:m.MAX_WINDOW,packetSize:m.PACKET_SIZE,state:"open"},outgoing:{id:t.sender,window:t.window,packetSize:t.packetSize,state:"open"}};return new m(n,r)}},r.emit("tcpip",o,a,t.data)):a();break;case"direct-streamlocal@openssh.com":s(r,"openssh.streamlocal")?(o=function(){if(!f){f=!0,e.channelOpenConfirm(t.sender,h,m.MAX_WINDOW,m.PACKET_SIZE);var n={type:void 0,incoming:{id:h,window:m.MAX_WINDOW,packetSize:m.PACKET_SIZE,state:"open"},outgoing:{id:t.sender,window:t.window,packetSize:t.packetSize,state:"open"}};return new m(n,r)}},r.emit("openssh.streamlocal",o,a,t.data)):a();break;default:a()}}),e.on("NEWKEYS",function(){++h>1&&r.emit("rekey")}),n&&this.once("ready",function(){n.add(e)})}function S(e,t,r){this.subtype=void 0;var n,i=!1,o=this,a=t.sender,h={type:"session",incoming:{id:r,window:m.MAX_WINDOW,packetSize:m.PACKET_SIZE,state:"open"},outgoing:{id:t.sender,window:t.window,packetSize:t.packetSize,state:"open"}};e._sshstream.on("CHANNEL_REQUEST:"+r,function(t){var r,f,c=!1;if(t.wantReply&&("shell"!==t.request&&"exec"!==t.request&&"subsystem"!==t.request&&(r=function(){if(!(c||i||n))return c=!0,e._sshstream.channelSuccess(a)}),f=function(){if(!(c||i||n))return c=!0,e._sshstream.channelFailure(a)}),i)f&&f();else switch(t.request){case"env":s(o,"env")?o.emit("env",r,f,{key:t.key,val:t.val}):f&&f();break;case"pty-req":s(o,"pty")?o.emit("pty",r,f,{cols:t.cols,rows:t.rows,width:t.width,height:t.height,term:t.term,modes:t.modes}):f&&f();break;case"window-change":s(o,"window-change")?o.emit("window-change",r,f,{cols:t.cols,rows:t.rows,width:t.width,height:t.height}):f&&f();break;case"x11-req":s(o,"x11")?o.emit("x11",r,f,{single:t.single,protocol:t.protocol,cookie:t.cookie,screen:t.screen}):f&&f();break;case"signal":s(o,"signal")?o.emit("signal",r,f,{name:t.signal}):f&&f();break;case"auth-agent-req@openssh.com":s(o,"auth-agent")?o.emit("auth-agent",r,f):f&&f();break;case"shell":s(o,"shell")?(r=function(){if(!(c||i||n))return c=!0,t.wantReply&&e._sshstream.channelSuccess(a),(n=new m(h,e,{server:!0})).subtype=o.subtype=t.request,n},o.emit("shell",r,f)):f&&f();break;case"exec":s(o,"exec")?(r=function(){if(!(c||i||n))return c=!0,t.wantReply&&e._sshstream.channelSuccess(a),(n=new m(h,e,{server:!0})).subtype=o.subtype=t.request,n},o.emit("exec",r,f,{command:t.command})):f&&f();break;case"subsystem":r=function(){if(!(c||i||n)){if(c=!0,t.wantReply&&e._sshstream.channelSuccess(a),(n=new m(h,e,{server:!0})).subtype=o.subtype=t.request+":"+t.subsystem,"sftp"===t.subsystem){var r=new u({server:!0,debug:e._sshstream.debug});return n.pipe(r).pipe(n),r}return n}},"sftp"===t.subsystem&&s(o,"sftp")?o.emit("sftp",r,f):"sftp"!==t.subsystem&&s(o,"subsystem")?o.emit("subsystem",r,f,{name:t.subsystem}):f&&f();break;default:f&&f()}}).once("CHANNEL_EOF:"+r,function(){i=!0,o.emit("eof"),o.emit("end")}).once("CHANNEL_CLOSE:"+r,function(){i=!0,o.emit("close")})}function k(e,t,r,n,i){o.call(this);var s=this;this.username=this.user=t,this.service=r,this.method=n,this._initialResponse=!1,this._finalResponse=!1,this._multistep=!1,this._cbfinal=function(e,t,r){s._finalResponse||(s._finalResponse=!0,i(s,e,t,r))},this._stream=e}a(b,o),b.prototype.listen=function(){return this._srv.listen.apply(this._srv,arguments),this},b.prototype.address=function(){return this._srv.address()},b.prototype.getConnections=function(e){this._srv.getConnections(e)},b.prototype.close=function(e){return this._srv.close(e),this},b.prototype.ref=function(){this._srv.ref()},b.prototype.unref=function(){this._srv.unref()},a(w,o),w.prototype.end=function(){return this._sshstream.disconnect(d.BY_APPLICATION)},w.prototype.x11=function(e,t,r){return R(this,"x11",{originAddr:e,originPort:t},r)},w.prototype.forwardOut=function(e,t,r,n,i){return R(this,"forwarded-tcpip",{boundAddr:e,boundPort:t,remoteAddr:r,remotePort:n},i)},w.prototype.openssh_forwardOutStreamLocal=function(e,t){return R(this,"forwarded-streamlocal@openssh.com",{socketPath:e},t)},w.prototype.rekey=function(e){var t,r=this._sshstream,n=!0;try{n=r.rekey()}catch(e){t=e}return"function"==typeof e&&(t?process.nextTick(function(){e(t)}):this.once("rekey",e)),n},a(S,o),a(k,o),k.prototype.accept=function(){this._cleanup&&this._cleanup(),this._initialResponse=!0,this._cbfinal(!0)},k.prototype.reject=function(e,t){this._cleanup&&this._cleanup(),this._initialResponse=!0,this._cbfinal(!1,e,t)};var A=/[ \t\r\n]*,[ \t\r\n]*/g;function T(e,t,r,n,i,o){k.call(this,e,t,r,n,o),this._multistep=!0;var s=this;this._cb=void 0,this._onInfoResponse=function(e){if(s._cb){var t=s._cb;s._cb=void 0,t(e)}},this.submethods=i.split(A),this.on("abort",function(){s._cb&&s._cb(new Error("Authentication request aborted"))})}function B(e,t,r,n,i,o){var s;if(k.call(this,e,t,r,n,o),this.key={algo:i.keyAlgo,data:i.key},this.signature=i.signature,this.signature)switch(i.keyAlgo){case"ssh-rsa":case"ssh-dss":s="sha1";break;case"ssh-ed25519":s=null;break;case"ecdsa-sha2-nistp256":s="sha256";break;case"ecdsa-sha2-nistp384":s="sha384";break;case"ecdsa-sha2-nistp521":s="sha512"}this.sigAlgo=s,this.blob=i.blob}function O(e,t,r,n,i,o){var s;if(k.call(this,e,t,r,n,o),this.key={algo:i.keyAlgo,data:i.key},this.signature=i.signature,this.signature)switch(i.keyAlgo){case"ssh-rsa":case"ssh-dss":s="sha1";break;case"ssh-ed25519":s=null;break;case"ecdsa-sha2-nistp256":s="sha256";break;case"ecdsa-sha2-nistp384":s="sha384";break;case"ecdsa-sha2-nistp521":s="sha512"}this.sigAlgo=s,this.blob=i.blob,this.localHostname=i.localHostname,this.localUsername=i.localUsername}function N(e,t,r,n,i,o){k.call(this,e,t,r,n,o),this.password=i}function R(e,t,r,n){var i=C(e),o=m.MAX_WINDOW,s=m.PACKET_SIZE,a=!0;if(!1===i)return n(new Error("No free channels available"));"function"==typeof r&&(n=r,r={}),e._channels[i]=!0;var h=e._sshstream;return h.once("CHANNEL_OPEN_CONFIRMATION:"+i,function(r){h.removeAllListeners("CHANNEL_OPEN_FAILURE:"+i);var a={type:t,incoming:{id:i,window:o,packetSize:s,state:"open"},outgoing:{id:r.sender,window:r.window,packetSize:r.packetSize,state:"open"}};n(void 0,new m(a,e,{server:!0}))}).once("CHANNEL_OPEN_FAILURE:"+i,function(t){h.removeAllListeners("CHANNEL_OPEN_CONFIRMATION:"+i),delete e._channels[i];var r=new Error("(SSH) Channel open failure: "+t.description);r.reason=t.reason,r.lang=t.lang,n(r)}),"forwarded-tcpip"===t?a=h.forwardedTcpip(i,o,s,r):"x11"===t?a=h.x11(i,o,s,r):"forwarded-streamlocal@openssh.com"===t&&(a=h.openssh_forwardedStreamLocal(i,o,s,r)),a}function C(e){if(e._curChan<_)return++e._curChan;for(var t=0,r=e._channels;t<_;++t)if(!r[t])return t;return!1}a(T,k),T.prototype._cleanup=function(){this._stream.removeListener("USERAUTH_INFO_RESPONSE",this._onInfoResponse)},T.prototype.prompt=function(e,t,r,n){Array.isArray(e)||(e=[e]),"function"==typeof t?(n=t,t=r=void 0):"function"==typeof r&&(n=r,r=void 0);for(var i=0;i<e.length;++i)"string"==typeof e[i]&&(e[i]={prompt:e[i],echo:!0});return this._cb=n,this._initialResponse=!0,this._stream.once("USERAUTH_INFO_RESPONSE",this._onInfoResponse),this._stream.authInfoReq(t,r,e)},a(B,k),B.prototype.accept=function(){this.signature?k.prototype.accept.call(this):(this._initialResponse=!0,this._stream.authPKOK(this.key.algo,this.key.data))},a(O,k),a(N,k),b.createServer=function(e,t){return new b(e,t)},b.KEEPALIVE_INTERVAL=1e3,b.KEEPALIVE_CLIENT_INTERVAL=15e3,b.KEEPALIVE_CLIENT_COUNT_MAX=3,e.exports=b,e.exports.IncomingClient=w},function(e,t){function r(e,t){for(var r=t,n=r+1,i=e.length;n<i;r+=1,n+=1)e[r]=e[n];e.pop()}function n(e,t,n){var i=this._streams=[];this._timer=void 0,this._timerInterval=e,this._timerfn=function(){for(var e,o,s=Date.now(),a=0,h=i.length;a<h;++a)if((o=(e=i[a])._kalast)&&s-o>=t)if(++e._kacnt>n){var f=new Error("Keepalive timeout");f.level="client-timeout",e.emit("error",f),e.disconnect(),r(i,a),--a,h=i.length}else e._kalast=s,e.ping()}}n.prototype.start=function(){this._timer&&this.stop(),this._timer=setInterval(this._timerfn,this._timerInterval)},n.prototype.stop=function(){this._timer&&(clearInterval(this._timer),this._timer=void 0)},n.prototype.add=function(e){var t=this._streams,r=this;function n(){e._kalast=Date.now(),e._kacnt=0}e.once("end",function(){r.remove(e)}).on("packet",n),t[t.length]=e,n(),this._timer||this.start()},n.prototype.remove=function(e){var t=this._streams,n=t.indexOf(e);n>-1&&r(t,n),t.length||this.stop()},e.exports=n},function(e,t,r){"use strict";r.r(t);var n=r(2),i=r.n(n),o=r(0),s=r.n(o),a=r(3),h=r.n(a),f=(r(69),r(70),r(33)),c=r.n(f);const{net:u}=n.remote||i.a;u?u.request:c.a.get;const{BrowserWindow:l}=n.remote||i.a;let d={};const p=()=>h.a.resolve((()=>{const e=(n.remote||i.a).app.getPath("userData");return h.a.resolve(`${e}/extensions`)})(),"IDMap.json");if(s.a.existsSync(p()))try{d=JSON.parse(s.a.readFileSync(p(),"utf8"))}catch(e){console.error("electron-devtools-installer: Invalid JSON present in the IDMap file")}var g=r(71),m=e=>{n.protocol.registerBufferProtocol(e,(t,r)=>{let n=new g.URL(t.url).pathname;n=decodeURI(n),Object(o.readFile)(a.join(__dirname,n),(t,i)=>{t&&console.error(`Failed to register ${e} protocol`,t);let o=a.extname(n).toLowerCase(),s="";".js"===o?s="text/javascript":".html"===o?s="text/html":".css"===o?s="text/css":".svg"===o||".svgz"===o?s="image/svg+xml":".json"===o&&(s="application/json"),r({mimeType:s,data:i})})},t=>{t&&console.error(`Failed to register ${e} protocol`,t)})};let v;function y(){v=new n.BrowserWindow({width:1200,height:800,webPreferences:{nodeIntegration:!0}}),process.env.WEBPACK_DEV_SERVER_URL?(v.loadURL(process.env.WEBPACK_DEV_SERVER_URL),process.env.IS_TEST||v.webContents.openDevTools()):(m("app"),v.loadURL("app://./index.html")),v.on("closed",()=>{v=null})}n.protocol.registerSchemesAsPrivileged([{scheme:"app",privileges:{secure:!0,standard:!0}}]),n.app.on("window-all-closed",()=>{"darwin"!==process.platform&&n.app.quit()}),n.app.on("activate",()=>{null===v&&y()}),n.app.on("ready",async()=>{y()}),n.ipcMain.on("TerminalOpen",(e,t,i,o,s)=>{!function(e,t,i,o){var s=new(0,r(64).Client);s.on("ready",()=>{let t=o+"OpenAck";console.log(`SSH Connection to ${e} with terminalID ${t} acknowledged!`),v.webContents.send(t,"\r\n*** SSH CONNECTION ESTABLISHED ***\r\n"),s.shell(function(e,t){if(e)return v.webContents.send(o,"\r\n*** SSH SHELL ERROR: "+e.message+" ***\r\n"),!1;n.ipcMain.on(o,(e,r)=>{console.log(`Received ${r} from terminal ${o}`),t.write(r)}),n.ipcMain.on(o+"Close",(e,t)=>{console.log(`Received Close Connection from terminal ${o}`),s.end()}),t.on("data",function(e){v.webContents.send(o,e.toString("binary"))}).on("close",function(){s.end()})})}).on("close",function(){v.webContents.send(o+"Close","\r\n*** SSH CONNECTION CLOSED ***\r\n")}).on("error",function(e){v.webContents.send(o+"Error","\r\n*** SSH CONNECTION ERROR: "+e.message+" ***\r\n")}).on("keyboard-interactive",function(e,t,r,n,o){o([i])}).connect({host:e,username:t,password:i,algorithms:{kex:["ecdh-sha2-nistp256","ecdh-sha2-nistp384","ecdh-sha2-nistp521","diffie-hellman-group-exchange-sha256","diffie-hellman-group14-sha1","diffie-hellman-group-exchange-sha1","diffie-hellman-group1-sha1"],cipher:["aes128-ctr","aes192-ctr","aes256-ctr","aes128-gcm","aes256-gcm","aes256-cbc","aes192-cbc","aes128-cbc","blowfish-cbc","3des-cbc","arcfour256","arcfour128","cast128-cbc","arcfour"],hmac:["hmac-sha2-256","hmac-sha2-512","hmac-sha1","hmac-md5","hmac-sha2-256-96","hmac-sha2-512-96","hmac-ripemd160","hmac-sha1-96","hmac-md5-96"],serverHostKey:["ssh-rsa","ecdsa-sha2-nistp256","ecdsa-sha2-nistp384","ecdsa-sha2-nistp521","ssh-dss"]},tryKeyboard:!0})}(t,i,o,s)})}]);